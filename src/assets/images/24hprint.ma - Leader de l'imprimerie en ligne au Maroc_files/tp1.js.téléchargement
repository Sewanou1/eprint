if(!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(w,e){"use strict";function m(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function g(e){return null!=e&&e===e.window}var t=[],i=Object.getPrototypeOf,r=t.slice,_=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},l=t.push,s=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,u=a.call(Object),b={},x=w.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function q(e,t,i){var n,s,o=(i=i||x).createElement("script");if(o.text=e,t)for(n in c)(s=t[n]||t.getAttribute&&t.getAttribute(n))&&o.setAttribute(n,s);i.head.appendChild(o).parentNode.removeChild(o)}function f(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var d="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function h(e){var t=!!e&&"length"in e&&e.length,i=f(e);return!m(e)&&!g(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:d,constructor:S,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=S.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return S.each(this,e)},map:function(i){return this.pushStack(S.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,i,n,s,o=arguments[0]||{},a=1,r=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||m(o)||(o={}),a===r&&(o=this,a--);a<r;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&o!==i&&(l&&i&&(S.isPlainObject(i)||(n=Array.isArray(i)))?(s=o[t],s=n&&!Array.isArray(s)?[]:n||S.isPlainObject(s)?s:{},n=!1,o[t]=S.extend(l,s,i)):void 0!==i&&(o[t]=i));return o},S.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==o.call(e)||(e=i(e))&&("function"!=typeof(e=v.call(e,"constructor")&&e.constructor)||a.call(e)!==u))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,i){q(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(h(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(h(Object(e))?S.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,i){return null==t?-1:s.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;n<i;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,i){for(var n=[],s=0,o=e.length,a=!i;s<o;s++)!t(e[s],s)!=a&&n.push(e[s]);return n},map:function(e,t,i){var n,s,o=0,a=[];if(h(e))for(n=e.length;o<n;o++)null!=(s=t(e[o],o,i))&&a.push(s);else for(o in e)null!=(s=t(e[o],o,i))&&a.push(s);return _(a)},guid:1,support:b}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(i){function d(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function h(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function n(){w()}var e,p,q,o,s,f,m,g,y,l,u,w,x,a,S,_,r,c,v,C="sizzle"+ +new Date,b=i.document,D=0,k=0,E=le(),T=le(),I=le(),P=le(),A=function(e,t){return e===t&&(u=!0),0},F={}.hasOwnProperty,t=[],O=t.pop,M=t.push,N=t.push,R=t.slice,L=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+U+"*("+B+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+U+"*\\]",j=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",W=new RegExp(U+"+","g"),Y=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),V=new RegExp("^"+U+"*,"+U+"*"),G=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),$=new RegExp(U+"|>"),X=new RegExp(j),K=new RegExp("^"+B+"$"),Z={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,ee=/^h\d$/i,te=/^[^{]+\{\s*\[native \w/,ie=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,se=new RegExp("\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\([^\\r\\n\\f])","g"),oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(t=R.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){N={apply:t.length?function(e,t){M.apply(e,R.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,i,n){var s,o,a,r,l,u,c=t&&t.ownerDocument,d=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return i;if(!n&&(w(t),t=t||x,S)){if(11!==d&&(r=ie.exec(e)))if(u=r[1]){if(9===d){if(!(o=t.getElementById(u)))return i;if(o.id===u)return i.push(o),i}else if(c&&(o=c.getElementById(u))&&v(t,o)&&o.id===u)return i.push(o),i}else{if(r[2])return N.apply(i,t.getElementsByTagName(e)),i;if((u=r[3])&&p.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(u)),i}if(p.qsa&&!P[e+" "]&&(!_||!_.test(e))&&(1!==d||"object"!==t.nodeName.toLowerCase())){if(u=e,c=t,1===d&&($.test(e)||G.test(e))){for((c=ne.test(e)&&me(t.parentNode)||t)===t&&p.scope||((a=t.getAttribute("id"))?a=a.replace(oe,h):t.setAttribute("id",a=C)),s=(l=f(e)).length;s--;)l[s]=(a?"#"+a:":scope")+" "+_e(l[s]);u=l.join(",")}try{return N.apply(i,c.querySelectorAll(u)),i}catch(t){P(e,!0)}finally{a===C&&t.removeAttribute("id")}}}return g(e.replace(Y,"$1"),t,i,n)}function le(){var n=[];return function e(t,i){return n.push(t+" ")>q.cacheLength&&delete e[n.shift()],e[t+" "]=i}}function ue(e){return e[C]=!0,e}function ce(e){var t=x.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var i=e.split("|"),n=i.length;n--;)q.attrHandle[i[n]]=t}function he(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function pe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function fe(a){return ue(function(o){return o=+o,ue(function(e,t){for(var i,n=a([],e.length,o),s=n.length;s--;)e[i=n[s]]&&(e[i]=!(t[i]=e[i]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=re.support={},s=re.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||e&&e.nodeName||"HTML")},w=re.setDocument=function(e){var t,e=e?e.ownerDocument||e:b;return e!=x&&9===e.nodeType&&e.documentElement&&(a=(x=e).documentElement,S=!s(x),b!=x&&(t=x.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",n,!1):t.attachEvent&&t.attachEvent("onunload",n)),p.scope=ce(function(e){return a.appendChild(e).appendChild(x.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),p.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ce(function(e){return e.appendChild(x.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=te.test(x.getElementsByClassName),p.getById=ce(function(e){return a.appendChild(e).id=C,!x.getElementsByName||!x.getElementsByName(C).length}),p.getById?(q.filter.ID=function(e){var t=e.replace(se,d);return function(e){return e.getAttribute("id")===t}},q.find.ID=function(e,t){if(void 0!==t.getElementById&&S){e=t.getElementById(e);return e?[e]:[]}}):(q.filter.ID=function(e){var t=e.replace(se,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},q.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var i,n,s,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(s=t.getElementsByName(e),n=0;o=s[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),q.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;i=o[s++];)1===i.nodeType&&n.push(i);return n},q.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},r=[],_=[],(p.qsa=te.test(x.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+U+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+U+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+C+"-]").length||_.push("~="),(t=x.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||_.push("\\["+U+"*name"+U+"*="+U+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||_.push(".#.+[+~]"),e.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=x.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+U+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(p.matchesSelector=te.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){p.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),r.push("!=",j)}),_=_.length&&new RegExp(_.join("|")),r=r.length&&new RegExp(r.join("|")),t=te.test(a.compareDocumentPosition),v=t||te.test(a.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(i.contains?i.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){return e===t?(u=!0,0):(i=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===i?e==x||e.ownerDocument==b&&v(b,e)?-1:t==x||t.ownerDocument==b&&v(b,t)?1:l?L(l,e)-L(l,t):0:4&i?-1:1);var i}:function(e,t){if(e===t)return u=!0,0;var i,n=0,s=e.parentNode,o=t.parentNode,a=[e],r=[t];if(!s||!o)return e==x?-1:t==x?1:s?-1:o?1:l?L(l,e)-L(l,t):0;if(s===o)return he(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)r.unshift(i);for(;a[n]===r[n];)n++;return n?he(a[n],r[n]):a[n]==b?-1:r[n]==b?1:0}),x},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if(w(e),p.matchesSelector&&S&&!P[t+" "]&&(!r||!r.test(t))&&(!_||!_.test(t)))try{var i=c.call(e,t);if(i||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){P(t,!0)}return 0<re(t,x,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!=x&&w(e),v(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!=x&&w(e);var i=q.attrHandle[t.toLowerCase()],i=i&&F.call(q.attrHandle,t.toLowerCase())?i(e,t,!S):void 0;return void 0!==i?i:p.attributes||!S?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},re.escape=function(e){return(e+"").replace(oe,h)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],n=0,s=0;if(u=!p.detectDuplicates,l=!p.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return l=null,e},o=re.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},(q=re.selectors={cacheLength:50,createPseudo:ue,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(se,d),e[3]=(e[3]||e[4]||e[5]||"").replace(se,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&X.test(i)&&(t=f(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(se,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+U+")"+e+"("+U+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(e){e=re.attr(e,t);return null==e?"!="===i:!i||(e+="","="===i?e===n:"!="===i?e!==n:"^="===i?n&&0===e.indexOf(n):"*="===i?n&&-1<e.indexOf(n):"$="===i?n&&e.slice(-n.length)===n:"~="===i?-1<(" "+e.replace(W," ")+" ").indexOf(n):"|="===i&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(f,e,t,m,g){var _="nth"!==f.slice(0,3),v="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,i){var n,s,o,a,r,l,u=_!=v?"nextSibling":"previousSibling",c=e.parentNode,d=b&&e.nodeName.toLowerCase(),h=!i&&!b,p=!1;if(c){if(_){for(;u;){for(a=e;a=a[u];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(p=(r=(n=(s=(o=(a=c)[C]||(a[C]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===D&&n[1])&&n[2],a=r&&c.childNodes[r];a=++r&&a&&a[u]||(p=r=0)||l.pop();)if(1===a.nodeType&&++p&&a===e){s[f]=[D,r,p];break}}else if(!1===(p=h?r=(n=(s=(o=(a=e)[C]||(a[C]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===D&&n[1]:p))for(;(a=++r&&a&&a[u]||(p=r=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++p||(h&&((s=(o=a[C]||(a[C]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]=[D,p]),a!==e)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,o){var t,a=q.pseudos[e]||q.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return a[C]?a(o):1<a.length?(t=[e,e,"",o],q.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,t){for(var i,n=a(e,o),s=n.length;s--;)e[i=L(e,n[s])]=!(t[i]=n[s])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ue(function(e){var n=[],s=[],r=m(e.replace(Y,"$1"));return r[C]?ue(function(e,t,i,n){for(var s,o=r(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,t,i){return n[0]=e,r(n,null,i,s),n[0]=null,!s.pop()}}),has:ue(function(t){return function(e){return 0<re(t,e).length}}),contains:ue(function(t){return t=t.replace(se,d),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:ue(function(i){return K.test(i||"")||re.error("unsupported lang: "+i),i=i.replace(se,d).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!q.pseudos.empty(e)},header:function(e){return ee.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,i){return[i<0?i+t:i]}),even:fe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:fe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:fe(function(e,t,i){for(var n=i<0?i+t:t<i?t:i;0<=--n;)e.push(n);return e}),gt:fe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=q.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})q.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})q.pseudos[e]=function(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}(e);function ge(){}function _e(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ve(a,e,t){var r=e.dir,l=e.next,u=l||r,c=t&&"parentNode"===u,d=k++;return e.first?function(e,t,i){for(;e=e[r];)if(1===e.nodeType||c)return a(e,t,i);return!1}:function(e,t,i){var n,s,o=[D,d];if(i){for(;e=e[r];)if((1===e.nodeType||c)&&a(e,t,i))return!0}else for(;e=e[r];)if(1===e.nodeType||c)if(n=(s=e[C]||(e[C]={}))[e.uniqueID]||(s[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[r]||e;else{if((s=n[u])&&s[0]===D&&s[1]===d)return o[2]=s[2];if((n[u]=o)[2]=a(e,t,i))return!0}return!1}}function be(s){return 1<s.length?function(e,t,i){for(var n=s.length;n--;)if(!s[n](e,t,i))return!1;return!0}:s[0]}function qe(e,t,i,n,s){for(var o,a=[],r=0,l=e.length,u=null!=t;r<l;r++)(o=e[r])&&(i&&!i(o,n,s)||(a.push(o),u&&t.push(r)));return a}function ye(e){for(var n,t,i,s=e.length,o=q.relative[e[0].type],a=o||q.relative[" "],r=o?1:0,l=ve(function(e){return e===n},a,!0),u=ve(function(e){return-1<L(n,e)},a,!0),c=[function(e,t,i){i=!o&&(i||t!==y)||((n=t).nodeType?l:u)(e,t,i);return n=null,i}];r<s;r++)if(t=q.relative[e[r].type])c=[ve(be(c),t)];else{if((t=q.filter[e[r].type].apply(null,e[r].matches))[C]){for(i=++r;i<s&&!q.relative[e[i].type];i++);return function e(p,f,m,g,_,t){return g&&!g[C]&&(g=e(g)),_&&!_[C]&&(_=e(_,t)),ue(function(e,t,i,n){var s,o,a,r=[],l=[],u=t.length,c=e||function(e,t,i){for(var n=0,s=t.length;n<s;n++)re(e,t[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!e&&f?c:qe(c,r,p,i,n),h=m?_||(e?p:u||g)?[]:t:d;if(m&&m(d,h,i,n),g)for(s=qe(h,l),g(s,[],i,n),o=s.length;o--;)(a=s[o])&&(h[l[o]]=!(d[l[o]]=a));if(e){if(_||p){if(_){for(s=[],o=h.length;o--;)(a=h[o])&&s.push(d[o]=a);_(null,h=[],s,n)}for(o=h.length;o--;)(a=h[o])&&-1<(s=_?L(e,a):r[o])&&(e[s]=!(t[s]=a))}}else h=qe(h===t?h.splice(u,h.length):h),_?_(null,t,h,n):N.apply(t,h)})}(1<r&&be(c),1<r&&_e(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(Y,"$1"),t,r<i&&ye(e.slice(r,i)),i<s&&ye(e=e.slice(i)),i<s&&_e(e))}c.push(t)}return be(c)}return ge.prototype=q.filters=q.pseudos,q.setFilters=new ge,f=re.tokenize=function(e,t){var i,n,s,o,a,r,l,u=T[e+" "];if(u)return t?0:u.slice(0);for(a=e,r=[],l=q.preFilter;a;){for(o in i&&!(n=V.exec(a))||(n&&(a=a.slice(n[0].length)||a),r.push(s=[])),i=!1,(n=G.exec(a))&&(i=n.shift(),s.push({value:i,type:n[0].replace(Y," ")}),a=a.slice(i.length)),q.filter)!(n=Z[o].exec(a))||l[o]&&!(n=l[o](n))||(i=n.shift(),s.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?re.error(e):T(e,r).slice(0)},m=re.compile=function(e,t){var i,g,_,v,b,n,s=[],o=[],a=I[e+" "];if(!a){for(i=(t=t||f(e)).length;i--;)((a=ye(t[i]))[C]?s:o).push(a);(a=I(e,(v=0<(_=s).length,b=0<(g=o).length,n=function(e,t,i,n,s){var o,a,r,l=0,u="0",c=e&&[],d=[],h=y,p=e||b&&q.find.TAG("*",s),f=D+=null==h?1:Math.random()||.1,m=p.length;for(s&&(y=t==x||t||s);u!==m&&null!=(o=p[u]);u++){if(b&&o){for(a=0,t||o.ownerDocument==x||(w(o),i=!S);r=g[a++];)if(r(o,t||x,i)){n.push(o);break}s&&(D=f)}v&&((o=!r&&o)&&l--,e&&c.push(o))}if(l+=u,v&&u!==l){for(a=0;r=_[a++];)r(c,d,t,i);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=O.call(n));d=qe(d)}N.apply(n,d),s&&!e&&0<d.length&&1<l+_.length&&re.uniqueSort(n)}return s&&(D=f,y=h),c},v?ue(n):n))).selector=e}return a},g=re.select=function(e,t,i,n){var s,o,a,r,l,u="function"==typeof e&&e,c=!n&&f(e=u.selector||e);if(i=i||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&S&&q.relative[o[1].type]){if(!(t=(q.find.ID(a.matches[0].replace(se,d),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(s=Z.needsContext.test(e)?0:o.length;s--&&(a=o[s],!q.relative[r=a.type]);)if((l=q.find[r])&&(n=l(a.matches[0].replace(se,d),ne.test(o[0].type)&&me(t.parentNode)||t))){if(o.splice(s,1),!(e=n.length&&_e(o)))return N.apply(i,n),i;break}}return(u||m(e,c))(n,t,!S,i,!t||ne.test(e)&&me(t.parentNode)||t),i},p.sortStable=C.split("").sort(A).join("")===C,p.detectDuplicates=!!u,w(),p.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(x.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||de(H,function(e,t,i){if(!i)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),re}(w);S.find=p,S.expr=p.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=p.uniqueSort,S.text=p.getText,S.isXMLDoc=p.isXML,S.contains=p.contains,S.escapeSelector=p.escape;function y(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&S(e).is(i))break;n.push(e)}return n}function C(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}var D=S.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,i,n){return m(i)?S.grep(e,function(e,t){return!!i.call(e,t,e)!==n}):i.nodeType?S.grep(e,function(e){return e===i!==n}):"string"!=typeof i?S.grep(e,function(e){return-1<s.call(i,e)!==n}):S.filter(i,e,n)}S.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?S.find.matchesSelector(n,e)?[n]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,i,n=this.length,s=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<n;t++)if(S.contains(s[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)S.find(e,s[t],i);return 1<n?S.uniqueSort(i):i},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&D.test(e)?S(e):e||[],!1).length}});var I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,i){if(!e)return this;if(i=i||P,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==i.ready?i.ready(e):e(S):S.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:I.exec(e))||!n[1]&&t)return(!t||t.jquery?t||i:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),E.test(n[1])&&S.isPlainObject(t))for(var n in t)m(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(e=x.getElementById(n[2]))&&(this[0]=e,this.length=1),this}).prototype=S.fn;var P=S(x),A=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,s=this.length,o=[],a="string"!=typeof e&&S(e);if(!D.test(e))for(;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?-1<a.index(i):1===i.nodeType&&S.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(S(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return y(e,"parentNode")},parentsUntil:function(e,t,i){return y(e,"parentNode",i)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return y(e,"nextSibling")},prevAll:function(e){return y(e,"previousSibling")},nextUntil:function(e,t,i){return y(e,"nextSibling",i)},prevUntil:function(e,t,i){return y(e,"previousSibling",i)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(n,s){S.fn[n]=function(e,t){var i=S.map(this,s,e);return(t="Until"!==n.slice(-5)?e:t)&&"string"==typeof t&&(i=S.filter(t,i)),1<this.length&&(F[n]||S.uniqueSort(i),A.test(n)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function N(e){return e}function R(e){throw e}function L(e,t,i,n){var s;try{e&&m(s=e.promise)?s.call(e).done(t).fail(i):e&&m(s=e.then)?s.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}S.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},S.each(e.match(M)||[],function(e,t){i[t]=!0}),i):S.extend({},n);function s(){for(r=r||n.once,a=o=!0;u.length;c=-1)for(t=u.shift();++c<l.length;)!1===l[c].apply(t[0],t[1])&&n.stopOnFalse&&(c=l.length,t=!1);n.memory||(t=!1),o=!1,r&&(l=t?[]:"")}var o,t,a,r,l=[],u=[],c=-1,d={add:function(){return l&&(t&&!o&&(c=l.length-1,u.push(t)),function i(e){S.each(e,function(e,t){m(t)?n.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==f(t)&&i(t)})}(arguments),t&&!o&&s()),this},remove:function(){return S.each(arguments,function(e,t){for(var i;-1<(i=S.inArray(t,l,i));)l.splice(i,1),i<=c&&c--}),this},has:function(e){return e?-1<S.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return r=u=[],l=t="",this},disabled:function(){return!l},lock:function(){return r=u=[],t||o||(l=t=""),this},locked:function(){return!!r},fireWith:function(e,t){return r||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),o||s()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],s="pending",a={state:function(){return s},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var s=arguments;return S.Deferred(function(n){S.each(o,function(e,t){var i=m(s[t[4]])&&s[t[4]];r[t[1]](function(){var e=i&&i.apply(this,arguments);e&&m(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),s=null}).promise()},then:function(t,i,n){var l=0;function u(s,o,a,r){return function(){function e(){var e,t;if(!(s<l)){if((e=a.apply(i,n))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?r?t.call(e,u(l,o,N,r),u(l,o,R,r)):(l++,t.call(e,u(l,o,N,r),u(l,o,R,r),u(l,o,N,o.notifyWith))):(a!==N&&(i=void 0,n=[e]),(r||o.resolveWith)(i,n))}}var i=this,n=arguments,t=r?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),l<=s+1&&(a!==R&&(i=void 0,n=[e]),o.rejectWith(i,n))}};s?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),w.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(u(0,e,m(n)?n:N,e.notifyWith)),o[1][3].add(u(0,e,m(t)?t:N)),o[2][3].add(u(0,e,m(i)?i:R))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},r={};return S.each(o,function(e,t){var i=t[2],n=t[5];a[t[1]]=i.add,n&&i.add(function(){s=n},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),i.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=i.fireWith}),a.promise(r),e&&e.call(r,r),r},when:function(e){function t(t){return function(e){s[t]=this,o[t]=1<arguments.length?r.call(arguments):e,--i||a.resolveWith(s,o)}}var i=arguments.length,n=i,s=Array(n),o=r.call(arguments),a=S.Deferred();if(i<=1&&(L(e,a.done(t(n)).resolve,a.reject,!i),"pending"===a.state()||m(o[n]&&o[n].then)))return a.then();for(;n--;)L(o[n],t(n),a.reject);return a.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){w.console&&w.console.warn&&e&&H.test(e.name)&&w.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){w.setTimeout(function(){throw e})};var U=S.Deferred();function B(){x.removeEventListener("DOMContentLoaded",B),w.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return U.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||U.resolveWith(x,[S])}}),S.ready.then=U.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?w.setTimeout(S.ready):(x.addEventListener("DOMContentLoaded",B),w.addEventListener("load",B));function z(e,t,i,n,s,o,a){var r=0,l=e.length,u=null==i;if("object"===f(i))for(r in s=!0,i)z(e,t,r,i[r],!0,o,a);else if(void 0!==n&&(s=!0,m(n)||(a=!0),t=u?a?(t.call(e,n),null):(u=t,function(e,t,i){return u.call(S(e),i)}):t))for(;r<l;r++)t(e[r],i,a?n:n.call(e[r],r,t(e[r],i)));return s?e:u?t.call(e):l?t(e[0],i):o}var j=/^-ms-/,W=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function V(e){return e.replace(j,"ms-").replace(W,Y)}function G(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function $(){this.expando=S.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,s=this.cache(e);if("string"==typeof t)s[V(t)]=i;else for(n in t)s[V(n)]=t[n];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(V):(t=V(t))in n?[t]:t.match(M)||[]).length;for(;i--;)delete n[t[i]]}void 0!==t&&!S.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var X=new $,K=new $,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function J(e,t,i){var n,s;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(s=i)||"false"!==s&&("null"===s?null:s===+s+""?+s:Z.test(s)?JSON.parse(s):s)}catch(e){}K.set(e,t,i)}else i=void 0;return i}S.extend({hasData:function(e){return K.hasData(e)||X.hasData(e)},data:function(e,t,i){return K.access(e,t,i)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,i){return X.access(e,t,i)},_removeData:function(e,t){X.remove(e,t)}}),S.fn.extend({data:function(i,e){var t,n,s,o=this[0],a=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){K.set(this,i)}):z(this,function(e){var t;return o&&void 0===e?void 0!==(t=K.get(o,i))||void 0!==(t=J(o,i))?t:void 0:void this.each(function(){K.set(this,i,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(s=K.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(n=a[t].name).indexOf("data-")&&(n=V(n.slice(5)),J(o,n,s[n]));X.set(o,"hasDataAttrs",!0)}return s},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),S.extend({queue:function(e,t,i){var n;if(e)return n=X.get(e,t=(t||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=X.access(e,t,S.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=S.queue(e,t),n=i.length,s=i.shift(),o=S._queueHooks(e,t);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,function(){S.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return X.get(e,i)||X.access(e,i,{empty:S.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",i])})})}}),S.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===i?this:this.each(function(){var e=S.queue(this,t,i);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--s||o.resolveWith(a,[a])}var n,s=1,o=S.Deferred(),a=this,r=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=X.get(a[r],e+"queueHooks"))&&n.empty&&(s++,n.empty.add(i));return i(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ne=x.documentElement,se=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};ne.getRootNode&&(se=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});function ae(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===S.css(e,"display")}function re(e,t,i,n){var s,o,a=20,r=n?function(){return n.cur()}:function(){return S.css(e,t,"")},l=r(),u=i&&i[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==u&&+l)&&te.exec(S.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;a--;)S.style(e,t,c+u),(1-o)*(1-(o=r()/l||.5))<=0&&(a=0),c/=o;S.style(e,t,(c*=2)+u),i=i||[]}return i&&(c=+c||+l||0,s=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=s)),s}var le={};function ue(e,t){for(var i,n,s,o,a,r,l=[],u=0,c=e.length;u<c;u++)(n=e[u]).style&&(i=n.style.display,t?("none"===i&&(l[u]=X.get(n,"display")||null,l[u]||(n.style.display="")),""===n.style.display&&ae(n)&&(l[u]=(r=o=s=void 0,o=n.ownerDocument,a=n.nodeName,(r=le[a])||(s=o.body.appendChild(o.createElement(a)),r=S.css(s,"display"),s.parentNode.removeChild(s),le[a]=r="none"===r?"block":r)))):"none"!==i&&(l[u]="none",X.set(n,"display",i)));for(u=0;u<c;u++)null!=l[u]&&(e[u].style.display=l[u]);return e}S.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,d=x.createDocumentFragment().appendChild(x.createElement("div"));(p=x.createElement("input")).setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),d.appendChild(p),b.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",b.option=!!d.lastChild;var pe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&k(e,t)?S.merge([e],i):i}function me(e,t){for(var i=0,n=e.length;i<n;i++)X.set(e[i],"globalEval",!t||X.get(t[i],"globalEval"))}pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td,b.option||(pe.optgroup=pe.option=[1,"<select multiple='multiple'>","</select>"]);var ge=/<|&#?\w+;/;function _e(e,t,i,n,s){for(var o,a,r,l,u,c=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===f(o))S.merge(d,o.nodeType?[o]:o);else if(ge.test(o)){for(a=a||c.appendChild(t.createElement("div")),r=(de.exec(o)||["",""])[1].toLowerCase(),r=pe[r]||pe._default,a.innerHTML=r[1]+S.htmlPrefilter(o)+r[2],u=r[0];u--;)a=a.lastChild;S.merge(d,a.childNodes),(a=c.firstChild).textContent=""}else d.push(t.createTextNode(o));for(c.textContent="",h=0;o=d[h++];)if(n&&-1<S.inArray(o,n))s&&s.push(o);else if(l=se(o),a=fe(c.appendChild(o),"script"),l&&me(a),i)for(u=0;o=a[u++];)he.test(o.type||"")&&i.push(o);return c}var ve=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function qe(){return!1}function ye(e,t){return e===function(){try{return x.activeElement}catch(e){}}()==("focus"===t)}function we(e,t,i,n,s,o){var a,r;if("object"==typeof t){for(r in"string"!=typeof i&&(n=n||i,i=void 0),t)we(e,r,i,n,t[r],o);return e}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=qe;else if(!s)return e;return 1===o&&(a=s,(s=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,s,n,i)})}function xe(e,s,o){o?(X.set(e,s,!1),S.event.add(e,s,{namespace:!1,handler:function(e){var t,i,n=X.get(this,s);if(1&e.isTrigger&&this[s]){if(n.length)(S.event.special[s]||{}).delegateType&&e.stopPropagation();else if(n=r.call(arguments),X.set(this,s,n),t=o(this,s),this[s](),n!==(i=X.get(this,s))||t?X.set(this,s,!1):i={},n!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else n.length&&(X.set(this,s,{value:S.event.trigger(S.extend(n[0],S.Event.prototype),n.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,s)&&S.event.add(e,s,be)}S.event={global:{},add:function(t,e,i,n,s){var o,a,r,l,u,c,d,h,p,f=X.get(t);if(G(t))for(i.handler&&(i=(o=i).handler,s=o.selector),s&&S.find.matchesSelector(ne,s),i.guid||(i.guid=S.guid++),(r=f.events)||(r=f.events=Object.create(null)),(a=f.handle)||(a=f.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(M)||[""]).length;l--;)d=p=(u=ve.exec(e[l])||[])[1],h=(u[2]||"").split(".").sort(),d&&(c=S.event.special[d]||{},d=(s?c.delegateType:c.bindType)||d,c=S.event.special[d]||{},u=S.extend({type:d,origType:p,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&S.expr.match.needsContext.test(s),namespace:h.join(".")},o),(p=r[d])||((p=r[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,h,a)||t.addEventListener&&t.addEventListener(d,a)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),s?p.splice(p.delegateCount++,0,u):p.push(u),S.event.global[d]=!0)},remove:function(e,t,i,n,s){var o,a,r,l,u,c,d,h,p,f,m,g=X.hasData(e)&&X.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(M)||[""]).length;u--;)if(p=m=(r=ve.exec(t[u])||[])[1],f=(r[2]||"").split(".").sort(),p){for(d=S.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!s&&m!==c.origType||i&&i.guid!==c.guid||r&&!r.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||S.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)S.event.remove(e,p+t[u],i,n,!0);S.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,i,n,s,o,a=new Array(arguments.length),r=S.event.fix(e),l=(X.get(this,"events")||Object.create(null))[r.type]||[],e=S.event.special[r.type]||{};for(a[0]=r,t=1;t<arguments.length;t++)a[t]=arguments[t];if(r.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,r)){for(o=S.event.handlers.call(this,r,l),t=0;(n=o[t++])&&!r.isPropagationStopped();)for(r.currentTarget=n.elem,i=0;(s=n.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!1!==s.namespace&&!r.rnamespace.test(s.namespace)||(r.handleObj=s,r.data=s.data,void 0!==(s=((S.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,a))&&!1===(r.result=s)&&(r.preventDefault(),r.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,r),r.result}},handlers:function(e,t){var i,n,s,o,a,r=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[s=(n=t[i]).selector+" "]&&(a[s]=n.needsContext?-1<S(s,this).index(u):S.find(s,this,null,[u]).length),a[s]&&o.push(n);o.length&&r.push({elem:u,handlers:o})}return u=this,l<t.length&&r.push({elem:u,handlers:t.slice(l)}),r},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return ce.test(e.type)&&e.click&&k(e,"input")&&xe(e,"click",be),!1},trigger:function(e){e=this||e;return ce.test(e.type)&&e.click&&k(e,"input")&&xe(e,"click"),!0},_default:function(e){e=e.target;return ce.test(e.type)&&e.click&&k(e,"input")&&X.get(e,"click")||k(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return xe(this,e,ye),!1},trigger:function(){return xe(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,s){S.event.special[e]={delegateType:s,bindType:s,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||S.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=s),t}}}),S.fn.extend({on:function(e,t,i,n){return we(this,e,t,i,n)},one:function(e,t,i,n){return we(this,e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,S(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=qe),this.each(function(){S.event.remove(this,e,i,t)});for(s in e)this.off(s,t,e[s]);return this}});var Se=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ke(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Ee(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var i,n,s,o;if(1===t.nodeType){if(X.hasData(e)&&(o=X.get(e).events))for(s in X.remove(t,"handle events"),o)for(i=0,n=o[s].length;i<n;i++)S.event.add(t,s,o[s][i]);K.hasData(e)&&(e=K.access(e),e=S.extend({},e),K.set(t,e))}}function Pe(i,n,s,o){n=_(n);var e,t,a,r,l,u,c=0,d=i.length,h=d-1,p=n[0],f=m(p);if(f||1<d&&"string"==typeof p&&!b.checkClone&&Ce.test(p))return i.each(function(e){var t=i.eq(e);f&&(n[0]=p.call(this,e,t.html())),Pe(t,n,s,o)});if(d&&(t=(e=_e(n,i[0].ownerDocument,!1,i,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(r=(a=S.map(fe(e,"script"),Ee)).length;c<d;c++)l=e,c!==h&&(l=S.clone(l,!0,!0),r&&S.merge(a,fe(l,"script"))),s.call(i[c],l,c);if(r)for(u=a[a.length-1].ownerDocument,S.map(a,Te),c=0;c<r;c++)l=a[c],he.test(l.type||"")&&!X.access(l,"globalEval")&&S.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):q(l.textContent.replace(De,""),l,u))}return i}function Ae(e,t,i){for(var n,s=t?S.filter(t,e):e,o=0;null!=(n=s[o]);o++)i||1!==n.nodeType||S.cleanData(fe(n)),n.parentNode&&(i&&se(n)&&me(fe(n,"script")),n.parentNode.removeChild(n));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,s,o,a,r,l,u,c=e.cloneNode(!0),d=se(e);if(!(b.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=fe(c),n=0,s=(o=fe(e)).length;n<s;n++)r=o[n],"input"===(u=(l=a[n]).nodeName.toLowerCase())&&ce.test(r.type)?l.checked=r.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=r.defaultValue);if(t)if(i)for(o=o||fe(e),a=a||fe(c),n=0,s=o.length;n<s;n++)Ie(o[n],a[n]);else Ie(e,c);return 0<(a=fe(c,"script")).length&&me(a,!d&&fe(e,"script")),c},cleanData:function(e){for(var t,i,n,s=S.event.special,o=0;void 0!==(i=e[o]);o++)if(G(i)){if(t=i[X.expando]){if(t.events)for(n in t.events)s[n]?S.event.remove(i,n):S.removeEvent(i,n,t.handle);i[X.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Ae(this,e,!0)},remove:function(e){return Ae(this,e)},text:function(e){return z(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ke(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=ke(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!pe[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(S.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return Pe(this,arguments,function(e){var t=this.parentNode;S.inArray(this,i)<0&&(S.cleanData(fe(this)),t&&t.replaceChild(e,this))},i)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,i=[],n=S(e),s=n.length-1,o=0;o<=s;o++)t=o===s?this:this.clone(!0),S(n[o])[a](t),l.apply(i,t.get());return this.pushStack(i)}});function Fe(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?w:t).getComputedStyle(e)}function Oe(e,t,i){var n,s={};for(n in t)s[n]=e.style[n],e.style[n]=t[n];for(n in i=i.call(e),t)e.style[n]=s[n];return i}var Me,Ne,Re,Le,He,Ue,Be,ze,je=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),We=new RegExp(ie.join("|"),"i");function Ye(e,t,i){var n,s,o=e.style;return(i=i||Fe(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||se(e)||(s=S.style(e,t)),!b.pixelBoxStyles()&&je.test(s)&&We.test(t)&&(n=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=i.width,o.width=n,o.minWidth=e,o.maxWidth=t)),void 0!==s?s+"":s}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Ge(){var e;ze&&(Be.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(Be).appendChild(ze),e=w.getComputedStyle(ze),Me="1%"!==e.top,Ue=12===$e(e.marginLeft),ze.style.right="60%",Le=36===$e(e.right),Ne=36===$e(e.width),ze.style.position="absolute",Re=12===$e(ze.offsetWidth/3),ne.removeChild(Be),ze=null)}function $e(e){return Math.round(parseFloat(e))}Be=x.createElement("div"),(ze=x.createElement("div")).style&&(ze.style.backgroundClip="content-box",ze.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===ze.style.backgroundClip,S.extend(b,{boxSizingReliable:function(){return Ge(),Ne},pixelBoxStyles:function(){return Ge(),Le},pixelPosition:function(){return Ge(),Me},reliableMarginLeft:function(){return Ge(),Ue},scrollboxSize:function(){return Ge(),Re},reliableTrDimensions:function(){var e,t,i;return null==He&&(e=x.createElement("table"),t=x.createElement("tr"),i=x.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",ne.appendChild(e).appendChild(t).appendChild(i),i=w.getComputedStyle(t),He=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ne.removeChild(e)),He}}));var Xe=["Webkit","Moz","ms"],Ke=x.createElement("div").style,Ze={};function Qe(e){return S.cssProps[e]||Ze[e]||(e in Ke?e:Ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=Xe.length;i--;)if((e=Xe[i]+t)in Ke)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"};function nt(e,t,i){var n=te.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function st(e,t,i,n,s,o){var a="width"===t?1:0,r=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=S.css(e,i+ie[a],!0,s)),n?("content"===i&&(l-=S.css(e,"padding"+ie[a],!0,s)),"margin"!==i&&(l-=S.css(e,"border"+ie[a]+"Width",!0,s))):(l+=S.css(e,"padding"+ie[a],!0,s),"padding"!==i?l+=S.css(e,"border"+ie[a]+"Width",!0,s):r+=S.css(e,"border"+ie[a]+"Width",!0,s));return!n&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-r-.5))||0),l}function ot(e,t,i){var n=Fe(e),s=(!b.boxSizingReliable()||i)&&"border-box"===S.css(e,"boxSizing",!1,n),o=s,a=Ye(e,t,n),r="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(a)){if(!i)return a;a="auto"}return(!b.boxSizingReliable()&&s||!b.reliableTrDimensions()&&k(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,n))&&e.getClientRects().length&&(s="border-box"===S.css(e,"boxSizing",!1,n),(o=r in e)&&(a=e[r])),(a=parseFloat(a)||0)+st(e,t,i||(s?"border":"content"),o,n,a)+"px"}function at(e,t,i,n,s){return new at.prototype.init(e,t,i,n,s)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Ye(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,a,r=V(t),l=et.test(t),u=e.style;if(l||(t=Qe(r)),a=S.cssHooks[t]||S.cssHooks[r],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(e,!1,n))?s:u[t];"string"==(o=typeof i)&&(s=te.exec(i))&&s[1]&&(i=re(e,t,s),o="number"),null!=i&&i==i&&("number"!==o||l||(i+=s&&s[3]||(S.cssNumber[r]?"":"px")),b.clearCloneStyle||""!==i||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l?u.setProperty(t,i):u[t]=i))}},css:function(e,t,i,n){var s,o=V(t);return et.test(t)||(t=Qe(o)),"normal"===(s=void 0===(s=(o=S.cssHooks[t]||S.cssHooks[o])&&"get"in o?o.get(e,!0,i):s)?Ye(e,t,n):s)&&t in it&&(s=it[t]),""===i||i?(t=parseFloat(s),!0===i||isFinite(t)?t||0:s):s}}),S.each(["height","width"],function(e,r){S.cssHooks[r]={get:function(e,t,i){if(t)return!Je.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,r,i):Oe(e,tt,function(){return ot(e,r,i)})},set:function(e,t,i){var n,s=Fe(e),o=!b.scrollboxSize()&&"absolute"===s.position,a=(o||i)&&"border-box"===S.css(e,"boxSizing",!1,s),i=i?st(e,r,i,a,s):0;return a&&o&&(i-=Math.ceil(e["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(s[r])-st(e,r,"border",!1,s)-.5)),i&&(n=te.exec(t))&&"px"!==(n[3]||"px")&&(e.style[r]=t,t=S.css(e,r)),nt(0,t,i)}}}),S.cssHooks.marginLeft=Ve(b.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-Oe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(s,o){S.cssHooks[s+o]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[s+ie[t]+o]=n[t]||n[t-2]||n[0];return i}},"margin"!==s&&(S.cssHooks[s+o].set=nt)}),S.fn.extend({css:function(e,t){return z(this,function(e,t,i){var n,s,o={},a=0;if(Array.isArray(t)){for(n=Fe(e),s=t.length;a<s;a++)o[t[a]]=S.css(e,t[a],!1,n);return o}return void 0!==i?S.style(e,t,i):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=at).prototype={constructor:at,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(S.cssNumber[i]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return(e&&e.get?e:at.propHooks._default).get(this)},run:function(e){var t,i=at.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:at.propHooks._default).set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=S.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=at.prototype.init,S.fx.step={};var rt,lt,ut=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function dt(){lt&&(!1===x.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(dt):w.setTimeout(dt,S.fx.interval),S.fx.tick())}function ht(){return w.setTimeout(function(){rt=void 0}),rt=Date.now()}function pt(e,t){var i,n=0,s={height:e};for(t=t?1:0;n<4;n+=2-t)s["margin"+(i=ie[n])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function ft(e,t,i){for(var n,s=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),o=0,a=s.length;o<a;o++)if(n=s[o].call(i,t,e))return n}function mt(s,e,t){var i,o,n=0,a=mt.prefilters.length,r=S.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=rt||ht(),e=Math.max(0,u.startTime+u.duration-e),t=1-(e/u.duration||0),i=0,n=u.tweens.length;i<n;i++)u.tweens[i].run(t);return r.notifyWith(s,[u,t,e]),t<1&&n?e:(n||r.notifyWith(s,[u,1,0]),r.resolveWith(s,[u]),!1)},u=r.promise({elem:s,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ht(),duration:t.duration,tweens:[],createTween:function(e,t){e=S.Tween(s,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(e),e},stop:function(e){var t=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;t<i;t++)u.tweens[t].run(1);return e?(r.notifyWith(s,[u,1,0]),r.resolveWith(s,[u,e])):r.rejectWith(s,[u,e]),this}}),c=u.props;for(function(e,t){var i,n,s,o,a;for(i in e)if(s=t[n=V(i)],o=e[i],Array.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=S.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=s);else t[n]=s}(c,u.opts.specialEasing);n<a;n++)if(i=mt.prefilters[n].call(u,s,c,u.opts))return m(i.stop)&&(S._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return S.map(c,ft,u),m(u.opts.start)&&u.opts.start.call(s,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),S.fx.timer(S.extend(l,{elem:s,anim:u,queue:u.opts.queue})),u}S.Animation=S.extend(mt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return re(i.elem,e,te.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,s=(e=m(e)?(t=e,["*"]):e.match(M)).length;n<s;n++)i=e[n],mt.tweeners[i]=mt.tweeners[i]||[],mt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,s,o,a,r,l,u,c="width"in t||"height"in t,d=this,h={},p=e.style,f=e.nodeType&&ae(e),m=X.get(e,"fxshow");for(n in i.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,r=a.empty.fire,a.empty.fire=function(){a.unqueued||r()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(s=t[n],ut.test(s)){if(delete t[n],o=o||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;f=!0}h[n]=m&&m[n]||S.style(e,n)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(h))for(n in c&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=X.get(e,"display")),"none"===(c=S.css(e,"display"))&&(u?c=u:(ue([e],!0),u=e.style.display||u,c=S.css(e,"display"),ue([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===S.css(e,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(f=m.hidden):m=X.access(e,"fxshow",{display:u}),o&&(m.hidden=!f),f&&ue([e],!0),d.done(function(){for(n in f||ue([e]),X.remove(e,"fxshow"),h)S.style(e,n,h[n])})),l=ft(f?m[n]:0,n,d),n in m||(m[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),S.speed=function(e,t,i){var n=e&&"object"==typeof e?S.extend({},e):{complete:i||!i&&t||m(e)&&e,duration:e,easing:i&&t||t&&!m(t)&&t};return S.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in S.fx.speeds?n.duration=S.fx.speeds[n.duration]:n.duration=S.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&S.dequeue(this,n.queue)},n},S.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var s=S.isEmptyObject(t),o=S.speed(e,i,n),n=function(){var e=mt(this,S.extend({},t),o);(s||X.get(this,"finish"))&&e.stop(!0)};return n.finish=n,s||!1===o.queue?this.each(n):this.queue(o.queue,n)},stop:function(s,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof s&&(o=e,e=s,s=void 0),e&&this.queue(s||"fx",[]),this.each(function(){var e=!0,t=null!=s&&s+"queueHooks",i=S.timers,n=X.get(this);if(t)n[t]&&n[t].stop&&a(n[t]);else for(t in n)n[t]&&n[t].stop&&ct.test(t)&&a(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=s&&i[t].queue!==s||(i[t].anim.stop(o),e=!1,i.splice(t,1));!e&&o||S.dequeue(this,s)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=X.get(this),i=t[a+"queue"],n=t[a+"queueHooks"],s=S.timers,o=i?i.length:0;for(t.finish=!0,S.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===a&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,n){var s=S.fn[n];S.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?s.apply(this,arguments):this.animate(pt(n,!0),e,t,i)}}),S.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){S.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),S.timers=[],S.fx.tick=function(){var e,t=0,i=S.timers;for(rt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||S.fx.stop(),rt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){lt||(lt=!0,dt())},S.fx.stop=function(){lt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(n,e){return n=S.fx&&S.fx.speeds[n]||n,this.queue(e=e||"fx",function(e,t){var i=w.setTimeout(e,n);t.stop=function(){w.clearTimeout(i)}})},d=x.createElement("input"),ee=x.createElement("select").appendChild(x.createElement("option")),d.type="checkbox",b.checkOn=""!==d.value,b.optSelected=ee.selected,(d=x.createElement("input")).value="t",d.type="radio",b.radioValue="t"===d.value;var gt,_t=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return z(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,i){var n,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,i):(1===o&&S.isXMLDoc(e)||(s=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?gt:void 0)),void 0!==i?null===i?void S.removeAttr(e,t):s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:(e.setAttribute(t,i+""),i):!(s&&"get"in s&&null!==(n=s.get(e,t)))&&null==(n=S.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!b.radioValue&&"radio"===t&&k(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,s=t&&t.match(M);if(s&&1===e.nodeType)for(;i=s[n++];)e.removeAttribute(i)}}),gt={set:function(e,t,i){return!1===t?S.removeAttr(e,i):e.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=_t[t]||S.find.attr;_t[t]=function(e,t,i){var n,s,o=t.toLowerCase();return i||(s=_t[o],_t[o]=n,n=null!=a(e,t,i)?o:null,_t[o]=s),n}});var vt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function qt(e){return(e.match(M)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}S.fn.extend({prop:function(e,t){return z(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,i){var n,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,s=S.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(S.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,i,n,s,o,a,r=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,yt(this)))});if((e=wt(t)).length)for(;i=this[r++];)if(a=yt(i),n=1===i.nodeType&&" "+qt(a)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a!==(a=qt(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,s,o,a,r=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,yt(this)))});if(!arguments.length)return this.attr("class","");if((e=wt(t)).length)for(;i=this[r++];)if(a=yt(i),n=1===i.nodeType&&" "+qt(a)+" "){for(o=0;s=e[o++];)for(;-1<n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");a!==(a=qt(n))&&i.setAttribute("class",a)}return this},toggleClass:function(s,t){var o=typeof s,a="string"==o||Array.isArray(s);return"boolean"==typeof t&&a?t?this.addClass(s):this.removeClass(s):m(s)?this.each(function(e){S(this).toggleClass(s.call(this,e,yt(this),t),t)}):this.each(function(){var e,t,i,n;if(a)for(t=0,i=S(this),n=wt(s);e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==s&&"boolean"!=o||((e=yt(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==s&&X.get(this,"__className__")||""))})},hasClass:function(e){for(var t,i=0,n=" "+e+" ";t=this[i++];)if(1===t.nodeType&&-1<(" "+qt(yt(t))+" ").indexOf(n))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(t){var i,e,n,s=this[0];return arguments.length?(n=m(t),this.each(function(e){1===this.nodeType&&(null==(e=n?t.call(this,e,S(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=S.map(e,function(e){return null==e?"":e+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):s?(i=S.valHooks[s.type]||S.valHooks[s.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(s,"value"))?e:"string"==typeof(e=s.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:qt(S.text(e))}},select:{get:function(e){for(var t,i=e.options,n=e.selectedIndex,s="select-one"===e.type,o=s?null:[],a=s?n+1:i.length,r=n<0?a:s?n:0;r<a;r++)if(((t=i[r]).selected||r===n)&&!t.disabled&&(!t.parentNode.disabled||!k(t.parentNode,"optgroup"))){if(t=S(t).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,s=e.options,o=S.makeArray(t),a=s.length;a--;)((n=s[a]).selected=-1<S.inArray(S.valHooks.option.get(n),o))&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},b.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),b.focusin="onfocusin"in w;function St(e){e.stopPropagation()}var Ct=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(e,t,i,n){var s,o,a,r,l,u,c,d=[i||x],h=v.call(e,"type")?e.type:e,p=v.call(e,"namespace")?e.namespace.split("."):[],f=c=o=i=i||x;if(3!==i.nodeType&&8!==i.nodeType&&!Ct.test(h+S.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),r=h.indexOf(":")<0&&"on"+h,(e=e[S.expando]?e:new S.Event(h,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:S.makeArray(t,[e]),u=S.event.special[h]||{},n||!u.trigger||!1!==u.trigger.apply(i,t))){if(!n&&!u.noBubble&&!g(i)){for(a=u.delegateType||h,Ct.test(a+h)||(f=f.parentNode);f;f=f.parentNode)d.push(f),o=f;o===(i.ownerDocument||x)&&d.push(o.defaultView||o.parentWindow||w)}for(s=0;(f=d[s++])&&!e.isPropagationStopped();)c=f,e.type=1<s?a:u.bindType||h,(l=(X.get(f,"events")||Object.create(null))[e.type]&&X.get(f,"handle"))&&l.apply(f,t),(l=r&&f[r])&&l.apply&&G(f)&&(e.result=l.apply(f,t),!1===e.result&&e.preventDefault());return e.type=h,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!G(i)||r&&m(i[h])&&!g(i)&&((o=i[r])&&(i[r]=null),S.event.triggered=h,e.isPropagationStopped()&&c.addEventListener(h,St),i[h](),e.isPropagationStopped()&&c.removeEventListener(h,St),S.event.triggered=void 0,o&&(i[r]=o)),e.result}},simulate:function(e,t,i){e=S.extend(new S.Event,i,{type:e,isSimulated:!0});S.event.trigger(e,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return S.event.trigger(e,t,i,!0)}}),b.focusin||S.each({focus:"focusin",blur:"focusout"},function(i,n){function s(e){S.event.simulate(n,e.target,S.event.fix(e))}S.event.special[n]={setup:function(){var e=this.ownerDocument||this.document||this,t=X.access(e,n);t||e.addEventListener(i,s,!0),X.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=X.access(e,n)-1;t?X.access(e,n,t):(e.removeEventListener(i,s,!0),X.remove(e,n))}}});var Dt=w.location,kt={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new w.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||S.error("Invalid XML: "+(i?S.map(i.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Tt=/\[\]$/,It=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;S.param=function(e,t){function i(e,t){t=m(t)?t():t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,s=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)!function i(n,e,s,o){if(Array.isArray(e))S.each(e,function(e,t){s||Tt.test(n)?o(n,t):i(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,s,o)});else if(s||"object"!==f(e))o(n,e);else for(var t in e)i(n+"["+t+"]",e[t],s,o)}(n,e[n],t,i);return s.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&At.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:i.replace(It,"\r\n")}}).get()}});var Ft=/%20/g,Ot=/#.*$/,Mt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Ht={},Ut={},Bt="*/".concat("*"),zt=x.createElement("a");function jt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,s=e.toLowerCase().match(M)||[];if(m(t))for(;i=s[n++];)"+"===i[0]?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(t)):(o[i]=o[i]||[]).push(t)}}function Wt(t,n,s,o){var a={},r=t===Ut;function l(e){var i;return a[e]=!0,S.each(t[e]||[],function(e,t){t=t(n,s,o);return"string"!=typeof t||r||a[t]?r?!(i=t):void 0:(n.dataTypes.unshift(t),l(t),!1)}),i}return l(n.dataTypes[0])||!a["*"]&&l("*")}function Yt(e,t){var i,n,s=S.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:n=n||{})[i]=t[i]);return n&&S.extend(!0,e,n),e}zt.href=Dt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,S.ajaxSettings),t):Yt(S.ajaxSettings,e)},ajaxPrefilter:jt(Ht),ajaxTransport:jt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,u,c,i,d,h,p,n,s,f=S.ajaxSetup({},t=t||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?S(m):S.event,_=S.Deferred(),v=S.Callbacks("once memory"),b=f.statusCode||{},o={},a={},r="canceled",q={readyState:0,getResponseHeader:function(e){var t;if(h){if(!i)for(i={};t=Nt.exec(c);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?c:null},setRequestHeader:function(e,t){return null==h&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==h&&(f.mimeType=e),this},statusCode:function(e){if(e)if(h)q.always(e[q.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||r;return l&&l.abort(e),y(0,e),this}};if(_.promise(q),f.url=((e||f.url||Dt.href)+"").replace(Lt,Dt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(M)||[""],null==f.crossDomain){s=x.createElement("a");try{s.href=f.url,s.href=s.href,f.crossDomain=zt.protocol+"//"+zt.host!=s.protocol+"//"+s.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=S.param(f.data,f.traditional)),Wt(Ht,f,t,q),h)return q;for(n in(p=S.event&&f.global)&&0==S.active++&&S.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Rt.test(f.type),u=f.url.replace(Ot,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ft,"+")):(s=f.url.slice(u.length),f.data&&(f.processData||"string"==typeof f.data)&&(u+=(Et.test(u)?"&":"?")+f.data,delete f.data),!1===f.cache&&(u=u.replace(Mt,"$1"),s=(Et.test(u)?"&":"?")+"_="+kt.guid+++s),f.url=u+s),f.ifModified&&(S.lastModified[u]&&q.setRequestHeader("If-Modified-Since",S.lastModified[u]),S.etag[u]&&q.setRequestHeader("If-None-Match",S.etag[u])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&q.setRequestHeader("Content-Type",f.contentType),q.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Bt+"; q=0.01":""):f.accepts["*"]),f.headers)q.setRequestHeader(n,f.headers[n]);if(f.beforeSend&&(!1===f.beforeSend.call(m,q,f)||h))return q.abort();if(r="abort",v.add(f.complete),q.done(f.success),q.fail(f.error),l=Wt(Ut,f,t,q)){if(q.readyState=1,p&&g.trigger("ajaxSend",[q,f]),h)return q;f.async&&0<f.timeout&&(d=w.setTimeout(function(){q.abort("timeout")},f.timeout));try{h=!1,l.send(o,y)}catch(e){if(h)throw e;y(-1,e)}}else y(-1,"No Transport");function y(e,t,i,n){var s,o,a,r=t;h||(h=!0,d&&w.clearTimeout(d),l=void 0,c=n||"",q.readyState=0<e?4:0,n=200<=e&&e<300||304===e,i&&(a=function(e,t,i){for(var n,s,o,a,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in r)if(r[s]&&r[s].test(n)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}a=a||s}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(f,q,i)),!n&&-1<S.inArray("script",f.dataTypes)&&S.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),a=function(e,t,i,n){var s,o,a,r,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(s in u)if((r=s.split(" "))[1]===o&&(a=u[l+" "+r[0]]||u["* "+r[0]])){!0===a?a=u[s]:!0!==u[s]&&(o=r[0],c.unshift(r[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,a,q,n),n?(f.ifModified&&((i=q.getResponseHeader("Last-Modified"))&&(S.lastModified[u]=i),(i=q.getResponseHeader("etag"))&&(S.etag[u]=i)),204===e||"HEAD"===f.type?r="nocontent":304===e?r="notmodified":(r=a.state,s=a.data,n=!(o=a.error))):(o=r,!e&&r||(r="error",e<0&&(e=0))),q.status=e,q.statusText=(t||r)+"",n?_.resolveWith(m,[s,r,q]):_.rejectWith(m,[q,r,o]),q.statusCode(b),b=void 0,p&&g.trigger(n?"ajaxSuccess":"ajaxError",[q,f,n?s:o]),v.fireWith(m,[q,r]),p&&(g.trigger("ajaxComplete",[q,f]),--S.active||S.event.trigger("ajaxStop")))}return q},getJSON:function(e,t,i){return S.get(e,t,i,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,s){S[s]=function(e,t,i,n){return m(t)&&(n=n||i,i=t,t=void 0),S.ajax(S.extend({url:e,type:s,dataType:n,data:t,success:i},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,i){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,i)}})},S.fn.extend({wrapAll:function(e){return this[0]&&(m(e)&&(e=e.call(this[0])),e=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return m(i)?this.each(function(e){S(this).wrapInner(i.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=m(t);return this.each(function(e){S(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=S.ajaxSettings.xhr();b.cors=!!Gt&&"withCredentials"in Gt,b.ajax=Gt=!!Gt,S.ajaxTransport(function(s){var o,a;if(b.cors||Gt&&!s.crossDomain)return{send:function(e,t){var i,n=s.xhr();if(n.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(i in s.xhrFields)n[i]=s.xhrFields[i];for(i in s.mimeType&&n.overrideMimeType&&n.overrideMimeType(s.mimeType),s.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);o=function(e){return function(){o&&(o=a=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Vt[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=o(),a=n.onerror=n.ontimeout=o("error"),void 0!==n.onabort?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&w.setTimeout(function(){o&&a()})},o=o("abort");try{n.send(s.hasContent&&s.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(i){var n,s;if(i.crossDomain||i.scriptAttrs)return{send:function(e,t){n=S("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",s=function(e){n.remove(),s=null,e&&t("error"===e.type?404:200,e.type)}),x.head.appendChild(n[0])},abort:function(){s&&s()}}});var $t=[],Xt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||S.expando+"_"+kt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,i){var n,s,o,a=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xt,"$1"+n):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||S.error(n+" was not called"),o[0]},e.dataTypes[0]="json",s=w[n],w[n]=function(){o=arguments},i.always(function(){void 0===s?S(w).removeProp(n):w[n]=s,e[n]&&(e.jsonpCallback=t.jsonpCallback,$t.push(n)),o&&m(s)&&s(o[0]),o=s=void 0}),"script"}),b.createHTMLDocument=((d=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===d.childNodes.length),S.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(b.createHTMLDocument?((n=(t=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,t.head.appendChild(n)):t=x),n=!i&&[],(i=E.exec(e))?[t.createElement(i[1])]:(i=_e([e],t,n),n&&n.length&&S(n).remove(),S.merge([],i.childNodes)));var n},S.fn.load=function(e,t,i){var n,s,o,a=this,r=e.indexOf(" ");return-1<r&&(n=qt(e.slice(r)),e=e.slice(0,r)),m(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),0<a.length&&S.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?S("<div>").append(S.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,i){var n,s,o,a,r=S.css(e,"position"),l=S(e),u={};"static"===r&&(e.style.position="relative"),o=l.offset(),n=S.css(e,"top"),a=S.css(e,"left"),a=("absolute"===r||"fixed"===r)&&-1<(n+a).indexOf("auto")?(s=(r=l.position()).top,r.left):(s=parseFloat(n)||0,parseFloat(a)||0),null!=(t=m(t)?t.call(e,i,S.extend({},o)):t).top&&(u.top=t.top-o.top+s),null!=t.left&&(u.left=t.left-o.left+a),"using"in t?t.using.call(e,u):l.css(u)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),i=i.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],s={top:0,left:0};if("fixed"===S.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((s=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),s.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-s.top-S.css(n,"marginTop",!0),left:t.left-s.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||ne})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,s){var o="pageYOffset"===s;S.fn[t]=function(e){return z(this,function(e,t,i){var n;return g(e)?n=e:9===e.nodeType&&(n=e.defaultView),void 0===i?n?n[s]:e[t]:void(n?n.scrollTo(o?n.pageXOffset:i,o?i:n.pageYOffset):e[t]=i)},t,e,arguments.length)}}),S.each(["top","left"],function(e,i){S.cssHooks[i]=Ve(b.pixelPosition,function(e,t){if(t)return t=Ye(e,i),je.test(t)?S(e).position()[i]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,r){S.each({padding:"inner"+a,content:r,"":"outer"+a},function(n,o){S.fn[o]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),s=n||(!0===e||!0===t?"margin":"border");return z(this,function(e,t,i){var n;return g(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+a],n["scroll"+a],e.body["offset"+a],n["offset"+a],n["client"+a])):void 0===i?S.css(e,t,s):S.style(e,t,i,s)},r,i?e:void 0,i)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){S.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}});var Kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var i,n;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return i=r.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||S.guid++,n},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=k,S.isFunction=m,S.isWindow=g,S.camelCase=V,S.type=f,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Kt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Zt=w.jQuery,Qt=w.$;return S.noConflict=function(e){return w.$===S&&(w.$=Qt),e&&w.jQuery===S&&(w.jQuery=Zt),S},void 0===e&&(w.jQuery=w.$=S),S}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(G){"use strict";G.ui=G.ui||{};G.ui.version="1.13.1";var s,i=0,a=Array.prototype.hasOwnProperty,r=Array.prototype.slice;G.cleanData=(s=G.cleanData,function(e){for(var t,i,n=0;null!=(i=e[n]);n++)(t=G._data(i,"events"))&&t.remove&&G(i).triggerHandler("remove");s(e)}),G.widget=function(e,i,t){var n,s,o,a={},r=e.split(".")[0],l=r+"-"+(e=e.split(".")[1]);return t||(t=i,i=G.Widget),Array.isArray(t)&&(t=G.extend.apply(null,[{}].concat(t))),G.expr.pseudos[l.toLowerCase()]=function(e){return!!G.data(e,l)},G[r]=G[r]||{},n=G[r][e],s=G[r][e]=function(e,t){if(!this||!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},G.extend(s,n,{version:t.version,_proto:G.extend({},t),_childConstructors:[]}),(o=new i).options=G.widget.extend({},o.options),G.each(t,function(t,n){function s(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}a[t]="function"==typeof n?function(){var e,t=this._super,i=this._superApply;return this._super=s,this._superApply=o,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}:n}),s.prototype=G.widget.extend(o,{widgetEventPrefix:n&&o.widgetEventPrefix||e},a,{constructor:s,namespace:r,widgetName:e,widgetFullName:l}),n?(G.each(n._childConstructors,function(e,t){var i=t.prototype;G.widget(i.namespace+"."+i.widgetName,s,t._proto)}),delete n._childConstructors):i._childConstructors.push(s),G.widget.bridge(e,s),s},G.widget.extend=function(e){for(var t,i,n=r.call(arguments,1),s=0,o=n.length;s<o;s++)for(t in n[s])i=n[s][t],a.call(n[s],t)&&void 0!==i&&(G.isPlainObject(i)?e[t]=G.isPlainObject(e[t])?G.widget.extend({},e[t],i):G.widget.extend({},i):e[t]=i);return e},G.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;G.fn[o]=function(i){var e="string"==typeof i,n=r.call(arguments,1),s=this;return e?this.length||"instance"!==i?this.each(function(){var e,t=G.data(this,a);return"instance"===i?(s=t,!1):t?"function"!=typeof t[i]||"_"===i.charAt(0)?G.error("no such method '"+i+"' for "+o+" widget instance"):(e=t[i].apply(t,n))!==t&&void 0!==e?(s=e&&e.jquery?s.pushStack(e.get()):e,!1):void 0:G.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):s=void 0:(n.length&&(i=G.widget.extend.apply(null,[i].concat(n))),this.each(function(){var e=G.data(this,a);e?(e.option(i||{}),e._init&&e._init()):G.data(this,a,new t(i,this))})),s}},G.Widget=function(){},G.Widget._childConstructors=[],G.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=G(t||this.defaultElement||this)[0],this.element=G(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=G(),this.hoverable=G(),this.focusable=G(),this.classesElementLookup={},t!==this&&(G.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=G(t.style?t.ownerDocument:t.document||t),this.window=G(this.document[0].defaultView||this.document[0].parentWindow)),this.options=G.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:G.noop,_create:G.noop,_init:G.noop,destroy:function(){var i=this;this._destroy(),G.each(this.classesElementLookup,function(e,t){i._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:G.noop,widget:function(){return this.element},option:function(e,t){var i,n,s,o=e;if(0===arguments.length)return G.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(i=e.split(".")).shift(),i.length){for(n=o[e]=G.widget.extend({},this.options[e]),s=0;s<i.length-1;s++)n[i[s]]=n[i[s]]||{},n=n[i[s]];if(e=i.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,i,n;for(t in e)n=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&n&&n.length&&(i=G(n.get()),this._removeClass(n,t),i.addClass(this._classes({element:i,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(s){var o=[],a=this;function e(e,t){for(var i,n=0;n<e.length;n++)i=a.classesElementLookup[e[n]]||G(),i=s.add?(function(){var i=[];s.element.each(function(e,t){G.map(a.classesElementLookup,function(e){return e}).some(function(e){return e.is(t)})||i.push(t)}),a._on(G(i),{remove:"_untrackClassesElement"})}(),G(G.uniqueSort(i.get().concat(s.element.get())))):G(i.not(s.element).get()),a.classesElementLookup[e[n]]=i,o.push(e[n]),t&&s.classes[e[n]]&&o.push(s.classes[e[n]])}return(s=G.extend({element:this.element,classes:this.options.classes||{}},s)).keys&&e(s.keys.match(/\S+/g)||[],!0),s.extra&&e(s.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var n=this;G.each(n.classesElementLookup,function(e,t){-1!==G.inArray(i.target,t)&&(n.classesElementLookup[e]=G(t.not(i.target).get()))}),this._off(G(i.target))},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){var s="string"==typeof e||null===e,i={extra:s?t:i,keys:s?e:t,element:s?this.element:e,add:n="boolean"==typeof n?n:i};return i.element.toggleClass(this._classes(i),n),this},_on:function(s,o,e){var a,r=this;"boolean"!=typeof s&&(e=o,o=s,s=!1),e?(o=a=G(o),this.bindings=this.bindings.add(o)):(e=o,o=this.element,a=this.widget()),G.each(e,function(e,t){function i(){if(s||!0!==r.options.disabled&&!G(this).hasClass("ui-state-disabled"))return("string"==typeof t?r[t]:t).apply(r,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||G.guid++);var n=e.match(/^([\w:-]*)\s*(.*)$/),e=n[1]+r.eventNamespace,n=n[2];n?a.on(e,n,i):o.on(e,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t),this.bindings=G(this.bindings.not(e).get()),this.focusable=G(this.focusable.not(e).get()),this.hoverable=G(this.hoverable.not(e).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(G(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(G(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(G(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(G(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,i){var n,s,o=this.options[e];if(i=i||{},(t=G.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],s=t.originalEvent)for(n in s)n in t||(t[n]=s[n]);return this.element.trigger(t,i),!("function"==typeof o&&!1===o.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},G.each({show:"fadeIn",hide:"fadeOut"},function(o,a){G.Widget.prototype["_"+o]=function(t,e,i){var n,s=(e="string"==typeof e?{effect:e}:e)?!0!==e&&"number"!=typeof e&&e.effect||a:o;"number"==typeof(e=e||{})?e={duration:e}:!0===e&&(e={}),n=!G.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&G.effects&&G.effects.effect[s]?t[o](e):s!==o&&t[s]?t[s](e.duration,e.easing,i):t.queue(function(e){G(this)[o](),i&&i.call(t[0]),e()})}});var n,w,x,o,l,u,c,d,S;G.widget;function C(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function D(e,t){return parseInt(G.css(e,t),10)||0}function k(e){return null!=e&&e===e.window}w=Math.max,x=Math.abs,o=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,S=G.fn.position,G.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,t=G("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),i=t.children()[0];return G("body").append(t),e=i.offsetWidth,t.css("overflow","scroll"),e===(i=i.offsetWidth)&&(i=t[0].clientWidth),t.remove(),n=e-i},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),t="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?G.position.scrollbarWidth():0,height:t?G.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=G(e||window),i=k(t[0]),n=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:n,offset:!i&&!n?G(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},G.fn.position=function(d){if(!d||!d.of)return S.apply(this,arguments);var h,p,f,m,g,e,_="string"==typeof(d=G.extend({},d)).of?G(document).find(d.of):G(d.of),v=G.position.getWithinInfo(d.within),b=G.position.getScrollInfo(v),q=(d.collision||"flip").split(" "),y={},t=9===(e=(t=_)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:k(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()};return _[0].preventDefault&&(d.at="left top"),p=t.width,f=t.height,g=G.extend({},m=t.offset),G.each(["my","at"],function(){var e,t,i=(d[this]||"").split(" ");(i=1===i.length?o.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=o.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",e=u.exec(i[0]),t=u.exec(i[1]),y[this]=[e?e[0]:0,t?t[0]:0],d[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===q.length&&(q[1]=q[0]),"right"===d.at[0]?g.left+=p:"center"===d.at[0]&&(g.left+=p/2),"bottom"===d.at[1]?g.top+=f:"center"===d.at[1]&&(g.top+=f/2),h=C(y.at,p,f),g.left+=h[0],g.top+=h[1],this.each(function(){var i,e,a=G(this),r=a.outerWidth(),l=a.outerHeight(),t=D(this,"marginLeft"),n=D(this,"marginTop"),s=r+t+D(this,"marginRight")+b.width,o=l+n+D(this,"marginBottom")+b.height,u=G.extend({},g),c=C(y.my,a.outerWidth(),a.outerHeight());"right"===d.my[0]?u.left-=r:"center"===d.my[0]&&(u.left-=r/2),"bottom"===d.my[1]?u.top-=l:"center"===d.my[1]&&(u.top-=l/2),u.left+=c[0],u.top+=c[1],i={marginLeft:t,marginTop:n},G.each(["left","top"],function(e,t){G.ui.position[q[e]]&&G.ui.position[q[e]][t](u,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:s,collisionHeight:o,offset:[h[0]+c[0],h[1]+c[1]],my:d.my,at:d.at,within:v,elem:a})}),d.using&&(e=function(e){var t=m.left-u.left,i=t+p-r,n=m.top-u.top,s=n+f-l,o={target:{element:_,left:m.left,top:m.top,width:p,height:f},element:{element:a,left:u.left,top:u.top,width:r,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:s<0?"top":0<n?"bottom":"middle"};p<r&&x(t+i)<p&&(o.horizontal="center"),f<l&&x(n+s)<f&&(o.vertical="middle"),w(x(t),x(i))>w(x(n),x(s))?o.important="horizontal":o.important="vertical",d.using.call(this,e,o)}),a.offset(G.extend(u,{using:e}))})},G.ui.position={fit:{left:function(e,t){var i=t.within,n=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,o=e.left-t.collisionPosition.marginLeft,a=n-o,r=o+t.collisionWidth-s-n;t.collisionWidth>s?0<a&&r<=0?(i=e.left+a+t.collisionWidth-s-n,e.left+=a-i):e.left=!(0<r&&a<=0)&&r<a?n+s-t.collisionWidth:n:0<a?e.left+=a:0<r?e.left-=r:e.left=w(e.left-o,e.left)},top:function(e,t){var i=t.within,n=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,a=n-o,r=o+t.collisionHeight-s-n;t.collisionHeight>s?0<a&&r<=0?(i=e.top+a+t.collisionHeight-s-n,e.top+=a-i):e.top=!(0<r&&a<=0)&&r<a?n+s-t.collisionHeight:n:0<a?e.top+=a:0<r?e.top-=r:e.top=w(e.top-o,e.top)}},flip:{left:function(e,t){var i=t.within,n=i.offset.left+i.scrollLeft,s=i.width,o=i.isWindow?i.scrollLeft:i.offset.left,a=e.left-t.collisionPosition.marginLeft,r=a-o,l=a+t.collisionWidth-s-o,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,i="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,a=-2*t.offset[0];r<0?((n=e.left+u+i+a+t.collisionWidth-s-n)<0||n<x(r))&&(e.left+=u+i+a):0<l&&(0<(o=e.left-t.collisionPosition.marginLeft+u+i+a-o)||x(o)<l)&&(e.left+=u+i+a)},top:function(e,t){var i=t.within,n=i.offset.top+i.scrollTop,s=i.height,o=i.isWindow?i.scrollTop:i.offset.top,a=e.top-t.collisionPosition.marginTop,r=a-o,l=a+t.collisionHeight-s-o,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,i="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,a=-2*t.offset[1];r<0?((n=e.top+u+i+a+t.collisionHeight-s-n)<0||n<x(r))&&(e.top+=u+i+a):0<l&&(0<(o=e.top-t.collisionPosition.marginTop+u+i+a-o)||x(o)<l)&&(e.top+=u+i+a)}},flipfit:{left:function(){G.ui.position.flip.left.apply(this,arguments),G.ui.position.fit.left.apply(this,arguments)},top:function(){G.ui.position.flip.top.apply(this,arguments),G.ui.position.fit.top.apply(this,arguments)}}};var e;G.ui.position,G.extend(G.expr.pseudos,{data:G.expr.createPseudo?G.expr.createPseudo(function(t){return function(e){return!!G.data(e,t)}}):function(e,t,i){return!!G.data(e,i[3])}}),G.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});G.ui.focusable=function(e,t){var i,n,s,o,a=e.nodeName.toLowerCase();return"area"===a?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(0<(n=G("img[usemap='#"+n+"']")).length&&n.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(s=!e.disabled)&&(o=G(e).closest("fieldset")[0])&&(s=!o.disabled):s="a"===a&&e.href||t,s&&G(e).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"visible"===t}(G(e)))},G.extend(G.expr.pseudos,{focusable:function(e){return G.ui.focusable(e,null!=G.attr(e,"tabindex"))}});var t,h;G.ui.focusable,G.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):G(this[0].form)},G.ui.formResetMixin={_formResetHandler:function(){var t=G(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");G.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){var e;this.form=this.element._form(),this.form.length&&((e=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice(G.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};G.expr.pseudos||(G.expr.pseudos=G.expr[":"]),G.uniqueSort||(G.uniqueSort=G.unique),G.escapeSelector||(t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,h=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},G.escapeSelector=function(e){return(e+"").replace(t,h)}),G.fn.even&&G.fn.odd||G.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}});G.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},G.fn.labels=function(){var e,t,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(t=this.eq(0).parents("label"),(e=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),e="label[for='"+G.escapeSelector(e)+"']",t=t.add(i.find(e).addBack(e))),this.pushStack(t)):this.pushStack([])},G.fn.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=G(this);return(!i||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:G(this[0].ownerDocument||document)},G.extend(G.expr.pseudos,{tabbable:function(e){var t=G.attr(e,"tabindex"),i=null!=t;return(!i||0<=t)&&G.ui.focusable(e,i)}}),G.fn.extend({uniqueId:(p=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++p)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&G(this).removeAttr("id")})}}),G.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var p,f=!1;G(document).on("mouseup",function(){f=!1});G.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===G.data(e.target,t.widgetName+".preventClickEvent"))return G.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!f){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&G(e.target).closest(this.options.cancel).length;return i&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===G.data(e.target,this.widgetName+".preventClickEvent")&&G.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),f=!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(G.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&G.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,f=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),G.ui.plugin={add:function(e,t,i){var n,s=G.ui[e].prototype;for(n in i)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([t,i[n]])},call:function(e,t,i,n){var s,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<o.length;s++)e.options[o[s][0]]&&o[s][1].apply(e.element,i)}},G.ui.safeActiveElement=function(t){var i;try{i=t.activeElement}catch(e){i=t.body}return i=!(i=i||t.body).nodeName?t.body:i},G.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&G(e).trigger("blur")};G.widget("ui.draggable",G.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<G(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=G(this);return G("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=G.ui.safeActiveElement(this.document[0]);G(e.target).closest(t).length||G.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),G.ui.ddmanager&&(G.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===G(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),G.ui.ddmanager&&!t.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),G.ui.ddmanager&&G.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){t=this._uiHash();if(!1===this._trigger("drag",e,t))return this._mouseUp(new G.Event("mouseup",e)),!1;this.position=t.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",G.ui.ddmanager&&G.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,i=!1;return G.ui.ddmanager&&!this.options.dropBehaviour&&(i=G.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?G(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),G.ui.ddmanager&&G.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),G.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new G.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!G(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,i="function"==typeof t.helper,e=i?G(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),i&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&G.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options,s=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(i=(t=G(n.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=n.containment:this.containment=[0,0,G(s).width()-this.helperProportions.width-this.margins.left,(G(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[G(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,G(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,G(window).scrollLeft()+G(window).width()-this.helperProportions.width-this.margins.left,G(window).scrollTop()+(G(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"===e?1:-1,e=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n=this.options,s=this._isRootNode(this.scrollParent[0]),o=e.pageX,a=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,e.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(a=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(a=i[3]+this.offset.click.top)),n.grid&&(e=n.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY,a=!i||e-this.offset.click.top>=i[1]||e-this.offset.click.top>i[3]?e:e-this.offset.click.top>=i[1]?e-n.grid[1]:e+n.grid[1],e=n.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX,o=!i||e-this.offset.click.left>=i[0]||e-this.offset.click.left>i[2]?e:e-this.offset.click.left>=i[0]?e-n.grid[0]:e+n.grid[0]),"y"===n.axis&&(o=this.originalPageX),"x"===n.axis&&(a=this.originalPageY)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,i){return i=i||this._uiHash(),G.ui.plugin.call(this,e,[t,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),G.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),G.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,i){var n=G.extend({},e,{item:i.element});i.sortables=[],G(i.options.connectToSortable).each(function(){var e=G(this).sortable("instance");e&&!e.options.disabled&&(i.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,n))})},stop:function(t,e,i){var n=G.extend({},e,{item:i.element});i.cancelHelperRemoval=!1,G.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(i,n,s){G.each(s.sortables,function(){var e=!1,t=this;t.positionAbs=s.positionAbs,t.helperProportions=s.helperProportions,t.offset.click=s.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,G.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,e=this!==t&&this._intersectsWith(this.containerCache)&&G.contains(t.element[0],this.element[0])?!1:e})),e?(t.isOver||(t.isOver=1,s._parent=n.helper.parent(),t.currentItem=n.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return n.helper[0]},i.target=t.currentItem[0],t._mouseCapture(i,!0),t._mouseStart(i,!0,!0),t.offset.click.top=s.offset.click.top,t.offset.click.left=s.offset.click.left,t.offset.parent.left-=s.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=s.offset.parent.top-t.offset.parent.top,s._trigger("toSortable",i),s.dropped=t.element,G.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,t.fromOutside=s),t.currentItem&&(t._mouseDrag(i),n.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",i,t._uiHash(t)),t._mouseStop(i,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),n.helper.appendTo(s._parent),s._refreshOffsets(i),n.position=s._generatePosition(i,!0),s._trigger("fromSortable",i),s.dropped=!1,G.each(s.sortables,function(){this.refreshPositions()}))})}}),G.ui.plugin.add("draggable","cursor",{start:function(e,t,i){var n=G("body"),i=i.options;n.css("cursor")&&(i._cursor=n.css("cursor")),n.css("cursor",i.cursor)},stop:function(e,t,i){i=i.options;i._cursor&&G("body").css("cursor",i._cursor)}}),G.ui.plugin.add("draggable","opacity",{start:function(e,t,i){t=G(t.helper),i=i.options;t.css("opacity")&&(i._opacity=t.css("opacity")),t.css("opacity",i.opacity)},stop:function(e,t,i){i=i.options;i._opacity&&G(t.helper).css("opacity",i._opacity)}}),G.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,t,i){var n=i.options,s=!1,o=i.scrollParentNotHidden[0],a=i.document[0];o!==a&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+o.offsetHeight-e.pageY<n.scrollSensitivity?o.scrollTop=s=o.scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+o.offsetWidth-e.pageX<n.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-G(a).scrollTop()<n.scrollSensitivity?s=G(a).scrollTop(G(a).scrollTop()-n.scrollSpeed):G(window).height()-(e.pageY-G(a).scrollTop())<n.scrollSensitivity&&(s=G(a).scrollTop(G(a).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-G(a).scrollLeft()<n.scrollSensitivity?s=G(a).scrollLeft(G(a).scrollLeft()-n.scrollSpeed):G(window).width()-(e.pageX-G(a).scrollLeft())<n.scrollSensitivity&&(s=G(a).scrollLeft(G(a).scrollLeft()+n.scrollSpeed)))),!1!==s&&G.ui.ddmanager&&!n.dropBehaviour&&G.ui.ddmanager.prepareOffsets(i,e)}}),G.ui.plugin.add("draggable","snap",{start:function(e,t,i){var n=i.options;i.snapElements=[],G(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=G(this),t=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,i){for(var n,s,o,a,r,l,u,c,d,h=i.options,p=h.snapTolerance,f=t.offset.left,m=f+i.helperProportions.width,g=t.offset.top,_=g+i.helperProportions.height,v=i.snapElements.length-1;0<=v;v--)l=(r=i.snapElements[v].left-i.margins.left)+i.snapElements[v].width,c=(u=i.snapElements[v].top-i.margins.top)+i.snapElements[v].height,m<r-p||l+p<f||_<u-p||c+p<g||!G.contains(i.snapElements[v].item.ownerDocument,i.snapElements[v].item)?(i.snapElements[v].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,G.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=!1):("inner"!==h.snapMode&&(n=Math.abs(u-_)<=p,s=Math.abs(c-g)<=p,o=Math.abs(r-m)<=p,a=Math.abs(l-f)<=p,n&&(t.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),s&&(t.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(t.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),a&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),d=n||s||o||a,"outer"!==h.snapMode&&(n=Math.abs(u-g)<=p,s=Math.abs(c-_)<=p,o=Math.abs(r-f)<=p,a=Math.abs(l-m)<=p,n&&(t.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),s&&(t.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(t.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),a&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[v].snapping&&(n||s||o||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,G.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=n||s||o||a||d)}}),G.ui.plugin.add("draggable","stack",{start:function(e,t,i){var n,i=i.options,i=G.makeArray(G(i.stack)).sort(function(e,t){return(parseInt(G(e).css("zIndex"),10)||0)-(parseInt(G(t).css("zIndex"),10)||0)});i.length&&(n=parseInt(G(i[0]).css("zIndex"),10)||0,G(i).each(function(e){G(this).css("zIndex",n+e)}),this.css("zIndex",n+i.length))}}),G.ui.plugin.add("draggable","zIndex",{start:function(e,t,i){t=G(t.helper),i=i.options;t.css("zIndex")&&(i._zIndex=t.css("zIndex")),t.css("zIndex",i.zIndex)},stop:function(e,t,i){i=i.options;i._zIndex&&G(t.helper).css("zIndex",i._zIndex)}});G.ui.draggable;function m(e,t,i){return t<=e&&e<t+i}G.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return e=e||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){G.ui.ddmanager.droppables[e]=G.ui.ddmanager.droppables[e]||[],G.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=G.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){var i;"accept"===e?this.accept="function"==typeof t?t:function(e){return e.is(t)}:"scope"===e&&(i=G.ui.ddmanager.droppables[this.options.scope],this._splice(i),this._addToManager(t)),this._super(e,t)},_activate:function(e){var t=G.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=G.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=G.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=G.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var i=e||G.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=G(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&G.ui.intersect(i,G.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(n=!0)}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),G.ui.intersect=function(e,t,i,n){if(!t.offset)return!1;var s=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=s+e.helperProportions.width,r=o+e.helperProportions.height,l=t.offset.left,u=t.offset.top,c=l+t.proportions().width,d=u+t.proportions().height;switch(i){case"fit":return l<=s&&a<=c&&u<=o&&r<=d;case"intersect":return l<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<c&&u<o+e.helperProportions.height/2&&r-e.helperProportions.height/2<d;case"pointer":return m(n.pageY,u,t.proportions().height)&&m(n.pageX,l,t.proportions().width);case"touch":return(u<=o&&o<=d||u<=r&&r<=d||o<u&&d<r)&&(l<=s&&s<=c||l<=a&&a<=c||s<l&&c<a);default:return!1}},!(G.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var i,n,s=G.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||e&&!s[i].accept.call(s[i].element[0],e.currentItem||e.element))){for(n=0;n<a.length;n++)if(a[n]===s[i].element[0]){s[i].proportions().height=0;continue e}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===o&&s[i]._activate.call(s[i],t),s[i].offset=s[i].element.offset(),s[i].proportions({width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight}))}},drop:function(e,t){var i=!1;return G.each((G.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&G.ui.intersect(e,this,this.options.tolerance,t)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),i},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||G.ui.ddmanager.prepareOffsets(e,t)})},drag:function(s,o){s.options.refreshPositions&&G.ui.ddmanager.prepareOffsets(s,o),G.each(G.ui.ddmanager.droppables[s.options.scope]||[],function(){var e,t,i,n;this.options.disabled||this.greedyChild||!this.visible||(n=!(i=G.ui.intersect(s,this,this.options.tolerance,o))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return G(this).droppable("instance").options.scope===t})).length&&((e=G(i[0]).droppable("instance")).greedyChild="isover"===n)),e&&"isover"===n&&(e.isover=!1,e.isout=!0,e._out.call(e,o)),this[n]=!0,this["isout"===n?"isover":"isout"]=!1,this["isover"===n?"_over":"_out"].call(this,o),e&&"isout"===n&&(e.isout=!1,e.isover=!0,e._over.call(e,o)))})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||G.ui.ddmanager.prepareOffsets(e,t)}})!==G.uiBackCompat&&G.widget("ui.droppable",G.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});G.ui.droppable;G.widget("ui.resizable",G.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if("hidden"===G(e).css("overflow"))return!1;var i=t&&"left"===t?"scrollLeft":"scrollTop",t=!1;if(0<e[i])return!0;try{e[i]=1,t=0<e[i],e[i]=0}catch(e){}return t},_create:function(){var e,t=this.options,i=this;this._addClass("ui-resizable"),G.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(G("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),t.autoHide&&G(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();function e(e){G(e).removeData("resizable").removeData("ui-resizable").off(".resizable")}var t;return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var e,t,i,n,s,o=this.options,a=this;if(this.handles=o.handles||(G(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=G(),this._addedHandles=G(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},t=0;t<i.length;t++)n="ui-resizable-"+(e=String.prototype.trim.call(i[t])),s=G("<div>"),this._addClass(s,"ui-resizable-handle "+n),s.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.children(this.handles[e]).length||(this.element.append(s),this._addedHandles=this._addedHandles.add(s));this._renderAxis=function(e){var t,i,n;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=G(this.handles[t]),this._on(this.handles[t],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=G(this.handles[t],this.element),n=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(i,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var t,i,n=!1;for(t in this.handles)(i=G(this.handles[t])[0])!==e.target&&!G.contains(i,e.target)||(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var t,i,n=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),n.containment&&(t+=G(n.containment).scrollLeft()||0,i+=G(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:t,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=G(".ui-resizable-"+this.axis).css("cursor"),G("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t=this.originalMousePosition,i=this.axis,n=e.pageX-t.left||0,t=e.pageY-t.top||0,i=this._change[i];return this._updatePrevProperties(),i&&(t=i.apply(this,[e,n,t]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),t=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),G.isEmptyObject(t)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,i,n,s=this.options,o=this;return this._helper&&(n=(t=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:o.sizeDiff.height,i=t?0:o.sizeDiff.width,t={width:o.helper.width()-i,height:o.helper.height()-n},i=parseFloat(o.element.css("left"))+(o.position.left-o.originalPosition.left)||null,n=parseFloat(o.element.css("top"))+(o.position.top-o.originalPosition.top)||null,s.animate||this.element.css(G.extend(t,{top:n,left:i})),o.helper.height(o.size.height),o.helper.width(o.size.width),this._helper&&!s.animate&&this._proportionallyResize()),G("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n=this.options,s={minWidth:this._isNumber(n.minWidth)?n.minWidth:0,maxWidth:this._isNumber(n.maxWidth)?n.maxWidth:1/0,minHeight:this._isNumber(n.minHeight)?n.minHeight:0,maxHeight:this._isNumber(n.maxHeight)?n.maxHeight:1/0};(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,e=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),e<s.maxHeight&&(s.maxHeight=e)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),o&&u&&(e.left=r-t.minWidth),n&&u&&(e.left=r-t.maxWidth),a&&i&&(e.top=l-t.minHeight),s&&i&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],s=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(s[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||G("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return G.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return G.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return G.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return G.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){G.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),G.ui.plugin.add("resizable","animate",{stop:function(t){var i=G(this).resizable("instance"),e=i.options,n=i._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),o=s&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,s={width:i.size.width-a,height:i.size.height-o},a=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(G.extend(s,o&&a?{top:o,left:a}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&G(n[0]).css({width:e.width,height:e.height}),i._updateCache(e),i._propagate("resize",t)}})}}),G.ui.plugin.add("resizable","containment",{start:function(){var i,n,s=G(this).resizable("instance"),e=s.options,t=s.element,o=e.containment,a=o instanceof G?o.get(0):/parent/.test(o)?t.parent().get(0):o;a&&(s.containerElement=G(a),/document/.test(o)||o===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:G(document),left:0,top:0,width:G(document).width(),height:G(document).height()||document.body.parentNode.scrollHeight}):(i=G(a),n=[],G(["Top","Right","Left","Bottom"]).each(function(e,t){n[e]=s._num(i.css("padding"+t))}),s.containerOffset=i.offset(),s.containerPosition=i.position(),s.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},e=s.containerOffset,t=s.containerSize.height,o=s.containerSize.width,o=s._hasScroll(a,"left")?a.scrollWidth:o,t=s._hasScroll(a)?a.scrollHeight:t,s.parentData={element:a,left:e.left,top:e.top,width:o,height:t}))},resize:function(e){var t=G(this).resizable("instance"),i=t.options,n=t.containerOffset,s=t.position,o=t._aspectRatio||e.shiftKey,a={top:0,left:0},r=t.containerElement,e=!0;r[0]!==document&&/static/.test(r.css("position"))&&(a=n),s.left<(t._helper?n.left:0)&&(t.size.width=t.size.width+(t._helper?t.position.left-n.left:t.position.left-a.left),o&&(t.size.height=t.size.width/t.aspectRatio,e=!1),t.position.left=i.helper?n.left:0),s.top<(t._helper?n.top:0)&&(t.size.height=t.size.height+(t._helper?t.position.top-n.top:t.position.top),o&&(t.size.width=t.size.height*t.aspectRatio,e=!1),t.position.top=t._helper?n.top:0),i=t.containerElement.get(0)===t.element.parent().get(0),s=/relative|absolute/.test(t.containerElement.css("position")),i&&s?(t.offset.left=t.parentData.left+t.position.left,t.offset.top=t.parentData.top+t.position.top):(t.offset.left=t.element.offset().left,t.offset.top=t.element.offset().top),s=Math.abs(t.sizeDiff.width+(t._helper?t.offset.left-a.left:t.offset.left-n.left)),n=Math.abs(t.sizeDiff.height+(t._helper?t.offset.top-a.top:t.offset.top-n.top)),s+t.size.width>=t.parentData.width&&(t.size.width=t.parentData.width-s,o&&(t.size.height=t.size.width/t.aspectRatio,e=!1)),n+t.size.height>=t.parentData.height&&(t.size.height=t.parentData.height-n,o&&(t.size.width=t.size.height*t.aspectRatio,e=!1)),e||(t.position.left=t.prevPosition.left,t.position.top=t.prevPosition.top,t.size.width=t.prevSize.width,t.size.height=t.prevSize.height)},stop:function(){var e=G(this).resizable("instance"),t=e.options,i=e.containerOffset,n=e.containerPosition,s=e.containerElement,o=G(e.helper),a=o.offset(),r=o.outerWidth()-e.sizeDiff.width,o=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(s.css("position"))&&G(this).css({left:a.left-n.left-i.left,width:r,height:o}),e._helper&&!t.animate&&/static/.test(s.css("position"))&&G(this).css({left:a.left-n.left-i.left,width:r,height:o})}}),G.ui.plugin.add("resizable","alsoResize",{start:function(){var e=G(this).resizable("instance").options;G(e.alsoResize).each(function(){var e=G(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var t=G(this).resizable("instance"),n=t.options,s=t.originalSize,o=t.originalPosition,a={height:t.size.height-s.height||0,width:t.size.width-s.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};G(n.alsoResize).each(function(){var e=G(this),n=G(this).data("ui-resizable-alsoresize"),s={},t=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];G.each(t,function(e,t){var i=(n[t]||0)+(a[t]||0);i&&0<=i&&(s[t]=i||null)}),e.css(s)})},stop:function(){G(this).removeData("ui-resizable-alsoresize")}}),G.ui.plugin.add("resizable","ghost",{start:function(){var e=G(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==G.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=G(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=G(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),G.ui.plugin.add("resizable","grid",{resize:function(){var e,t=G(this).resizable("instance"),i=t.options,n=t.size,s=t.originalSize,o=t.originalPosition,a=t.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,u=r[1]||1,c=Math.round((n.width-s.width)/l)*l,d=Math.round((n.height-s.height)/u)*u,h=s.width+c,p=s.height+d,f=i.maxWidth&&i.maxWidth<h,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>h,n=i.minHeight&&i.minHeight>p;i.grid=r,g&&(h+=l),n&&(p+=u),f&&(h-=l),m&&(p-=u),/^(se|s|e)$/.test(a)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(a)?(t.size.width=h,t.size.height=p,t.position.top=o.top-d):/^(sw)$/.test(a)?(t.size.width=h,t.size.height=p,t.position.left=o.left-c):((p-u<=0||h-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<p-u?(t.size.height=p,t.position.top=o.top-d):(p=u-e.height,t.size.height=p,t.position.top=o.top+s.height-p),0<h-l?(t.size.width=h,t.position.left=o.left-c):(h=l-e.width,t.size.width=h,t.position.left=o.left+s.width-h))}});G.ui.resizable,G.widget("ui.selectable",G.ui.mouse,{version:"1.13.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=G(i.element[0]).offset(),i.selectees=G(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var e=G(this),t=e.offset(),t={left:t.left-i.elementPos.left,top:t.top-i.elementPos.top};G.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=G("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var n=this,e=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=G(this.element[0]).offset(),this.options.disabled||(this.selectees=G(e.filter,this.element[0]),this._trigger("start",i),G(e.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=G.data(this,"selectable-item");e.startselected=!0,i.metaKey||i.ctrlKey||(n._removeClass(e.$element,"ui-selected"),e.selected=!1,n._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element}))}),G(i.target).parents().addBack().each(function(){var e,t=G.data(this,"selectable-item");if(t)return e=!i.metaKey&&!i.ctrlKey||!t.$element.hasClass("ui-selected"),n._removeClass(t.$element,e?"ui-unselecting":"ui-selected")._addClass(t.$element,e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?n._trigger("selecting",i,{selecting:t.element}):n._trigger("unselecting",i,{unselecting:t.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var e,s=this,o=this.options,a=this.opos[0],r=this.opos[1],l=n.pageX,u=n.pageY;return l<a&&(e=l,l=a,a=e),u<r&&(e=u,u=r,r=e),this.helper.css({left:a,top:r,width:l-a,height:u-r}),this.selectees.each(function(){var e=G.data(this,"selectable-item"),t=!1,i={};e&&e.element!==s.element[0]&&(i.left=e.left+s.elementPos.left,i.right=e.right+s.elementPos.left,i.top=e.top+s.elementPos.top,i.bottom=e.bottom+s.elementPos.top,"touch"===o.tolerance?t=!(i.left>l||i.right<a||i.top>u||i.bottom<r):"fit"===o.tolerance&&(t=i.left>a&&i.right<l&&i.top>r&&i.bottom<u),t?(e.selected&&(s._removeClass(e.$element,"ui-selected"),e.selected=!1),e.unselecting&&(s._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1),e.selecting||(s._addClass(e.$element,"ui-selecting"),e.selecting=!0,s._trigger("selecting",n,{selecting:e.element}))):(e.selecting&&((n.metaKey||n.ctrlKey)&&e.startselected?(s._removeClass(e.$element,"ui-selecting"),e.selecting=!1,s._addClass(e.$element,"ui-selected"),e.selected=!0):(s._removeClass(e.$element,"ui-selecting"),e.selecting=!1,e.startselected&&(s._addClass(e.$element,"ui-unselecting"),e.unselecting=!0),s._trigger("unselecting",n,{unselecting:e.element}))),e.selected&&(n.metaKey||n.ctrlKey||e.startselected||(s._removeClass(e.$element,"ui-selected"),e.selected=!1,s._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,s._trigger("unselecting",n,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,G(".ui-unselecting",this.element[0]).each(function(){var e=G.data(this,"selectable-item");i._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1,e.startselected=!1,i._trigger("unselected",t,{unselected:e.element})}),G(".ui-selecting",this.element[0]).each(function(){var e=G.data(this,"selectable-item");i._removeClass(e.$element,"ui-selecting")._addClass(e.$element,"ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,i._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),G.widget("ui.sortable",G.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),G.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var i=null,n=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),G(e.target).parents().each(function(){if(G.data(this,s.widgetName+"-item")===s)return i=G(this),!1}),!!(i=G.data(e.target,s.widgetName+"-item")===s?G(e.target):i)&&(!(this.options.handle&&!t&&(G(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var n,s,o=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=G("parent"!==o.appendTo?o.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},G.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),G.extend(this.offset,{parent:this._getParentOffset()}),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=G("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return G.ui.ddmanager&&(G.ui.ddmanager.current=this),G.ui.ddmanager&&!o.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var t=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-this.document.scrollTop()<t.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<t.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),e.pageX-this.document.scrollLeft()<t.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),i},_mouseDrag:function(e){var t,i,n,s,o=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o.scroll&&!1!==this._scroll(e)&&(this._refreshItemPositions(!0),G.ui.ddmanager&&!o.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},t=this.items.length-1;0<=t;t--)if(n=(i=this.items[t]).item[0],(s=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===n||G.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&G.contains(this.element[0],n))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),G.ui.ddmanager&&G.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var i,n,s,o;if(e)return G.ui.ddmanager&&!this.options.dropBehaviour&&G.ui.ddmanager.drop(this,e),this.options.revert?(n=(i=this).placeholder.offset(),o={},(s=this.options.axis)&&"x"!==s||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,G(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp(new G.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),G.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?G(this.domPosition.prev).after(this.currentItem):G(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},G(e).each(function(){var e=(G(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(G(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,a=o+e.width,r=e.top,l=r+e.height,u=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||r<n+u&&n+u<l,c="y"===this.options.axis||o<t+c&&t+c<a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u&&c:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!t||!e)&&(t=this.dragDirection.vertical,e=this.dragDirection.horizontal,this.floating?"right"===e||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this.dragDirection.vertical,e=this.dragDirection.horizontal;return this.floating&&e?"right"===e&&i||"left"===e&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,i,n,s,o=[],a=[],r=this._connectWith();if(r&&e)for(t=r.length-1;0<=t;t--)for(i=(n=G(r[t],this.document[0])).length-1;0<=i;i--)(s=G.data(n[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&a.push(["function"==typeof s.options.items?s.options.items.call(s.element):G(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);function l(){o.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):G(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=a.length-1;0<=t;t--)a[t][0].each(l);return G(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=G.grep(this.items,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,n,s,o,a,r,l,u=this.items,c=[["function"==typeof this.options.items?this.options.items.call(this.element[0],e,{item:this.currentItem}):G(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(t=d.length-1;0<=t;t--)for(i=(n=G(d[t],this.document[0])).length-1;0<=i;i--)(s=G.data(n[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&(c.push(["function"==typeof s.options.items?s.options.items.call(s.element[0],e,{item:this.currentItem}):G(s.options.items,s.element),s]),this.containers.push(s));for(t=c.length-1;0<=t;t--)for(o=c[t][1],l=(a=c[t][i=0]).length;i<l;i++)(r=G(a[i])).data(this.widgetName+"-item",o),u.push({item:r,instance:o,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){for(var t,i,n=this.items.length-1;0<=n;n--)t=this.items[n],this.currentContainer&&t.instance!==this.currentContainer&&t.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?G(this.options.toleranceElement,t.item):t.item,e||(t.width=i.outerWidth(),t.height=i.outerHeight()),i=i.offset(),t.left=i.left,t.top=i.top)},refreshPositions:function(e){var t,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)i=this.containers[t].element.offset(),this.containers[t].containerCache.left=i.left,this.containers[t].containerCache.top=i.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(i){var n,s,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(n=o.placeholder,s=i.currentItem[0].nodeName.toLowerCase(),o.placeholder={element:function(){var e=G("<"+s+">",i.document[0]);return i._addClass(e,"ui-sortable-placeholder",n||i.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===s?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),G("<tr>",i.document[0]).appendTo(e)):"tr"===s?i._createTrPlaceholder(i.currentItem,e):"img"===s&&e.attr("src",i.currentItem.attr("src")),n||e.css("visibility","hidden"),e},update:function(e,t){n&&!o.forcePlaceholderSize||(t.height()&&(!o.forcePlaceholderSize||"tbody"!==s&&"tr"!==s)||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=G(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(e,t){var i=this;e.children().each(function(){G("<td>&#160;</td>",i.document[0]).attr("colspan",G(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){for(var t,i,n,s,o,a,r,l,u,c=null,d=null,h=this.containers.length-1;0<=h;h--)G.contains(this.currentItem[0],this.containers[h].element[0])||(this._intersectsWith(this.containers[h].containerCache)?c&&G.contains(this.containers[h].element[0],c.element[0])||(c=this.containers[h],d=h):this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",e,this._uiHash(this)),this.containers[h].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(i=1e4,n=null,s=(l=c.floating||this._isFloating(this.currentItem))?"left":"top",o=l?"width":"height",u=l?"pageX":"pageY",t=this.items.length-1;0<=t;t--)G.contains(this.containers[d].element[0],this.items[t].item[0])&&this.items[t].item[0]!==this.currentItem[0]&&(a=this.items[t].item.offset()[s],r=!1,e[u]-a>this.items[t][o]/2&&(r=!0),Math.abs(e[u]-a)<i&&(i=Math.abs(e[u]-a),n=this.items[t],this.direction=r?"up":"down"));(n||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[d]?(n?this._rearrange(e,n,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(e){var t=this.options,e="function"==typeof t.helper?G(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return e.parents("body").length||this.appendTo[0].appendChild(e[0]),e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),e[0].style.width&&!t.forceHelperSize||e.width(this.currentItem.width()),e[0].style.height&&!t.forceHelperSize||e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&G.ui.ie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=G(i.containment)[0],t=G(i.containment).offset(),i="hidden"!==G(e).css("overflow"),this.containment=[t.left+(parseInt(G(e).css("borderLeftWidth"),10)||0)+(parseInt(G(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(G(e).css("borderTopWidth"),10)||0)+(parseInt(G(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(G(e).css("borderLeftWidth"),10)||0)-(parseInt(G(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(G(e).css("borderTopWidth"),10)||0)-(parseInt(G(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:n.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:n.scrollLeft())*i}},_generatePosition:function(e){var t=this.options,i=e.pageX,n=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),t.grid&&(e=this.originalPageY+Math.round((n-this.originalPageY)/t.grid[1])*t.grid[1],n=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-t.grid[1]:e+t.grid[1],e=this.originalPageX+Math.round((i-this.originalPageX)/t.grid[0])*t.grid[0],i=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-t.grid[0]:e+t.grid[0])),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function s(t,i,n){return function(e){n._trigger(t,e,i._uiHash(i))}}for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)t||n.push(s("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(s("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===G.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||G([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}}),G.widget("ui.accordion",{version:"1.13.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=G(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():G()}},_createIcons:function(){var e,t=this.options.icons;t&&(e=G("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+t.header),e.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,t.header)._addClass(e,null,t.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=G.ui.keyCode,i=this.headers.length,n=this.headers.index(e.target),s=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:s=this.headers[(n+1)%i];break;case t.LEFT:case t.UP:s=this.headers[(n-1+i)%i];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:s=this.headers[0];break;case t.END:s=this.headers[i-1]}s&&(G(e.target).attr("tabIndex",-1),G(s).attr("tabIndex",0),G(s).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===G.ui.keyCode.UP&&e.ctrlKey&&G(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=G()):!1===e.active?this._activate(0):this.active.length&&!G.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=G()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var i,e=this.options,t=e.heightStyle,n=this.element.parent();this.active=this._findActive(e.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=G(this),t=e.uniqueId().attr("id"),i=e.next(),n=i.uniqueId().attr("id");e.attr("aria-controls",n),i.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(i=n.height(),this.element.siblings(":visible").each(function(){var e=G(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=G(this).outerHeight(!0)}),this.headers.next().each(function(){G(this).height(Math.max(0,i-G(this).innerHeight()+G(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.headers.next().each(function(){var e=G(this).is(":visible");e||G(this).show(),i=Math.max(i,G(this).css("height","").height()),e||G(this).hide()}).height(i))},_activate:function(e){e=this._findActive(e)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:G.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):G()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&G.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t=this.options,i=this.active,n=G(e.currentTarget),s=n[0]===i[0],o=s&&t.collapsible,a=o?G():n.next(),r=i.next(),a={oldHeader:i,oldPanel:r,newHeader:o?G():n,newPanel:a};e.preventDefault(),s&&!t.collapsible||!1===this._trigger("beforeActivate",e,a)||(t.active=!o&&this.headers.index(n),this.active=s?G():n,this._toggle(a),this._removeClass(i,"ui-accordion-header-active","ui-state-active"),t.icons&&(i=i.children(".ui-accordion-header-icon"),this._removeClass(i,null,t.icons.activeHeader)._addClass(i,null,t.icons.header)),s||(this._removeClass(n,"ui-accordion-header-collapsed")._addClass(n,"ui-accordion-header-active","ui-state-active"),t.icons&&(s=n.children(".ui-accordion-header-icon"),this._removeClass(s,null,t.icons.header)._addClass(s,null,t.icons.activeHeader)),this._addClass(n.next(),"ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=i,this.options.animate?this._animate(t,i,e):(i.hide(),t.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(G(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,t){var n,s,o,a=this,r=0,l=e.css("box-sizing"),u=e.length&&(!i.length||e.index()<i.index()),c=this.options.animate||{},d=u&&c.down||c,u=function(){a._toggleComplete(t)};return s=(s="string"==typeof d?d:s)||d.easing||c.easing,o=(o="number"==typeof d?d:o)||d.duration||c.duration,i.length?e.length?(n=e.show().outerHeight(),i.animate(this.hideProps,{duration:o,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:s,complete:u,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===l&&(r+=t.now):"content"!==a.options.heightStyle&&(t.now=Math.round(n-i.outerHeight()-r),r=0)}})):i.animate(this.hideProps,o,s,u):e.animate(this.showProps,o,s,u)},_toggleComplete:function(e){var t=e.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),G.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var t=G(e.target),i=G(G.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this._menuItems().first();t||this.focus(e,i)},blur:function(e){this._delay(function(){G.contains(this.element[0],G.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){var t,i;this.previousFilter||e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:e.clientX,y:e.clientY},t=G(e.target).closest(".ui-menu-item"),i=G(e.currentTarget),t[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))))},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=G(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,i,n,s=!0;switch(e.keyCode){case G.ui.keyCode.PAGE_UP:this.previousPage(e);break;case G.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case G.ui.keyCode.HOME:this._move("first","first",e);break;case G.ui.keyCode.END:this._move("last","last",e);break;case G.ui.keyCode.UP:this.previous(e);break;case G.ui.keyCode.DOWN:this.next(e);break;case G.ui.keyCode.LEFT:this.collapse(e);break;case G.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case G.ui.keyCode.ENTER:case G.ui.keyCode.SPACE:this._activate(e);break;case G.ui.keyCode.ESCAPE:this.collapse(e);break;default:t=this.previousFilter||"",n=s=!1,i=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),i===t?n=!0:i=t+i,t=this._filterMenuItems(i),(t=n&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(i=String.fromCharCode(e.keyCode),t=this._filterMenuItems(i)),t.length?(this.focus(e,t),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,n=this,s=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=G(this),t=e.prev(),i=G("<span>").data("ui-menu-submenu-caret",!0);n._addClass(i,"ui-menu-icon","ui-icon "+s),t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(e=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=G(this);n._isDivider(e)&&n._addClass(e,"ui-menu-divider","ui-widget-content")}),i=(t=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(t,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!G.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){var i;"icons"===e&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,n;this._hasScroll()&&(i=parseFloat(G.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(G.css(this.activeMenu[0],"paddingTop"))||0,t=e.offset().top-this.activeMenu.offset().top-i-n,i=this.activeMenu.scrollTop(),n=this.activeMenu.height(),e=e.outerHeight(),t<0?this.activeMenu.scrollTop(i+t):n<t+e&&this.activeMenu.scrollTop(i+t-n+e))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=G.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:G(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},i?0:this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!G(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,t,i){var n;(n=this.active?"first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first():n)&&n.length&&this.active||(n=this._menuItems(this.activeMenu)[t]()),this.focus(i,n)},nextPage:function(e){var t,i,n;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.innerHeight(),0===G.fn.jquery.indexOf("3.2.")&&(n+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(t=G(this)).offset().top-i-n<0}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,n;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.innerHeight(),0===G.fn.jquery.indexOf("3.2.")&&(n+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=G(this)).offset().top-i+n}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||G(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var e=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return t.test(String.prototype.trim.call(G(this).children(".ui-menu-item-wrapper").text()))})}});G.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var i,n,s,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,e="input"===e;this.isMultiLine=t||!e&&this._isContentEditable(this.element),this.valueMethod=this.element[t||e?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))n=s=i=!0;else{n=s=i=!1;var t=G.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:n=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!n){var t=G.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=G("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault()},menufocus:function(e,t){var i,n;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){G(e.target).trigger(e.originalEvent)});n=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(i=t.item.attr("aria-label")||n.value)&&String.prototype.trim.call(i).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(G("<div>").text(i))},100))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==G.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=G("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||G.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e=!(e=!(e=e&&(e.jquery||e.nodeType?G(e):this.document.find(e).eq(0)))||!e[0]?this.element.closest(".ui-front, dialog"):e).length?this.document[0].body:e},_initSource:function(){var i,n,s=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(G.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,t){s.xhr&&s.xhr.abort(),s.xhr=G.ajax({url:n,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),i=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;e&&(t||i)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:G.map(e,function(e){return"string"==typeof e?{label:e,value:e}:G.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(G.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var n=this;G.each(e,function(e,t){n._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return G("<li>").append(G("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),G.extend(G.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(G.ui.autocomplete.escapeRegex(t),"i");return G.grep(e,function(e){return i.test(e.label||e.value||e)})}}),G.widget("ui.autocomplete",G.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(G("<div>").text(t))},100))}});G.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;G.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var o=this,a=[];G.each(this.options.items,function(n,e){var t,s={};if(e)return"controlgroupLabel"===n?((t=o.element.find(e)).each(function(){var e=G(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),o._addClass(t,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(t.get()))):void(G.fn[n]&&(s=o["_"+n+"Options"]?o["_"+n+"Options"]("middle"):{classes:{}},o.element.find(e).each(function(){var e=G(this),t=e[n]("instance"),i=G.widget.extend({},s);"button"===n&&e.parent(".ui-spinner").length||((t=t||e[n]()[n]("instance"))&&(i.classes=o._resolveClassesValues(i.classes,t)),e[n](i),i=e[n]("widget"),G.data(i[0],"ui-controlgroup-data",t||e[n]("instance")),a.push(i[0]))})))}),this.childWidgets=G(G.uniqueSort(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var e=G(this).data("ui-controlgroup-data");e&&e[t]&&e[t]()})},_updateCornerClass:function(e,t){t=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,t)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],n},_spinnerOptions:function(e){e=this._buildSimpleOptions(e,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,n){var s={};return G.each(i,function(e){var t=n.options.classes[e]||"",t=String.prototype.trim.call(t.replace(g,""));s[e]=(t+" "+i[e]).replace(/\s+/g," ")}),s},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var s,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),s=this.childWidgets,(s=this.options.onlyVisible?s.filter(":visible"):s).length&&(G.each(["first","last"],function(e,t){var i,n=s[t]().data("ui-controlgroup-data");n&&o["_"+n.widgetName+"Options"]?((i=o["_"+n.widgetName+"Options"](1===s.length?"only":t)).classes=o._resolveClassesValues(i.classes,n),n.element[n.widgetName](i)):o._updateCornerClass(s[t](),t)}),this._callChildMethod("refresh"))}});G.widget("ui.checkboxradio",[G.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t=this,i=this._super()||{};return this._readType(),e=this.element.labels(),this.label=G(e[e.length-1]),this.label.length||G.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){t.originalLabel+=3===this.nodeType?G(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(i.disabled=e),i},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||G.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+G.escapeSelector(e)+"']";return e?(this.form.length?G(this.form[0].elements).filter(t):G(t).filter(function(){return 0===G(this)._form().length})).not(this.element):G([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=G(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=G("<span>"),this.iconSpace=G("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),(e=this.iconSpace?e.not(this.iconSpace[0]):e).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);var _;G.ui.checkboxradio;G.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===G.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var i="iconPosition"!==e,n=i?this.options.iconPosition:t,e="top"===n||"bottom"===n;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=G("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,t),this._attachIcon(n),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=G("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=(void 0===e.showLabel?this.options:e).showLabel,i=(void 0===e.icon?this.options:e).icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==G.uiBackCompat&&(G.widget("ui.button",G.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),G.fn.button=(_=G.fn.button,function(i){var e="string"==typeof i,n=Array.prototype.slice.call(arguments,1),s=this;return e?this.length||"instance"!==i?this.each(function(){var e=G(this).attr("type"),t=G.data(this,"ui-"+("checkbox"!==e&&"radio"!==e?"button":"checkboxradio"));return"instance"===i?(s=t,!1):t?"function"!=typeof t[i]||"_"===i.charAt(0)?G.error("no such method '"+i+"' for button widget instance"):(e=t[i].apply(t,n))!==t&&void 0!==e?(s=e&&e.jquery?s.pushStack(e.get()):e,!1):void 0:G.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")}):s=void 0:(n.length&&(i=G.widget.extend.apply(null,[i].concat(n))),this.each(function(){var e=G(this).attr("type"),t="checkbox"!==e&&"radio"!==e?"button":"checkboxradio",e=G.data(this,"ui-"+t);e?(e.option(i||{}),e._init&&e._init()):"button"!=t?G(this).checkboxradio(G.extend({icon:!1},i)):_.call(G(this),i)})),s}),G.fn.buttonset=function(){return G.ui.controlgroup||G.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var v;G.ui.button;function b(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},G.extend(this._defaults,this.regional[""]),this.regional.en=G.extend(!0,{},this.regional[""]),this.regional["en-US"]=G.extend(!0,{},this.regional.en),this.dpDiv=q(G("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function q(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){G(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&G(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&G(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",t,y)}function y(){G.datepicker._isDisabledDatepicker((v.inline?v.dpDiv.parent():v.input)[0])||(G(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),G(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&G(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&G(this).addClass("ui-datepicker-next-hover"))}function E(e,t){for(var i in G.extend(e,t),t)null==t[i]&&(e[i]=t[i]);return e}G.extend(G.ui,{datepicker:{version:"1.13.1"}}),G.extend(b.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return E(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var i,n=e.nodeName.toLowerCase(),s="div"===n||"span"===n;e.id||(this.uuid+=1,e.id="dp"+this.uuid),(i=this._newInst(G(e),s)).settings=G.extend({},t||{}),"input"===n?this._connectDatepicker(e,i):s&&this._inlineDatepicker(e,i)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?q(G("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var i=G(e);t.append=G([]),t.trigger=G([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(t),G.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i,n=this._get(t,"appendText"),s=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=G("<span>").addClass(this._appendClass).text(n),e[s?"before":"after"](t.append)),e.off("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(i=this._get(t,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(t,"buttonText"),i=this._get(t,"buttonImage"),this._get(t,"buttonImageOnly")?t.trigger=G("<img>").addClass(this._triggerClass).attr({src:i,alt:n,title:n}):(t.trigger=G("<button type='button'>").addClass(this._triggerClass),i?t.trigger.html(G("<img>").attr({src:i,alt:n,title:n})):t.trigger.text(n)),e[s?"before":"after"](t.trigger),t.trigger.on("click",function(){return G.datepicker._datepickerShowing&&G.datepicker._lastInput===e[0]?G.datepicker._hideDatepicker():(G.datepicker._datepickerShowing&&G.datepicker._lastInput!==e[0]&&G.datepicker._hideDatepicker(),G.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var t,i,n,s,o,a;this._get(e,"autoSize")&&!e.inline&&(o=new Date(2009,11,20),(a=this._get(e,"dateFormat")).match(/[DM]/)&&(t=function(e){for(s=n=i=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length))},_inlineDatepicker:function(e,t){var i=G(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv),G.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,s){var o,a=this._dialogInst;return a||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=G("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),G("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},G.data(this._dialogInput[0],"datepicker",a)),E(a.settings,n||{}),t=t&&t.constructor===Date?this._formatDate(a,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(o=document.documentElement.clientWidth,n=document.documentElement.clientHeight,t=document.documentElement.scrollLeft||document.body.scrollLeft,s=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+t,n/2-150+s]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),G.blockUI&&G.blockUI(this.dpDiv),G.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(e){var t,i=G(e),n=G.data(e,"datepicker");i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),G.removeData(e,"datepicker"),"input"===t?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||i.removeClass(this.markerClassName).empty(),v===n&&(v=null,this._curInst=null))},_enableDatepicker:function(t){var e,i=G(t),n=G.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=G.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,i=G(t),n=G.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=G.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return G.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n,s,o=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?G.extend({},G.datepicker._defaults):o?"all"===t?G.extend({},o.settings):this._get(o,t):null;n=t||{},"string"==typeof t&&((n={})[t]=i),o&&(this._curInst===o&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),t=this._getMinMaxDate(o,"min"),i=this._getMinMaxDate(o,"max"),E(o.settings,n),null!==t&&void 0!==n.dateFormat&&void 0===n.minDate&&(o.settings.minDate=this._formatDate(o,t)),null!==i&&void 0!==n.dateFormat&&void 0===n.maxDate&&(o.settings.maxDate=this._formatDate(o,i)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(G(e),o),this._autoSize(o),this._setDate(o,s),this._updateAlternate(o),this._updateDatepicker(o))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){e=this._getInst(e);e&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){e=this._getInst(e);e&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){e=this._getInst(e);return e&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t,i,n=G.datepicker._getInst(e.target),s=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,G.datepicker._datepickerShowing)switch(e.keyCode){case 9:G.datepicker._hideDatepicker(),s=!1;break;case 13:return(i=G("td."+G.datepicker._dayOverClass+":not(."+G.datepicker._currentClass+")",n.dpDiv))[0]&&G.datepicker._selectDay(e.target,n.selectedMonth,n.selectedYear,i[0]),(t=G.datepicker._get(n,"onSelect"))?(i=G.datepicker._formatDate(n),t.apply(n.input?n.input[0]:null,[i,n])):G.datepicker._hideDatepicker(),!1;case 27:G.datepicker._hideDatepicker();break;case 33:G.datepicker._adjustDate(e.target,e.ctrlKey?-G.datepicker._get(n,"stepBigMonths"):-G.datepicker._get(n,"stepMonths"),"M");break;case 34:G.datepicker._adjustDate(e.target,e.ctrlKey?+G.datepicker._get(n,"stepBigMonths"):+G.datepicker._get(n,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&G.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&G.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,o?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&G.datepicker._adjustDate(e.target,e.ctrlKey?-G.datepicker._get(n,"stepBigMonths"):-G.datepicker._get(n,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,o?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&G.datepicker._adjustDate(e.target,e.ctrlKey?+G.datepicker._get(n,"stepBigMonths"):+G.datepicker._get(n,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?G.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,i=G.datepicker._getInst(e.target);if(G.datepicker._get(i,"constrainInput"))return t=G.datepicker._possibleChars(G.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!t||-1<t.indexOf(i)},_doKeyUp:function(e){e=G.datepicker._getInst(e.target);if(e.input.val()!==e.lastVal)try{G.datepicker.parseDate(G.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,G.datepicker._getFormatConfig(e))&&(G.datepicker._setDateFromField(e),G.datepicker._updateAlternate(e),G.datepicker._updateDatepicker(e))}catch(e){}return!0},_showDatepicker:function(e){var t,i,n,s;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=G("input",e.parentNode)[0]),G.datepicker._isDisabledDatepicker(e)||G.datepicker._lastInput===e||(s=G.datepicker._getInst(e),G.datepicker._curInst&&G.datepicker._curInst!==s&&(G.datepicker._curInst.dpDiv.stop(!0,!0),s&&G.datepicker._datepickerShowing&&G.datepicker._hideDatepicker(G.datepicker._curInst.input[0])),!1!==(i=(n=G.datepicker._get(s,"beforeShow"))?n.apply(e,[e,s]):{})&&(E(s.settings,i),s.lastVal=null,G.datepicker._lastInput=e,G.datepicker._setDateFromField(s),G.datepicker._inDialog&&(e.value=""),G.datepicker._pos||(G.datepicker._pos=G.datepicker._findPos(e),G.datepicker._pos[1]+=e.offsetHeight),t=!1,G(e).parents().each(function(){return!(t|="fixed"===G(this).css("position"))}),n={left:G.datepicker._pos[0],top:G.datepicker._pos[1]},G.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),G.datepicker._updateDatepicker(s),n=G.datepicker._checkOffset(s,n,t),s.dpDiv.css({position:G.datepicker._inDialog&&G.blockUI?"static":t?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),s.inline||(i=G.datepicker._get(s,"showAnim"),n=G.datepicker._get(s,"duration"),s.dpDiv.css("z-index",function(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}(G(e))+1),G.datepicker._datepickerShowing=!0,G.effects&&G.effects.effect[i]?s.dpDiv.show(i,G.datepicker._get(s,"showOptions"),n):s.dpDiv[i||"show"](i?n:null),G.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),G.datepicker._curInst=s)))},_updateDatepicker:function(e){this.maxRows=4,(v=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,i=this._getNumberOfMonths(e),n=i[1],s=e.dpDiv.find("."+this._dayOverClass+" a"),o=G.datepicker._get(e,"onUpdateDatepicker");0<s.length&&y.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===G.datepicker._curInst&&G.datepicker._datepickerShowing&&G.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),t=e.yearshtml=null},0)),o&&o.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:G(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:G(document).scrollTop());return t.left-=this._get(e,"isRTL")?n-o:0,t.left-=i&&t.left===e.input.offset().left?G(document).scrollLeft():0,t.top-=i&&t.top===e.input.offset().top+a?G(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>r&&n<r?Math.abs(t.left+n-r):0),t.top-=Math.min(t.top,t.top+s>l&&s<l?Math.abs(s+a):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||G.expr.pseudos.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return[(t=G(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,i,n=this._curInst;!n||e&&n!==G.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(n,"showAnim"),i=this._get(n,"duration"),e=function(){G.datepicker._tidyDialog(n)},G.effects&&(G.effects.effect[t]||G.effects[t])?n.dpDiv.hide(t,G.datepicker._get(n,"showOptions"),i,e):n.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?i:null,e),t||e(),this._datepickerShowing=!1,(e=this._get(n,"onClose"))&&e.apply(n.input?n.input[0]:null,[n.input?n.input.val():"",n]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),G.blockUI&&(G.unblockUI(),G("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){var t;G.datepicker._curInst&&(t=G(e.target),e=G.datepicker._getInst(t[0]),(t[0].id===G.datepicker._mainDivId||0!==t.parents("#"+G.datepicker._mainDivId).length||t.hasClass(G.datepicker.markerClassName)||t.closest("."+G.datepicker._triggerClass).length||!G.datepicker._datepickerShowing||G.datepicker._inDialog&&G.blockUI)&&(!t.hasClass(G.datepicker.markerClassName)||G.datepicker._curInst===e)||G.datepicker._hideDatepicker())},_adjustDate:function(e,t,i){var n=G(e),e=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(e,t,i),this._updateDatepicker(e))},_gotoToday:function(e){var t=G(e),i=this._getInst(t[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var n=G(e),e=this._getInst(n[0]);e["selected"+("M"===i?"Month":"Year")]=e["draw"+("M"===i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(n)},_selectDay:function(e,t,i,n){var s=G(e);G(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((s=this._getInst(s[0])).selectedDay=s.currentDay=parseInt(G("a",n).attr("data-date")),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=i,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){e=G(e);this._selectDate(e,"")},_selectDate:function(e,t){var i=G(e),e=this._getInst(i[0]);t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e),(i=this._get(e,"onSelect"))?i.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var t,i,n=this._get(e,"altField");n&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),e=this.formatDate(t,i,this._getFormatConfig(e)),G(document).find(n).val(e))},noWeekends:function(e){e=e.getDay();return[0<e&&e<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),e=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((e-t)/864e5)/7)+1},parseDate:function(t,s,e){if(null==t||null==s)throw"Invalid arguments";if(""===(s="object"==typeof s?s.toString():s+""))return null;for(var i,n,o,a=0,r=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,r="string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10),l=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,u=(e?e.dayNames:null)||this._defaults.dayNames,c=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,d=(e?e.monthNames:null)||this._defaults.monthNames,h=-1,p=-1,f=-1,m=-1,g=!1,_=function(e){e=y+1<t.length&&t.charAt(y+1)===e;return e&&y++,e},v=function(e){var t=_(e),t="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,t=new RegExp("^\\d{"+("y"===e?t:1)+","+t+"}"),t=s.substring(a).match(t);if(!t)throw"Missing number at position "+a;return a+=t[0].length,parseInt(t[0],10)},b=function(e,t,i){var n=-1,t=G.map(_(e)?i:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(G.each(t,function(e,t){var i=t[1];if(s.substr(a,i.length).toLowerCase()===i.toLowerCase())return n=t[0],a+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+a},q=function(){if(s.charAt(a)!==t.charAt(y))throw"Unexpected literal at position "+a;a++},y=0;y<t.length;y++)if(g)"'"!==t.charAt(y)||_("'")?q():g=!1;else switch(t.charAt(y)){case"d":f=v("d");break;case"D":b("D",l,u);break;case"o":m=v("o");break;case"m":p=v("m");break;case"M":p=b("M",c,d);break;case"y":h=v("y");break;case"@":h=(o=new Date(v("@"))).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"!":h=(o=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"'":_("'")?q():g=!0;break;default:q()}if(a<s.length&&(n=s.substr(a),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(-1===h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=r?0:-100)),-1<m)for(p=1,f=m;;){if(f<=(i=this._getDaysInMonth(h,p-1)))break;p++,f-=i}if((o=this._daylightSavingAdjust(new Date(h,p-1,f))).getFullYear()!==h||o.getMonth()+1!==p||o.getDate()!==f)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";function n(e,t,i){var n=""+t;if(c(e))for(;n.length<i;)n="0"+n;return n}function s(e,t,i,n){return(c(e)?n:i)[t]}var o,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,u=(i?i.monthNames:null)||this._defaults.monthNames,c=function(e){e=o+1<t.length&&t.charAt(o+1)===e;return e&&o++,e},d="",h=!1;if(e)for(o=0;o<t.length;o++)if(h)"'"!==t.charAt(o)||c("'")?d+=t.charAt(o):h=!1;else switch(t.charAt(o)){case"d":d+=n("d",e.getDate(),2);break;case"D":d+=s("D",e.getDay(),a,r);break;case"o":d+=n("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=n("m",e.getMonth()+1,2);break;case"M":d+=s("M",e.getMonth(),l,u);break;case"y":d+=c("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?d+="'":h=!0;break;default:d+=t.charAt(o)}return d},_possibleChars:function(t){for(var e="",i=!1,n=function(e){e=s+1<t.length&&t.charAt(s+1)===e;return e&&s++,e},s=0;s<t.length;s++)if(i)"'"!==t.charAt(s)||n("'")?e+=t.charAt(s):i=!1;else switch(t.charAt(s)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":n("'")?e+="'":i=!0;break;default:e+=t.charAt(s)}return e},_get:function(e,t){return(void 0!==e.settings[t]?e.settings:this._defaults)[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),o=s,a=this._getFormatConfig(e);try{o=this.parseDate(i,n,a)||s}catch(e){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(r,e,t){var i,n,e=null==e||""===e?t:"string"==typeof e?function(e){try{return G.datepicker.parseDate(G.datepicker._get(r,"dateFormat"),e,G.datepicker._getFormatConfig(r))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?G.datepicker._getDate(r):null)||new Date,i=t.getFullYear(),n=t.getMonth(),s=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(e);a;){switch(a[2]||"d"){case"d":case"D":s+=parseInt(a[1],10);break;case"w":case"W":s+=7*parseInt(a[1],10);break;case"m":case"M":n+=parseInt(a[1],10),s=Math.min(s,G.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(a[1],10),s=Math.min(s,G.datepicker._getDaysInMonth(i,n))}a=o.exec(e)}return new Date(i,n,s)}(e):"number"==typeof e?isNaN(e)?t:(i=e,(n=new Date).setDate(n.getDate()+i),n):new Date(e.getTime());return(e=e&&"Invalid Date"===e.toString()?t:e)&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,o=e.selectedYear,t=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),s===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){G.datepicker._adjustDate(i,-t,"M")},next:function(){G.datepicker._adjustDate(i,+t,"M")},hide:function(){G.datepicker._hideDatepicker()},today:function(){G.datepicker._gotoToday(i)},selectDay:function(){return G.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return G.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return G.datepicker._selectMonthYear(i,this,"Y"),!1}};G(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,s,o,a,r,l,u,c,d,h,p,f,m,g,_,v,b,q,y,w,x,S,C,D,k,E,T,I,P,A,F=new Date,O=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),M=this._get(e,"isRTL"),N=this._get(e,"showButtonPanel"),R=this._get(e,"hideIfNoPrevNext"),L=this._get(e,"navigationAsDateFormat"),H=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),F=this._get(e,"stepMonths"),B=1!==H[0]||1!==H[1],z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),j=this._getMinMaxDate(e,"min"),W=this._getMinMaxDate(e,"max"),Y=e.drawMonth-U,V=e.drawYear;if(Y<0&&(Y+=12,V--),W)for(t=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth()-H[0]*H[1]+1,W.getDate())),t=j&&t<j?j:t;this._daylightSavingAdjust(new Date(V,Y,1))>t;)--Y<0&&(Y=11,V--);for(e.drawMonth=Y,e.drawYear=V,U=this._get(e,"prevText"),U=L?this.formatDate(U,this._daylightSavingAdjust(new Date(V,Y-F,1)),this._getFormatConfig(e)):U,i=this._canAdjustMonth(e,-1,V,Y)?G("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:U}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(M?"e":"w")).text(U))[0].outerHTML:R?"":G("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:U}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(M?"e":"w")).text(U))[0].outerHTML,U=this._get(e,"nextText"),U=L?this.formatDate(U,this._daylightSavingAdjust(new Date(V,Y+F,1)),this._getFormatConfig(e)):U,n=this._canAdjustMonth(e,1,V,Y)?G("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:U}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(M?"w":"e")).text(U))[0].outerHTML:R?"":G("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:U}).append(G("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(M?"w":"e")).text(U))[0].outerHTML,F=this._get(e,"currentText"),R=this._get(e,"gotoCurrent")&&e.currentDay?z:O,F=L?this.formatDate(F,R,this._getFormatConfig(e)):F,U="",e.inline||(U=G("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),L="",N&&(L=G("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(M?U:"").append(this._isInRange(e,R)?G("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(F):"").append(M?"":U)[0].outerHTML),s=parseInt(this._get(e,"firstDay"),10),s=isNaN(s)?0:s,o=this._get(e,"showWeek"),a=this._get(e,"dayNames"),r=this._get(e,"dayNamesMin"),l=this._get(e,"monthNames"),u=this._get(e,"monthNamesShort"),c=this._get(e,"beforeShowDay"),d=this._get(e,"showOtherMonths"),h=this._get(e,"selectOtherMonths"),p=this._getDefaultDate(e),f="",g=0;g<H[0];g++){for(_="",this.maxRows=4,v=0;v<H[1];v++){if(b=this._daylightSavingAdjust(new Date(V,Y,e.selectedDay)),q=" ui-corner-all",y="",B){if(y+="<div class='ui-datepicker-group",1<H[1])switch(v){case 0:y+=" ui-datepicker-group-first",q=" ui-corner-"+(M?"right":"left");break;case H[1]-1:y+=" ui-datepicker-group-last",q=" ui-corner-"+(M?"left":"right");break;default:y+=" ui-datepicker-group-middle",q=""}y+="'>"}for(y+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+q+"'>"+(/all|left/.test(q)&&0===g?M?n:i:"")+(/all|right/.test(q)&&0===g?M?i:n:"")+this._generateMonthYearHeader(e,Y,V,j,W,0<g||0<v,l,u)+"</div><table class='ui-datepicker-calendar'><thead><tr>",w=o?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",m=0;m<7;m++)w+="<th scope='col'"+(5<=(m+s+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+a[x=(m+s)%7]+"'>"+r[x]+"</span></th>";for(y+=w+"</tr></thead><tbody>",C=this._getDaysInMonth(V,Y),V===e.selectedYear&&Y===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,C)),S=(this._getFirstDayOfMonth(V,Y)-s+7)%7,C=Math.ceil((S+C)/7),D=B&&this.maxRows>C?this.maxRows:C,this.maxRows=D,k=this._daylightSavingAdjust(new Date(V,Y,1-S)),E=0;E<D;E++){for(y+="<tr>",T=o?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(k)+"</td>":"",m=0;m<7;m++)I=c?c.apply(e.input?e.input[0]:null,[k]):[!0,""],A=(P=k.getMonth()!==Y)&&!h||!I[0]||j&&k<j||W&&W<k,T+="<td class='"+(5<=(m+s+6)%7?" ui-datepicker-week-end":"")+(P?" ui-datepicker-other-month":"")+(k.getTime()===b.getTime()&&Y===e.selectedMonth&&e._keyEvent||p.getTime()===k.getTime()&&p.getTime()===b.getTime()?" "+this._dayOverClass:"")+(A?" "+this._unselectableClass+" ui-state-disabled":"")+(P&&!d?"":" "+I[1]+(k.getTime()===z.getTime()?" "+this._currentClass:"")+(k.getTime()===O.getTime()?" ui-datepicker-today":""))+"'"+(P&&!d||!I[2]?"":" title='"+I[2].replace(/'/g,"&#39;")+"'")+(A?"":" data-handler='selectDay' data-event='click' data-month='"+k.getMonth()+"' data-year='"+k.getFullYear()+"'")+">"+(P&&!d?"&#xa0;":A?"<span class='ui-state-default'>"+k.getDate()+"</span>":"<a class='ui-state-default"+(k.getTime()===O.getTime()?" ui-state-highlight":"")+(k.getTime()===z.getTime()?" ui-state-active":"")+(P?" ui-priority-secondary":"")+"' href='#' aria-current='"+(k.getTime()===z.getTime()?"true":"false")+"' data-date='"+k.getDate()+"'>"+k.getDate()+"</a>")+"</td>",k.setDate(k.getDate()+1),k=this._daylightSavingAdjust(k);y+=T+"</tr>"}11<++Y&&(Y=0,V++),_+=y+="</tbody></table>"+(B?"</div>"+(0<H[0]&&v===H[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}f+=_}return f+=L,e._keyEvent=!1,f},_generateMonthYearHeader:function(e,t,i,n,s,o,a,r){var l,u,c,d,h,p,f=this._get(e,"changeMonth"),m=this._get(e,"changeYear"),g=this._get(e,"showMonthAfterYear"),_=this._get(e,"selectMonthLabel"),v=this._get(e,"selectYearLabel"),b="<div class='ui-datepicker-title'>",q="";if(o||!f)q+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,u=s&&s.getFullYear()===i,q+="<select class='ui-datepicker-month' aria-label='"+_+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!u||c<=s.getMonth())&&(q+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+r[c]+"</option>");q+="</select>"}if(g||(b+=q+(!o&&f&&m?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!m)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(a=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),h=(_=function(e){e=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(e)?d:e})(a[0]),p=Math.max(h,_(a[1]||"")),h=n?Math.max(h,n.getFullYear()):h,p=s?Math.min(p,s.getFullYear()):p,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+v+"' data-handler='selectYear' data-event='change'>";h<=p;h++)e.yearshtml+="<option value='"+h+"'"+(h===i?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),g&&(b+=(!o&&f&&m?"":"&#xa0;")+q),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.selectedYear+("Y"===i?t:0),s=e.selectedMonth+("M"===i?t:0),t=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),t=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,t)));e.selectedDay=t.getDate(),e.drawMonth=e.selectedMonth=t.getMonth(),e.drawYear=e.selectedYear=t.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),e=this._getMinMaxDate(e,"max"),t=i&&t<i?i:t;return e&&e<t?e:t},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){e=this._get(e,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(t<0?t:s[0]*s[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=null,o=null,a=this._get(e,"yearRange");return a&&(e=a.split(":"),a=(new Date).getFullYear(),s=parseInt(e[0],10),o=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(s+=a),e[1].match(/[+\-].*/)&&(o+=a)),(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())&&(!s||t.getFullYear()>=s)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),t,this._getFormatConfig(e))}}),G.fn.datepicker=function(e){if(!this.length)return this;G.datepicker.initialized||(G(document).on("mousedown",G.datepicker._checkExternalClick),G.datepicker.initialized=!0),0===G("#"+G.datepicker._mainDivId).length&&G("body").append(G.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e)||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?G.datepicker["_"+e+"Datepicker"].apply(G.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?G.datepicker["_"+e+"Datepicker"].apply(G.datepicker,[this].concat(t)):G.datepicker._attachDatepicker(this,e)})},G.datepicker=new b,G.datepicker.initialized=!1,G.datepicker.uuid=(new Date).getTime(),G.datepicker.version="1.13.1";G.datepicker;G.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=G(this).css(e).offset().top;t<0&&G(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&G.fn.draggable&&this._makeDraggable(),this.options.resizable&&G.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?G(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:G.noop,enable:G.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||G.ui.safeBlur(G.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+G(this).css("z-index")}).get(),n=Math.max.apply(null,n);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),i=!0),i&&!t&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=G(G.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;(e=!(e=!(e=!(e=!(e=e||this.element.find("[autofocus]")).length?this.element.find(":tabbable"):e).length?this.uiDialogButtonPane.find(":tabbable"):e).length?this.uiDialogTitlebarClose.filter(":tabbable"):e).length?this.uiDialog:e).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=G.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||G.contains(this.uiDialog[0],e)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=G("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===G.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);var t,i,n;e.keyCode!==G.ui.keyCode.TAB||e.isDefaultPrevented()||(t=this.uiDialog.find(":tabbable"),i=t.first(),n=t.last(),e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault()))},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=G("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){G(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=G("<button type='button'></button>").button({label:G("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=G("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=G("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=G("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var n=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),G.isEmptyObject(e)||Array.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(G.each(e,function(e,t){var i;t=G.extend({type:"button"},t="function"==typeof t?{click:t,text:e}:t),i=t.click,e={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,delete t.icons,"boolean"==typeof t.text&&delete t.text,G("<button></button>",t).button(e).appendTo(n.uiButtonSet).on("click",function(){i.apply(n.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var s=this,o=this.options;function a(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){s._addClass(G(this),"ui-dialog-dragging"),s._blockFrames(),s._trigger("dragStart",e,a(t))},drag:function(e,t){s._trigger("drag",e,a(t))},stop:function(e,t){var i=t.offset.left-s.document.scrollLeft(),n=t.offset.top-s.document.scrollTop();o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=n?"+":"")+n,of:s.window},s._removeClass(G(this),"ui-dialog-dragging"),s._unblockFrames(),s._trigger("dragStop",e,a(t))}})},_makeResizable:function(){var s=this,o=this.options,e=o.resizable,t=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:e,start:function(e,t){s._addClass(G(this),"ui-dialog-resizing"),s._blockFrames(),s._trigger("resizeStart",e,a(t))},resize:function(e,t){s._trigger("resize",e,a(t))},stop:function(e,t){var i=s.uiDialog.offset(),n=i.left-s.document.scrollLeft(),i=i.top-s.document.scrollTop();o.height=s.uiDialog.height(),o.width=s.uiDialog.width(),o.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:s.window},s._removeClass(G(this),"ui-dialog-resizing"),s._unblockFrames(),s._trigger("resizeStop",e,a(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=G(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=G.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||this.document.data("ui-dialog-instances",e=[]),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,s={};G.each(e,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(s[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var i,n=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:G("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=n.is(":data(ui-draggable)"))&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((i=n.is(":data(ui-resizable)"))&&!t&&n.resizable("destroy"),i&&"string"==typeof t&&n.resizable("option","handles",t),i||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=G(this);return G("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!G(e.target).closest(".ui-dialog").length||!!G(e.target).closest(".ui-datepicker").length},_createOverlay:function(){var i,n;this.options.modal&&(i=G.fn.jquery.substring(0,4),n=!0,this._delay(function(){n=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(e){var t;n||((t=this._trackingInstances()[0])._allowInteraction(e)||(e.preventDefault(),t._focusTabbable(),"3.4."!==i&&"3.5."!==i||t._delay(t._restoreTabbableFocus)))}.bind(this)),this.overlay=G("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var e;this.options.modal&&this.overlay&&((e=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==G.uiBackCompat&&G.widget("ui.dialog",G.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});G.ui.dialog,G.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=G("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(t.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=G("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),G.widget("ui.selectmenu",[G.ui.formResetMixin,{version:"1.13.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=G()},_drawButton:function(){var e,t=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.trigger("focus"),e.preventDefault()}}),this.element.hide(),this.button=G("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=G("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t._rendered||t._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=G("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=G("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,t){e.preventDefault(),i._setSelection(),i._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){t=t.item.data("ui-selectmenu-item");null!=i.focusIndex&&t.index!==i.focusIndex&&(i._trigger("focus",e,{item:t}),i.isOpen||i._select(t,e)),i.focusIndex=t.index,i.button.attr("aria-activedescendant",i.menuItems.eq(t.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(G.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var t=G("<span>");return this._setText(t,e.label),this._addClass(t,"ui-selectmenu-text"),t},_renderMenu:function(n,e){var s=this,o="";G.each(e,function(e,t){var i;t.optgroup!==o&&(i=G("<li>",{text:t.optgroup}),s._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(n),o=t.optgroup),s._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var i=G("<li>"),n=G("<div>",{title:t.element.attr("title")});return t.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(n,t.label),i.append(n).appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),(n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(G(e.target).closest(".ui-selectmenu-menu, #"+G.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case G.ui.keyCode.TAB:case G.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case G.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case G.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case G.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case G.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case G.ui.keyCode.LEFT:this._move("prev",e);break;case G.ui.keyCode.RIGHT:this._move("next",e);break;case G.ui.keyCode.HOME:case G.ui.keyCode.PAGE_UP:this._move("first",e);break;case G.ui.keyCode.END:case G.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){e=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(e,t){var i;"icons"===e&&(i=this.button.find("span.ui-icon"),this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e=!(e=!(e=e&&(e.jquery||e.nodeType?G(e):this.document.find(e).eq(0)))||!e[0]?this.element.closest(".ui-front, dialog"):e).length?this.document[0].body:e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var i=this,n=[];e.each(function(e,t){t.hidden||n.push(i._parseOption(G(t),e))}),this.items=n},_parseOption:function(e,t){var i=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),G.widget("ui.slider",G.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t=this.options,i=this.element.find(".ui-slider-handle"),n=[],s=t.values&&t.values.length||1;for(i.length>s&&(i.slice(s).remove(),i=i.slice(0,s)),e=i.length;e<s;e++)n.push("<span tabindex='0'></span>");this.handles=i.add(G(n.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){G(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=G("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,o,t,a,r=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),a={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(a),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(i-r.values(e));(t<n||n===t&&(e===r._lastChangedValue||r.values(e)===l.min))&&(n=t,s=G(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(s,null,"ui-state-active"),s.trigger("focus"),t=s.offset(),a=!G(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:e.pageX-t.left-s.width()/2,top:e.pageY-t.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},t=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,e="horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=e/t;return(e=1<e?1:e)<0&&(e=0),"vertical"===this.orientation&&(e=1-e),t=this._valueMax()-this._valueMin(),t=this._valueMin()+e*t,this._trimAlignValue(t)},_uiHash:function(e,t,i){var n={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==t?t:this.values(e),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var n,s=this.value(),o=this.values();this._hasMultipleValues()&&(n=this.values(t?0:1),s=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(n,i):Math.max(n,i)),o[t]=i),i!==s&&!1!==this._trigger("slide",e,this._uiHash(t,i,o))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,n,s;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!Array.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,n=e,s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(n[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,t){var i,n=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=n-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i;if(arguments.length)return e=this.options.values[e],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(e-this._valueMin())%t,e=e-i;return 2*Math.abs(i)>=t&&(e+=0<i?t:-t),parseFloat(e.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;(e=Math.round((e-t)/i)*i+t)>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return e=null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var t=e.toString(),e=t.indexOf(".");return-1===e?0:t.length-e-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,e,n,s,o=this.options.range,a=this.options,r=this,l=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(e){i=(r.values(e)-r._valueMin())/(r._valueMax()-r._valueMin())*100,u["horizontal"===r.orientation?"left":"bottom"]=i+"%",G(this).stop(1,1)[l?"animate":"css"](u,a.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===e&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},a.animate),1===e&&r.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===e&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},a.animate),1===e&&r.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(e=this.value(),n=this._valueMin(),s=this._valueMax(),i=s!==n?(e-n)/(s-n)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(e){var t,i,n,s=G(e.target).data("ui-slider-handle-index");switch(e.keyCode){case G.ui.keyCode.HOME:case G.ui.keyCode.END:case G.ui.keyCode.PAGE_UP:case G.ui.keyCode.PAGE_DOWN:case G.ui.keyCode.UP:case G.ui.keyCode.RIGHT:case G.ui.keyCode.DOWN:case G.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(G(e.target),null,"ui-state-active"),!1===this._start(e,s)))return}switch(n=this.options.step,t=i=this._hasMultipleValues()?this.values(s):this.value(),e.keyCode){case G.ui.keyCode.HOME:i=this._valueMin();break;case G.ui.keyCode.END:i=this._valueMax();break;case G.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case G.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case G.ui.keyCode.UP:case G.ui.keyCode.RIGHT:if(t===this._valueMax())return;i=this._trimAlignValue(t+n);break;case G.ui.keyCode.DOWN:case G.ui.keyCode.LEFT:if(t===this._valueMin())return;i=this._trimAlignValue(t-n)}this._slide(e,s,i)},keyup:function(e){var t=G(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),this._removeClass(G(e.target),null,"ui-state-active"))}}});function T(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}G.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var n=this._super(),s=this.element;return G.each(["min","max","step"],function(e,t){var i=s.attr(t);null!=i&&i.length&&(n[t]=i)}),n},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){var i=G.ui.safeActiveElement(this.document[0]);if(this.element[0]===i&&t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var t;function i(){this.element[0]===G.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=t,this._delay(function(){this.previous=t}))}t=this.element[0]===G.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,G(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(G(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,G(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var t=this.options,i=G.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,t.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?"function"==typeof t?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return e=null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var t=e.toString(),e=t.indexOf(".");return-1===e?0:t.length-e-1},_adjustValue:function(e){var t=this.options,i=null!==t.min?t.min:0,n=e-i;return e=i+Math.round(n/t.step)*t.step,e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var i;if("culture"===e||"numberFormat"===e)return i=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(i));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:T(function(e){this._super(e)}),_parse:function(e){return""===(e="string"==typeof e&&""!==e?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e:e)||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:T(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:T(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:T(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:T(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());T(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==G.uiBackCompat&&G.widget("ui.spinner",G.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var I;G.ui.spinner;G.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(I=/#.*$/,function(e){var t=e.href.replace(I,""),i=location.href.replace(I,"");try{t=decodeURIComponent(t)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return 1<e.hash.length&&t===i}),_create:function(){var t=this,e=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,e.collapsible),this._processTabs(),e.active=this._initialActive(),Array.isArray(e.disabled)&&(e.disabled=G.uniqueSort(e.disabled.concat(G.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=G(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var i=this.options.active,e=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(e,t){if(G(t).attr("aria-controls")===n)return i=e,!1}),null!==(i=null===i?this.tabs.index(this.tabs.filter(".ui-tabs-active")):i)&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!e&&0),i=!e&&!1===i&&this.anchors.length?0:i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):G()}},_tabKeydown:function(e){var t=G(G.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(t),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case G.ui.keyCode.RIGHT:case G.ui.keyCode.DOWN:i++;break;case G.ui.keyCode.UP:case G.ui.keyCode.LEFT:n=!1,i--;break;case G.ui.keyCode.END:i=this.anchors.length-1;break;case G.ui.keyCode.HOME:i=0;break;case G.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case G.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===G.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===G.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===G.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){var i=this.tabs.length-1;for(;-1!==G.inArray(e=(e=i<e?0:e)<0?i:e,this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=G.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!G.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=G()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=G()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){G(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){G(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return G("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=G(),this.anchors.each(function(e,t){var i,n,s,o=G(t).uniqueId().attr("id"),a=G(t).closest("li"),r=a.attr("aria-controls");l._isLocal(t)?(s=(i=t.hash).substring(1),n=l.element.find(l._sanitizeSelector(i))):(s=a.attr("aria-controls")||G({}).uniqueId()[0].id,(n=l.element.find(i="#"+s)).length||(n=l._createPanel(s)).insertAfter(l.panels[e-1]||l.tablist),n.attr("aria-live","polite")),n.length&&(l.panels=l.panels.add(n)),r&&a.data("ui-tabs-aria-controls",r),a.attr({"aria-controls":s,"aria-labelledby":o}),n.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return G("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var t,i;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),i=0;t=this.tabs[i];i++)t=G(t),!0===e||-1!==G.inArray(i,e)?(t.attr("aria-disabled","true"),this._addClass(t,null,"ui-state-disabled")):(t.removeAttr("aria-disabled"),this._removeClass(t,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&G.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,t=this.element.parent();"fill"===e?(i=t.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=G(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=G(this).outerHeight(!0)}),this.panels.each(function(){G(this).height(Math.max(0,i-G(this).innerHeight()+G(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,G(this).height("").height())}).height(i))},_eventHandler:function(e){var t=this.options,i=this.active,n=G(e.currentTarget).closest("li"),s=n[0]===i[0],o=s&&t.collapsible,a=o?G():this._getPanelForTab(n),r=i.length?this._getPanelForTab(i):G(),i={oldTab:i,oldPanel:r,newTab:o?G():n,newPanel:a};e.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||s&&!t.collapsible||!1===this._trigger("beforeActivate",e,i)||(t.active=!o&&this.tabs.index(n),this.active=s?G():n,this.xhr&&this.xhr.abort(),r.length||a.length||G.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(n),e),this._toggle(e,i))},_toggle:function(e,t){var i=this,n=t.newPanel,s=t.oldPanel;function o(){i.running=!1,i._trigger("activate",e,t)}function a(){i._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active"),n.length&&i.options.show?i._show(n,i.options.show,o):(n.show(),o())}this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){i._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),a()),s.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&s.length?t.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter(function(){return 0===G(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var e=this._findActive(e);e[0]!==this.active[0]&&(e=(e=!e.length?this.active:e).find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:G.noop}))},_findActive:function(e){return!1===e?G():this.tabs.eq(e)},_getIndex:function(e){return e="string"==typeof e?this.anchors.index(this.anchors.filter("[href$='"+G.escapeSelector(e)+"']")):e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){G.data(this,"ui-tabs-destroy")?G(this).remove():G(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=G(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var e=this.options.disabled;!1!==e&&(e=void 0!==i&&(i=this._getIndex(i),Array.isArray(e)?G.map(e,function(e){return e!==i?e:null}):G.map(this.tabs,function(e,t){return t!==i?t:null})),this._setOptionDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==G.inArray(e,t))return;t=Array.isArray(t)?G.merge([e],t).sort():[e]}this._setOptionDisabled(t)}},load:function(e,n){e=this._getIndex(e);function s(e,t){"abort"===t&&o.panels.stop(!1,!0),o._removeClass(i,"ui-tabs-loading"),a.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr}var o=this,i=this.tabs.eq(e),e=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),r={tab:i,panel:a};this._isLocal(e[0])||(this.xhr=G.ajax(this._ajaxSettings(e,n,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(e,t,i){setTimeout(function(){a.html(e),o._trigger("load",n,r),s(i,t)},1)}).fail(function(e,t){setTimeout(function(){s(e,t)},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,t){return s._trigger("beforeLoad",i,G.extend({jqXHR:e,ajaxSettings:t},n))}}},_getPanelForTab:function(e){e=G(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==G.uiBackCompat&&G.widget("ui.tabs",G.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});G.ui.tabs;G.widget("ui.tooltip",{version:"1.13.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=G(this).attr("title");return G("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",String.prototype.trim.call(i.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),t=G.inArray(t,i);-1!==t&&i.splice(t,1),e.removeData("ui-tooltip-id"),(i=String.prototype.trim.call(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=G("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=G([])},_setOption:function(e,t){var i=this;this._super(e,t),"content"===e&&G.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var n=this;G.each(this.tooltips,function(e,t){var i=G.Event("blur");i.target=i.currentTarget=t.element[0],n.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=G(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=G(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=G([])},open:function(e){var i=this,t=G(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=G(this);t.data("ui-tooltip-open")&&((e=G.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),t.attr("title")&&(t.uniqueId(),i.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,i){var e=this.options.content,n=this,s=i?i.type:null;if("string"==typeof e||e.nodeType||e.jquery)return this._open(i,t,e);(e=e.call(t[0],function(e){n._delay(function(){t.data("ui-tooltip-open")&&(i&&(i.type=s),this._open(i,t,e))})}))&&this._open(i,t,e)},_open:function(e,t,i){var n,s,o,a=G.extend({},this.options.position);function r(e){a.of=e,s.is(":hidden")||s.position(a)}i&&((n=this._find(t))?n.tooltip.find(".ui-tooltip-content").html(i):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),n=this._tooltip(t),s=n.tooltip,this._addDescribedBy(t,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(i=G("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(G.extend({of:t},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(a.of),clearInterval(o))},13)),this._trigger("open",e,{tooltip:s})))},_registerCloseHandlers:function(e,t){var i={keyup:function(e){e.keyCode===G.ui.keyCode.ESCAPE&&((e=G.Event(e)).currentTarget=t[0],this.close(e,!0))}};t[0]!==this.element[0]&&(i.remove=function(){var e=this._find(t);e&&this._removeTooltip(e.tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,t,i)},close:function(e){var t,i=this,n=G(e?e.currentTarget:this.element),s=this._find(n);s?(t=s.tooltip,s.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),s.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){i._removeTooltip(G(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&G.each(this.parents,function(e,t){G(t.element).attr("title",t.title),delete i.parents[e]}),s.closing=!0,this._trigger("close",e,{tooltip:t}),s.hiding||(s.closing=!1))):n.removeData("ui-tooltip-open")},_tooltip:function(e){var t=G("<div>").attr("role","tooltip"),i=G("<div>").appendTo(t),n=t.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(t,"ui-tooltip","ui-widget ui-widget-content"),t.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:t}},_find:function(e){e=e.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){e=e.closest(".ui-front, dialog");return e=!e.length?this.document[0].body:e},_destroy:function(){var n=this;G.each(this.tooltips,function(e,t){var i=G.Event("blur"),t=t.element;i.target=i.currentTarget=t[0],n.close(i,!0),G("#"+e).remove(),t.data("ui-tooltip-title")&&(t.attr("title")||t.attr("title",t.data("ui-tooltip-title")),t.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==G.uiBackCompat&&G.widget("ui.tooltip",G.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});G.ui.tooltip;var P=G,A={},F=A.toString,O=/^([\-+])=\s*(\d+\.?\d*)/,M=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],N=P.Color=function(e,t,i,n){return new P.Color.fn.parse(e,t,i,n)},R={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},L={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},H=N.support={},U=P("<p>")[0],B=P.each;function z(e){return null==e?e+"":"object"==typeof e?A[F.call(e)]||"object":typeof e}function j(e,t,i){var n=L[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:Math.min(n.max,Math.max(0,e)))}function W(n){var s=N(),o=s._rgba=[];return n=n.toLowerCase(),B(M,function(e,t){var i=t.re.exec(n),i=i&&t.parse(i),t=t.space||"rgba";if(i)return i=s[t](i),s[R[t].cache]=i[R[t].cache],o=s._rgba=i._rgba,!1}),o.length?("0,0,0,0"===o.join()&&P.extend(o,ne.transparent),s):ne[n]}function Y(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}U.style.cssText="background-color:rgba(1,1,1,.5)",H.rgba=-1<U.style.backgroundColor.indexOf("rgba"),B(R,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){A["[object "+t+"]"]=t.toLowerCase()}),(N.fn=P.extend(N.prototype,{parse:function(s,e,t,i){if(void 0===s)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=P(s).css(e),e=void 0);var o=this,n=z(s),a=this._rgba=[];return void 0!==e&&(s=[s,e,t,i],n="array"),"string"===n?this.parse(W(s)||ne._default):"array"===n?(B(R.rgba.props,function(e,t){a[t.idx]=j(s[t.idx],t)}),this):"object"===n?(B(R,s instanceof N?function(e,t){s[t.cache]&&(o[t.cache]=s[t.cache].slice())}:function(e,i){var n=i.cache;B(i.props,function(e,t){if(!o[n]&&i.to){if("alpha"===e||null==s[e])return;o[n]=i.to(o._rgba)}o[n][t.idx]=j(s[e],t,!0)}),o[n]&&P.inArray(null,o[n].slice(0,3))<0&&(null==o[n][3]&&(o[n][3]=1),i.from&&(o._rgba=i.from(o[n])))}),this):void 0},is:function(e){var s=N(e),o=!0,a=this;return B(R,function(e,t){var i,n=s[t.cache];return n&&(i=a[t.cache]||t.to&&t.to(a._rgba)||[],B(t.props,function(e,t){if(null!=n[t.idx])return o=n[t.idx]===i[t.idx]})),o}),o},_space:function(){var i=[],n=this;return B(R,function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,a){var t=(u=N(e))._space(),i=R[t],e=0===this.alpha()?N("transparent"):this,r=e[i.cache]||i.to(e._rgba),l=r.slice(),u=u[i.cache];return B(i.props,function(e,t){var i=t.idx,n=r[i],s=u[i],o=L[t.type]||{};null!==s&&(null===n?l[i]=s:(o.mod&&(s-n>o.mod/2?n+=o.mod:n-s>o.mod/2&&(n-=o.mod)),l[i]=j((s-n)*a+n,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=N(e)._rgba;return N(P.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=P.map(this._rgba,function(e,t){return null!=e?e:2<t?1:0});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=P.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),e=t&&t<3?Math.round(100*e)+"%":e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+P.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=N.fn,R.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,i=e[1]/255,n=e[2]/255,s=e[3],o=Math.max(t,i,n),a=Math.min(t,i,n),r=o-a,l=o+a,e=.5*l,i=a===o?0:t===o?60*(i-n)/r+360:i===o?60*(n-t)/r+120:60*(t-i)/r+240,l=0==r?0:e<=.5?r/l:r/(2-l);return[Math.round(i)%360,l,e,null==s?1:s]},R.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],e=e[3],i=n<=.5?n*(1+i):n+i-n*i,n=2*n-i;return[Math.round(255*Y(n,i,t+1/3)),Math.round(255*Y(n,i,t)),Math.round(255*Y(n,i,t-1/3)),e]},B(R,function(l,e){var t=e.props,o=e.cache,a=e.to,r=e.from;N.fn[l]=function(e){if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===e)return this[o].slice();var i=z(e),n="array"===i||"object"===i?e:arguments,s=this[o].slice();return B(t,function(e,t){e=n["object"===i?e:t.idx];null==e&&(e=s[t.idx]),s[t.idx]=j(e,t)}),r?((e=N(r(s)))[o]=s,e):N(s)},B(t,function(a,r){N.fn[a]||(N.fn[a]=function(e){var t,i=z(e),n="alpha"===a?this._hsla?"hsla":"rgba":l,s=this[n](),o=s[r.idx];return"undefined"===i?o:("function"===i&&(i=z(e=e.call(this,o))),null==e&&r.empty?this:("string"===i&&(t=O.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),s[r.idx]=e,this[n](s)))})})}),(N.hook=function(e){e=e.split(" ");B(e,function(e,o){P.cssHooks[o]={set:function(e,t){var i,n,s="";if("transparent"!==t&&("string"!==z(t)||(i=W(t)))){if(t=N(i||t),!H.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===o?e.parentNode:e;(""===s||"transparent"===s)&&n&&n.style;)try{s=P.css(n,"backgroundColor"),n=n.parentNode}catch(e){}t=t.blend(s&&"transparent"!==s?s:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},P.fx.step[o]=function(e){e.colorInit||(e.start=N(e.elem,o),e.end=N(e.end),e.colorInit=!0),P.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),P.cssHooks.borderColor={expand:function(i){var n={};return B(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}};var V,$,X,K,Z,Q,J,ee,te,ie,ne=P.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},se="ui-effects-",oe="ui-effects-style",ae="ui-effects-animated";function re(e){var t,i,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[t=n[i]]&&(s[t.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})]=n[t]);else for(t in n)"string"==typeof n[t]&&(s[t]=n[t]);return s}function le(e,t,i,n){return e={effect:e=G.isPlainObject(e)?(t=e).effect:e},"function"==typeof(t=null==t?{}:t)&&(n=t,i=null,t={}),"number"!=typeof t&&!G.fx.speeds[t]||(n=i,i=t,t={}),"function"==typeof i&&(n=i,i=null),t&&G.extend(e,t),i=i||t.duration,e.duration=G.fx.off?0:"number"==typeof i?i:i in G.fx.speeds?G.fx.speeds[i]:G.fx.speeds._default,e.complete=n||t.complete,e}function ue(e){return!e||"number"==typeof e||G.fx.speeds[e]||("string"==typeof e&&!G.effects.effect[e]||("function"==typeof e||"object"==typeof e&&!e.effect))}function ce(e,t){var i=t.outerWidth(),t=t.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,i,t,0];return{top:parseFloat(e[1])||0,right:"auto"===e[2]?i:parseFloat(e[2]),bottom:"auto"===e[3]?t:parseFloat(e[3]),left:parseFloat(e[4])||0}}G.effects={effect:{}},K=["add","remove","toggle"],Z={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},G.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){G.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(P.style(e.elem,t,e.end),e.setAttr=!0)}}),G.fn.addBack||(G.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),G.effects.animateClass=function(s,e,t,i){var o=G.speed(e,t,i);return this.queue(function(){var i=G(this),e=i.attr("class")||"",t=(t=o.children?i.find("*").addBack():i).map(function(){return{el:G(this),start:re(this)}}),n=function(){G.each(K,function(e,t){s[t]&&i[t+"Class"](s[t])})};n(),t=t.map(function(){return this.end=re(this.el[0]),this.diff=function(e,t){var i,n,s={};for(i in t)n=t[i],e[i]!==n&&(Z[i]||!G.fx.step[i]&&isNaN(parseFloat(n))||(s[i]=n));return s}(this.start,this.end),this}),i.attr("class",e),t=t.map(function(){var e=this,t=G.Deferred(),i=G.extend({},o,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,i),t.promise()}),G.when.apply(G,t.get()).done(function(){n(),G.each(arguments,function(){var t=this.el;G.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(i[0])})})},G.fn.extend({addClass:(X=G.fn.addClass,function(e,t,i,n){return t?G.effects.animateClass.call(this,{add:e},t,i,n):X.apply(this,arguments)}),removeClass:($=G.fn.removeClass,function(e,t,i,n){return 1<arguments.length?G.effects.animateClass.call(this,{remove:e},t,i,n):$.apply(this,arguments)}),toggleClass:(V=G.fn.toggleClass,function(e,t,i,n,s){return"boolean"==typeof t||void 0===t?i?G.effects.animateClass.call(this,t?{add:e}:{remove:e},i,n,s):V.apply(this,arguments):G.effects.animateClass.call(this,{toggle:e},t,i,n)}),switchClass:function(e,t,i,n,s){return G.effects.animateClass.call(this,{add:t,remove:e},i,n,s)}}),G.expr&&G.expr.pseudos&&G.expr.pseudos.animated&&(G.expr.pseudos.animated=(Q=G.expr.pseudos.animated,function(e){return!!G(e).data(ae)||Q(e)})),!1!==G.uiBackCompat&&G.extend(G.effects,{save:function(e,t){for(var i=0,n=t.length;i<n;i++)null!==t[i]&&e.data(se+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,n=0,s=t.length;n<s;n++)null!==t[n]&&(i=e.data(se+t[n]),e.css(t[n],i))},setMode:function(e,t){return t="toggle"===t?e.is(":hidden")?"show":"hide":t},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=G("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return i.wrap(e),i[0]!==s&&!G.contains(i[0],s)||G(s).trigger("focus"),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(G.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),G.each(["top","left","bottom","right"],function(e,t){n[t]=i.css(t),isNaN(parseInt(n[t],10))&&(n[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(n).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!G.contains(e[0],t)||G(t).trigger("focus")),e}}),G.extend(G.effects,{version:"1.13.1",define:function(e,t,i){return i||(i=t,t="effect"),G.effects.effect[e]=i,G.effects.effect[e].mode=t,i},scaledDimensions:function(e,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(t||100)/100:1,t="vertical"!==i?(t||100)/100:1;return{height:e.height()*t,width:e.width()*n,outerHeight:e.outerHeight()*t,outerWidth:e.outerWidth()*n}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var n=e.queue();1<t&&n.splice.apply(n,[1,0].concat(n.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data(oe,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(oe)||"",e.removeData(oe)},mode:function(e,t){e=e.is(":hidden");return"toggle"===t&&(t=e?"show":"hide"),t=(e?"hide"===t:"show"===t)?"none":t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createPlaceholder:function(e){var t,i=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",t=G("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(se+"placeholder",t)),e.css({position:i,left:n.left,top:n.top}),t},removePlaceholder:function(e){var t=se+"placeholder",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(e){G.effects.restoreStyle(e),G.effects.removePlaceholder(e)},setTransition:function(n,e,s,o){return o=o||{},G.each(e,function(e,t){var i=n.cssUnit(t);0<i[0]&&(o[t]=i[0]*s+i[1])}),o}}),G.fn.extend({effect:function(){function e(e){var t=G(this),i=G.effects.mode(t,r)||o;t.data(ae,!0),l.push(i),o&&("show"===i||i===o&&"hide"===i)&&t.show(),o&&"none"===i||G.effects.saveStyle(t),"function"==typeof e&&e()}var n=le.apply(this,arguments),s=G.effects.effect[n.effect],o=s.mode,t=n.queue,i=t||"fx",a=n.complete,r=n.mode,l=[];return G.fx.off||!s?r?this[r](n.duration,a):this.each(function(){a&&a.call(this)}):!1===t?this.each(e).each(u):this.queue(i,e).queue(i,u);function u(e){var t=G(this);function i(){"function"==typeof a&&a.call(t[0]),"function"==typeof e&&e()}n.mode=l.shift(),!1===G.uiBackCompat||o?"none"===n.mode?(t[r](),i()):s.call(t[0],n,function(){t.removeData(ae),G.effects.cleanUp(t),"hide"===n.mode&&t.hide(),i()}):(t.is(":hidden")?"hide"===r:"show"===r)?(t[r](),i()):s.call(t[0],n,i)}},show:(te=G.fn.show,function(e){if(ue(e))return te.apply(this,arguments);e=le.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(ee=G.fn.hide,function(e){if(ue(e))return ee.apply(this,arguments);e=le.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(J=G.fn.toggle,function(e){if(ue(e)||"boolean"==typeof e)return J.apply(this,arguments);e=le.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(e){var i=this.css(e),n=[];return G.each(["em","px","%","pt"],function(e,t){0<i.indexOf(t)&&(n=[parseFloat(i),t])}),n},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):ce(this.css("clip"),this)},transfer:function(e,t){var i=G(this),n=G(e.to),s="fixed"===n.css("position"),o=G("body"),a=s?o.scrollTop():0,r=s?o.scrollLeft():0,o=n.offset(),o={top:o.top-a,left:o.left-r,height:n.innerHeight(),width:n.innerWidth()},n=i.offset(),l=G("<div class='ui-effects-transfer'></div>");l.appendTo("body").addClass(e.className).css({top:n.top-a,left:n.left-r,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(o,e.duration,e.easing,function(){l.remove(),"function"==typeof t&&t()})}}),G.fx.step.clip=function(e){e.clipInit||(e.start=G(e.elem).cssClip(),"string"==typeof e.end&&(e.end=ce(e.end,e.elem)),e.clipInit=!0),G(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})},ie={},G.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){ie[e]=function(e){return Math.pow(e,t+2)}}),G.extend(ie,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),G.each(ie,function(e,t){G.easing["easeIn"+e]=t,G.easing["easeOut"+e]=function(e){return 1-t(1-e)},G.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}});U=G.effects,G.effects.define("blind","hide",function(e,t){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=G(this),s=e.direction||"up",o=n.cssClip(),a={clip:G.extend({},o)},r=G.effects.createPlaceholder(n);a.clip[i[s][0]]=a.clip[i[s][1]],"show"===e.mode&&(n.cssClip(a.clip),r&&r.css(G.effects.clipToBox(a)),a.clip=o),r&&r.animate(G.effects.clipToBox(a),e.duration,e.easing),n.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("bounce",function(e,t){var i,n,s=G(this),o=e.mode,a="hide"===o,r="show"===o,l=e.direction||"up",u=e.distance,c=e.times||5,o=2*c+(r||a?1:0),d=e.duration/o,h=e.easing,p="up"===l||"down"===l?"top":"left",f="up"===l||"left"===l,m=0,e=s.queue().length;for(G.effects.createPlaceholder(s),l=s.css(p),u=u||s["top"==p?"outerHeight":"outerWidth"]()/3,r&&((n={opacity:1})[p]=l,s.css("opacity",0).css(p,f?2*-u:2*u).animate(n,d,h)),a&&(u/=Math.pow(2,c-1)),(n={})[p]=l;m<c;m++)(i={})[p]=(f?"-=":"+=")+u,s.animate(i,d,h).animate(n,d,h),u=a?2*u:u/2;a&&((i={opacity:0})[p]=(f?"-=":"+=")+u,s.animate(i,d,h)),s.queue(t),G.effects.unshift(s,e,1+o)}),G.effects.define("clip","hide",function(e,t){var i={},n=G(this),s=e.direction||"vertical",o="both"===s,a=o||"horizontal"===s,o=o||"vertical"===s,s=n.cssClip();i.clip={top:o?(s.bottom-s.top)/2:s.top,right:a?(s.right-s.left)/2:s.right,bottom:o?(s.bottom-s.top)/2:s.bottom,left:a?(s.right-s.left)/2:s.left},G.effects.createPlaceholder(n),"show"===e.mode&&(n.cssClip(i.clip),i.clip=s),n.animate(i,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("drop","hide",function(e,t){var i=G(this),n="show"===e.mode,s=e.direction||"left",o="up"===s||"down"===s?"top":"left",a="up"===s||"left"===s?"-=":"+=",r="+="==a?"-=":"+=",l={opacity:0};G.effects.createPlaceholder(i),s=e.distance||i["top"==o?"outerHeight":"outerWidth"](!0)/2,l[o]=a+s,n&&(i.css(l),l[o]=r+s,l.opacity=1),i.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("explode","hide",function(e,t){var i,n,s,o,a,r,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=l,c=G(this),d="show"===e.mode,h=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/u),f=Math.ceil(c.outerHeight()/l),m=[];function g(){m.push(this),m.length===l*u&&(c.css({visibility:"visible"}),G(m).remove(),t())}for(i=0;i<l;i++)for(o=h.top+i*f,r=i-(l-1)/2,n=0;n<u;n++)s=h.left+n*p,a=n-(u-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*p,top:-i*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:s+(d?a*p:0),top:o+(d?r*f:0),opacity:d?0:1}).animate({left:s+(d?0:a*p),top:o+(d?0:r*f),opacity:d?1:0},e.duration||500,e.easing,g)}),G.effects.define("fade","toggle",function(e,t){var i="show"===e.mode;G(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("fold","hide",function(t,e){var i=G(this),n=t.mode,s="show"===n,o="hide"===n,a=t.size||15,r=/([0-9]+)%/.exec(a),l=!!t.horizFirst?["right","bottom"]:["bottom","right"],u=t.duration/2,c=G.effects.createPlaceholder(i),d=i.cssClip(),h={clip:G.extend({},d)},p={clip:G.extend({},d)},f=[d[l[0]],d[l[1]]],n=i.queue().length;r&&(a=parseInt(r[1],10)/100*f[o?0:1]),h.clip[l[0]]=a,p.clip[l[0]]=a,p.clip[l[1]]=0,s&&(i.cssClip(p.clip),c&&c.css(G.effects.clipToBox(p)),p.clip=d),i.queue(function(e){c&&c.animate(G.effects.clipToBox(h),u,t.easing).animate(G.effects.clipToBox(p),u,t.easing),e()}).animate(h,u,t.easing).animate(p,u,t.easing).queue(e),G.effects.unshift(i,n,4)}),G.effects.define("highlight","show",function(e,t){var i=G(this),n={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),G.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("size",function(n,t){var s,i=G(this),e=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=n.mode,l="effect"!==r,u=n.scale||"both",c=n.origin||["middle","center"],d=i.css("position"),h=i.position(),p=G.effects.scaledDimensions(i),f=n.from||p,m=n.to||G.effects.scaledDimensions(i,0);G.effects.createPlaceholder(i),"show"===r&&(r=f,f=m,m=r),s={from:{y:f.height/p.height,x:f.width/p.width},to:{y:m.height/p.height,x:m.width/p.width}},"box"!==u&&"both"!==u||(s.from.y!==s.to.y&&(f=G.effects.setTransition(i,o,s.from.y,f),m=G.effects.setTransition(i,o,s.to.y,m)),s.from.x!==s.to.x&&(f=G.effects.setTransition(i,a,s.from.x,f),m=G.effects.setTransition(i,a,s.to.x,m))),"content"!==u&&"both"!==u||s.from.y!==s.to.y&&(f=G.effects.setTransition(i,e,s.from.y,f),m=G.effects.setTransition(i,e,s.to.y,m)),c&&(c=G.effects.getBaseline(c,p),f.top=(p.outerHeight-f.outerHeight)*c.y+h.top,f.left=(p.outerWidth-f.outerWidth)*c.x+h.left,m.top=(p.outerHeight-m.outerHeight)*c.y+h.top,m.left=(p.outerWidth-m.outerWidth)*c.x+h.left),delete f.outerHeight,delete f.outerWidth,i.css(f),"content"!==u&&"both"!==u||(o=o.concat(["marginTop","marginBottom"]).concat(e),a=a.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var e=G(this),t=G.effects.scaledDimensions(e),i={height:t.height*s.from.y,width:t.width*s.from.x,outerHeight:t.outerHeight*s.from.y,outerWidth:t.outerWidth*s.from.x},t={height:t.height*s.to.y,width:t.width*s.to.x,outerHeight:t.height*s.to.y,outerWidth:t.width*s.to.x};s.from.y!==s.to.y&&(i=G.effects.setTransition(e,o,s.from.y,i),t=G.effects.setTransition(e,o,s.to.y,t)),s.from.x!==s.to.x&&(i=G.effects.setTransition(e,a,s.from.x,i),t=G.effects.setTransition(e,a,s.to.x,t)),l&&G.effects.saveStyle(e),e.css(i),e.animate(t,n.duration,n.easing,function(){l&&G.effects.restoreStyle(e)})})),i.animate(m,{queue:!1,duration:n.duration,easing:n.easing,complete:function(){var e=i.offset();0===m.opacity&&i.css("opacity",f.opacity),l||(i.css("position","static"===d?"relative":d).offset(e),G.effects.saveStyle(i)),t()}})}),G.effects.define("scale",function(e,t){var i=G(this),n=e.mode,n=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==n?0:100),n=G.extend(!0,{from:G.effects.scaledDimensions(i),to:G.effects.scaledDimensions(i,n,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(n.from.opacity=1,n.to.opacity=0),G.effects.effect.size.call(this,n,t)}),G.effects.define("puff","hide",function(e,t){e=G.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});G.effects.effect.scale.call(this,e,t)}),G.effects.define("pulsate","show",function(e,t){var i=G(this),n=e.mode,s="show"===n,o=2*(e.times||5)+(s||"hide"===n?1:0),a=e.duration/o,r=0,l=1,n=i.queue().length;for(!s&&i.is(":visible")||(i.css("opacity",0).show(),r=1);l<o;l++)i.animate({opacity:r},a,e.easing),r=1-r;i.animate({opacity:r},a,e.easing),i.queue(t),G.effects.unshift(i,n,1+o)}),G.effects.define("shake",function(e,t){var i=1,n=G(this),s=e.direction||"left",o=e.distance||20,a=e.times||3,r=2*a+1,l=Math.round(e.duration/r),u="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,d={},h={},p={},s=n.queue().length;for(G.effects.createPlaceholder(n),d[u]=(c?"-=":"+=")+o,h[u]=(c?"+=":"-=")+2*o,p[u]=(c?"-=":"+=")+2*o,n.animate(d,l,e.easing);i<a;i++)n.animate(h,l,e.easing).animate(p,l,e.easing);n.animate(h,l,e.easing).animate(d,l/2,e.easing).queue(t),G.effects.unshift(n,s,1+r)}),G.effects.define("slide","show",function(e,t){var i,n,s=G(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,r=e.direction||"left",l="up"===r||"down"===r?"top":"left",u="up"===r||"left"===r,c=e.distance||s["top"==l?"outerHeight":"outerWidth"](!0),d={};G.effects.createPlaceholder(s),i=s.cssClip(),n=s.position()[l],d[l]=(u?-1:1)*c+n,d.clip=s.cssClip(),d.clip[o[r][1]]=d.clip[o[r][0]],"show"===a&&(s.cssClip(d.clip),s.css(l,d[l]),d.clip=i,d[l]=n),s.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),!1!==G.uiBackCompat&&G.effects.define("transfer",function(e,t){G(this).transfer(e,t)})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e;function d(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){for(var i=[],n=0;n<e.length;++n)i.push(t(e[n],n));return i}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var i in t)h(t,i)&&(e[i]=t[i]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,i,n){return kt(e,t,i,n,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var t=p(e),i=g.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=c(NaN);return null!=e?u(p(t),e):p(t).userInvalidated=!0,t}var g=Array.prototype.some||function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1},_=d.momentProperties=[];function v(e,t){var i,n,s;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=p(t)),o(t._locale)||(e._locale=t._locale),0<_.length)for(i=0;i<_.length;i++)o(s=t[n=_[i]])||(e[n]=s);return e}var t=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,d.updateOffset(this),t=!1)}function q(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,e=0;return e=0!=t&&isFinite(t)?y(t):e}function x(e,t,i){for(var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0,a=0;a<n;a++)(i&&e[a]!==t[a]||!i&&w(e[a])!==w(t[a]))&&o++;return o+s}function S(e){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(s,o){var a=!0;return u(function(){if(null!=d.deprecationHandler&&d.deprecationHandler(null,s),a){for(var e,t=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(var n in e+="\n["+i+"] ",arguments[0])e+=n+": "+arguments[0][n]+", ";e=e.slice(0,-2)}else e=arguments[i];t.push(e)}S(s+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var C={};function D(e,t){null!=d.deprecationHandler&&d.deprecationHandler(e,t),C[e]||(S(t),C[e]=!0)}function k(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e,t){var i,n=u({},e);for(i in t)h(t,i)&&(r(e[i])&&r(t[i])?(n[i]={},u(n[i],e[i]),u(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)h(e,i)&&!h(t,i)&&r(e[i])&&(n[i]=u({},n[i]));return n}function T(e){null!=e&&this.set(e)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null;var I=Object.keys||function(e){var t,i=[];for(t in e)h(e,t)&&i.push(t);return i};var P={};function A(e,t){var i=e.toLowerCase();P[i]=P[i+"s"]=P[t]=e}function F(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function O(e){var t,i,n={};for(i in e)h(e,i)&&(t=F(i))&&(n[t]=e[i]);return n}var M={};function N(e,t){M[e]=t}function R(e,t,i){var n=""+Math.abs(e);return(0<=e?i?"+":"":"-")+Math.pow(10,Math.max(0,t-n.length)).toString().substr(1)+n}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},B={};function z(e,t,i,n){var s="string"==typeof n?function(){return this[n]()}:n;e&&(B[e]=s),t&&(B[t[0]]=function(){return R(s.apply(this,arguments),t[1],t[2])}),i&&(B[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=W(t,e.localeData()),U[t]=U[t]||function(n){for(var e,s=n.match(L),t=0,o=s.length;t<o;t++)B[s[t]]?s[t]=B[s[t]]:s[t]=(e=s[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",i=0;i<o;i++)t+=k(s[i])?s[i].call(e,n):s[i];return t}}(t),U[t](e)):e.localeData().invalidDate()}function W(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;0<=i&&H.test(e);)e=e.replace(H,n),H.lastIndex=0,--i;return e}var Y=/\d/,V=/\d\d/,G=/\d{3}/,$=/\d{4}/,X=/[+-]?\d{6}/,K=/\d\d?/,Z=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,J=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ie=/\d+/,ne=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,re={};function le(e,i,n){re[e]=k(i)?i:function(e,t){return e&&n?n:i}}function ue(e,t){return h(re,e)?re[e](t._strict,t._locale):new RegExp(ce(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s})))}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function he(e,i){var t,n=i;for("string"==typeof e&&(e=[e]),l(i)&&(n=function(e,t){t[i]=w(e)}),t=0;t<e.length;t++)de[e[t]]=n}function pe(e,s){he(e,function(e,t,i,n){i._w=i._w||{},s(e,i._w,i,n)})}var fe=0,me=1,ge=2,_e=3,ve=4,be=5,qe=6,ye=7,we=8;function xe(e){return Se(e)?366:365}function Se(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),A("year","y"),N("year",1),le("Y",ne),le("YY",K,V),le("YYYY",ee,$),le("YYYYY",te,X),le("YYYYYY",te,X),he(["YYYYY","YYYYYY"],fe),he("YYYY",function(e,t){t[fe]=2===e.length?d.parseTwoDigitYear(e):w(e)}),he("YY",function(e,t){t[fe]=d.parseTwoDigitYear(e)}),he("Y",function(e,t){t[fe]=parseInt(e,10)}),d.parseTwoDigitYear=function(e){return w(e)+(68<w(e)?1900:2e3)};var Ce,De=ke("FullYear",!0);function ke(t,i){return function(e){return null!=e?(Te(this,t,e),d.updateOffset(this,i),this):Ee(this,t)}}function Ee(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Te(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&Se(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),Ie(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function Ie(e,t){if(isNaN(e)||isNaN(t))return NaN;var i,i=(t%(i=12)+i)%i;return e+=(t-i)/12,1==i?Se(e)?29:28:31-i%7%2}Ce=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),N("month",8),le("M",K),le("MM",K,V),le("MMM",function(e,t){return t.monthsShortRegex(e)}),le("MMMM",function(e,t){return t.monthsRegex(e)}),he(["M","MM"],function(e,t){t[me]=w(e)-1}),he(["MMM","MMMM"],function(e,t,i,n){n=i._locale.monthsParse(e,n,i._strict);null!=n?t[me]=n:p(i).invalidMonth=e});var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Fe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Oe(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),Ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function Me(e){return null!=e?(Oe(this,e),d.updateOffset(this,!0),this):Ee(this,"Month")}var Ne=ae;var Re=ae;function Le(){function e(e,t){return t.length-e.length}for(var t,i=[],n=[],s=[],o=0;o<12;o++)t=c([2e3,o]),i.push(this.monthsShort(t,"")),n.push(this.months(t,"")),s.push(this.months(t,"")),s.push(this.monthsShort(t,""));for(i.sort(e),n.sort(e),s.sort(e),o=0;o<12;o++)i[o]=ce(i[o]),n[o]=ce(n[o]);for(o=0;o<24;o++)s[o]=ce(s[o]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function He(e,t,i,n,s,o,a){a=new Date(e,t,i,n,s,o,a);return e<100&&0<=e&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function Ue(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Be(e,t,i){i=7+t-i;return i-(7+Ue(e,0,i).getUTCDay()-t)%7-1}function ze(e,t,i,n,s){var o,s=1+7*(t-1)+(7+i-n)%7+Be(e,n,s),s=s<=0?xe(o=e-1)+s:s>xe(e)?(o=e+1,s-xe(e)):(o=e,s);return{year:o,dayOfYear:s}}function je(e,t,i){var n,s,o=Be(e.year(),t,i),o=Math.floor((e.dayOfYear()-o-1)/7)+1;return o<1?n=o+We(s=e.year()-1,t,i):o>We(e.year(),t,i)?(n=o-We(e.year(),t,i),s=e.year()+1):(s=e.year(),n=o),{week:n,year:s}}function We(e,t,i){var n=Be(e,t,i),i=Be(e+1,t,i);return(xe(e)-n+i)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),N("week",5),N("isoWeek",5),le("w",K),le("ww",K,V),le("W",K),le("WW",K,V),pe(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=w(e)});z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),le("d",K),le("e",K),le("E",K),le("dd",function(e,t){return t.weekdaysMinRegex(e)}),le("ddd",function(e,t){return t.weekdaysShortRegex(e)}),le("dddd",function(e,t){return t.weekdaysRegex(e)}),pe(["dd","ddd","dddd"],function(e,t,i,n){n=i._locale.weekdaysParse(e,n,i._strict);null!=n?t.d=n:p(i).invalidWeekday=e}),pe(["d","e","E"],function(e,t,i,n){t[n]=w(e)});var Ye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var $e=ae;var Xe=ae;var Ke=ae;function Ze(){function e(e,t){return t.length-e.length}for(var t,i,n,s=[],o=[],a=[],r=[],l=0;l<7;l++)n=c([2e3,1]).day(l),t=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),n=this.weekdays(n,""),s.push(t),o.push(i),a.push(n),r.push(t),r.push(i),r.push(n);for(s.sort(e),o.sort(e),a.sort(e),r.sort(e),l=0;l<7;l++)o[l]=ce(o[l]),a[l]=ce(a[l]),r[l]=ce(r[l]);this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Je(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Qe),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+Qe.apply(this)+R(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Qe.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),Je("a",!0),Je("A",!1),A("hour","h"),N("hour",13),le("a",et),le("A",et),le("H",K),le("h",K),le("k",K),le("HH",K,V),le("hh",K,V),le("kk",K,V),le("hmm",Z),le("hmmss",Q),le("Hmm",Z),le("Hmmss",Q),he(["H","HH"],_e),he(["k","kk"],function(e,t,i){e=w(e);t[_e]=24===e?0:e}),he(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),he(["h","hh"],function(e,t,i){t[_e]=w(e),p(i).bigHour=!0}),he("hmm",function(e,t,i){var n=e.length-2;t[_e]=w(e.substr(0,n)),t[ve]=w(e.substr(n)),p(i).bigHour=!0}),he("hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[_e]=w(e.substr(0,n)),t[ve]=w(e.substr(n,2)),t[be]=w(e.substr(s)),p(i).bigHour=!0}),he("Hmm",function(e,t,i){var n=e.length-2;t[_e]=w(e.substr(0,n)),t[ve]=w(e.substr(n))}),he("Hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[_e]=w(e.substr(0,n)),t[ve]=w(e.substr(n,2)),t[be]=w(e.substr(s))});var tt,it=ke("Hours",!0),nt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Fe,week:{dow:0,doy:6},weekdays:Ye,weekdaysMin:Ge,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},st={},ot={};function at(e){return e&&e.toLowerCase().replace("_","-")}function rt(e){if(!st[e]&&"undefined"!=typeof module&&module&&module.exports)try{var t=tt._abbr;require("./locale/"+e),lt(t)}catch(e){}return st[e]}function lt(e,t){return e&&((t=o(t)?ct(e):ut(e,t))?tt=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function ut(e,t){if(null===t)return delete st[e],null;var i,n=nt;if(t.abbr=e,null!=st[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])n=st[t.parentLocale]._config;else{if(null==(i=rt(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;n=i._config}return st[e]=new T(E(n,t)),ot[e]&&ot[e].forEach(function(e){ut(e.name,e.config)}),lt(e),st[e]}function ct(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return tt;if(!a(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,i,n,s,o=0;o<e.length;){for(t=(s=at(e[o]).split("-")).length,i=(i=at(e[o+1]))?i.split("-"):null;0<t;){if(n=rt(s.slice(0,t).join("-")))return n;if(i&&i.length>=t&&x(s,i,!0)>=t-1)break;t--}o++}return tt}(e)}function dt(e){var t=e._a;return t&&-2===p(e).overflow&&(t=t[me]<0||11<t[me]?me:t[ge]<1||t[ge]>Ie(t[fe],t[me])?ge:t[_e]<0||24<t[_e]||24===t[_e]&&(0!==t[ve]||0!==t[be]||0!==t[qe])?_e:t[ve]<0||59<t[ve]?ve:t[be]<0||59<t[be]?be:t[qe]<0||999<t[qe]?qe:-1,p(e)._overflowDayOfYear&&(t<fe||ge<t)&&(t=ge),p(e)._overflowWeeks&&-1===t&&(t=ye),p(e)._overflowWeekday&&-1===t&&(t=we),p(e).overflow=t),e}function ht(e,t,i){return null!=e?e:null!=t?t:i}function pt(e){var t,i,n,s,o,a=[];if(!e._d){for(s=e,o=new Date(d.now()),i=s._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],e._w&&null==e._a[ge]&&null==e._a[me]&&function(e){var t,i,n,s,o,a,r;{var l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,i=ht(t.GG,e._a[fe],je(Et(),1,4).year),n=ht(t.W,1),((s=ht(t.E,1))<1||7<s)&&(r=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=je(Et(),o,a),i=ht(t.gg,e._a[fe],l.year),n=ht(t.w,l.week),null!=t.d?((s=t.d)<0||6<s)&&(r=!0):null!=t.e?(s=t.e+o,(t.e<0||6<t.e)&&(r=!0)):s=o)}n<1||n>We(i,o,a)?p(e)._overflowWeeks=!0:null!=r?p(e)._overflowWeekday=!0:(a=ze(i,n,s,o,a),e._a[fe]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(n=ht(e._a[fe],i[fe]),(e._dayOfYear>xe(n)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=Ue(n,0,e._dayOfYear),e._a[me]=n.getUTCMonth(),e._a[ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[_e]&&0===e._a[ve]&&0===e._a[be]&&0===e._a[qe]&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?Ue:He).apply(null,a),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(p(e).weekdayMismatch=!0)}}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bt=/^\/?Date\((\-?\d+)/i;function qt(e){var t,i,n,s,o,a,r=e._i,l=ft.exec(r)||mt.exec(r);if(l){for(p(e).iso=!0,t=0,i=_t.length;t<i;t++)if(_t[t][1].exec(l[1])){s=_t[t][0],n=!1!==_t[t][2];break}if(null!=s){if(l[3]){for(t=0,i=vt.length;t<i;t++)if(vt[t][1].exec(l[3])){o=(l[2]||" ")+vt[t][0];break}if(null==o)return void(e._isValid=!1)}if(n||null==o){if(l[4]){if(!gt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=s+(o||"")+(a||""),Ct(e)}else e._isValid=!1}else e._isValid=!1}else e._isValid=!1}var yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function wt(e,t,i,n,s,o){s=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Fe.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(s,10)];return o&&s.push(parseInt(o,10)),s}var xt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,i,n,s,o=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));o?(t=wt(o[4],o[3],o[2],o[5],o[6],o[7]),i=o[1],n=t,s=e,i&&Ve.indexOf(i)!==new Date(n[0],n[1],n[2]).getDay()?(p(s).weekdayMismatch=!0,s._isValid=!1):(e._a=t,e._tzm=(s=o[8],t=o[9],o=o[10],s?xt[s]:t?0:60*(((t=parseInt(o,10))-(o=t%100))/100)+o),e._d=Ue.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0)):e._isValid=!1}function Ct(e){if(e._f!==d.ISO_8601)if(e._f!==d.RFC_2822){e._a=[],p(e).empty=!0;for(var t,i,n,s,o,a=""+e._i,r=a.length,l=0,u=W(e._f,e._locale).match(L)||[],c=0;c<u.length;c++)i=u[c],(t=(a.match(ue(i,e))||[])[0])&&(0<(s=a.substr(0,a.indexOf(t))).length&&p(e).unusedInput.push(s),a=a.slice(a.indexOf(t)+t.length),l+=t.length),B[i]?(t?p(e).empty=!1:p(e).unusedTokens.push(i),n=i,o=e,null!=(s=t)&&h(de,n)&&de[n](s,o._a,o,n)):e._strict&&!t&&p(e).unusedTokens.push(i);p(e).charsLeftOver=r-l,0<a.length&&p(e).unusedInput.push(a),e._a[_e]<=12&&!0===p(e).bigHour&&0<e._a[_e]&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[_e]=function(e,t,i){if(null==i)return t;return null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((i=e.isPM(i))&&t<12&&(t+=12),t=i||12!==t?t:0):t}(e._locale,e._a[_e],e._meridiem),pt(e),dt(e)}else St(e);else qt(e)}function Dt(e){var t=e._i,i=e._f;return e._locale=e._locale||ct(e._l),null===t||void 0===i&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),q(t)?new b(dt(t)):(n(t)?e._d=t:a(i)?function(e){var t,i,n,s,o;if(0===e._f.length)return p(e).invalidFormat=!0,e._d=new Date(NaN);for(s=0;s<e._f.length;s++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],Ct(t),f(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==n||o<n)&&(n=o,i=t));u(e,i||t)}(e):i?Ct(e):o(i=(t=e)._i)?t._d=new Date(d.now()):n(i)?t._d=new Date(i.valueOf()):"string"==typeof i?function(e){var t=bt.exec(e._i);null===t?(qt(e),!1===e._isValid&&(delete e._isValid,St(e),!1===e._isValid&&(delete e._isValid,d.createFromInputFallback(e)))):e._d=new Date(+t[1])}(t):a(i)?(t._a=s(i.slice(0),function(e){return parseInt(e,10)}),pt(t)):r(i)?function(e){var t;e._d||(t=O(e._i),e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),pt(e))}(t):l(i)?t._d=new Date(i):d.createFromInputFallback(t),f(e)||(e._d=null),e))}function kt(e,t,i,n,s){var o={};return!0!==i&&!1!==i||(n=i,i=void 0),(r(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return;return 1}(e)||a(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=i,o._i=e,o._f=t,o._strict=n,(o=new b(dt(Dt(o=o))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Et(e,t,i,n){return kt(e,t,i,n,!1)}d.createFromInputFallback=i("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),d.ISO_8601=function(){},d.RFC_2822=function(){};var Tt=i("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),It=i("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:m()});function Pt(e,t){var i,n;if(!(t=1===t.length&&a(t[0])?t[0]:t).length)return Et();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}var At=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ft(e){var t=O(e),i=t.year||0,n=t.quarter||0,s=t.month||0,o=t.week||0,a=t.day||0,r=t.hour||0,l=t.minute||0,u=t.second||0,e=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ce.call(At,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<At.length;++n)if(e[At[n]]){if(i)return!1;parseFloat(e[At[n]])!==w(e[At[n]])&&(i=!0)}return!0}(t),this._milliseconds=+e+1e3*u+6e4*l+1e3*r*60*60,this._days=+a+7*o,this._months=+s+3*n+12*i,this._data={},this._locale=ct(),this._bubble()}function Ot(e){return e instanceof Ft}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,i){z(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+R(~~(e/60),2)+i+R(~~e%60,2)})}Nt("Z",":"),Nt("ZZ",""),le("Z",oe),le("ZZ",oe),he(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Lt(oe,e)});var Rt=/([\+\-]|\d\d)/gi;function Lt(e,t){t=(t||"").match(e);if(null===t)return null;e=((t[t.length-1]||[])+"").match(Rt)||["-",0,0],t=60*e[1]+w(e[2]);return 0===t?0:"+"===e[0]?t:-t}function Ht(e,t){var i;return t._isUTC?(i=t.clone(),t=(q(e)||n(e)?e:Et(e)).valueOf()-i.valueOf(),i._d.setTime(i._d.valueOf()+t),d.updateOffset(i,!1),i):Et(e).local()}function Ut(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}d.updateOffset=function(){};var zt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var i,n=e,s=null;return Ot(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(n={},t?n[t]=e:n.milliseconds=e):(s=zt.exec(e))?(i="-"===s[1]?-1:1,n={y:0,d:w(s[ge])*i,h:w(s[_e])*i,m:w(s[ve])*i,s:w(s[be])*i,ms:w(Mt(1e3*s[qe]))*i}):(s=jt.exec(e))?(i="-"===s[1]?-1:(s[1],1),n={y:Yt(s[2],i),M:Yt(s[3],i),w:Yt(s[4],i),d:Yt(s[5],i),h:Yt(s[6],i),m:Yt(s[7],i),s:Yt(s[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(i=function(e,t){var i;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ht(t,e),e.isBefore(t)?i=Vt(e,t):((i=Vt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(Et(n.from),Et(n.to)),(n={}).ms=i.milliseconds,n.M=i.months),n=new Ft(n),Ot(e)&&h(e,"_locale")&&(n._locale=e._locale),n}function Yt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Vt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Gt(n,s){return function(e,t){var i;return null===t||isNaN(+t)||(D(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=e,e=t,t=i),$t(this,Wt(e="string"==typeof e?+e:e,t),n),this}}function $t(e,t,i,n){var s=t._milliseconds,o=Mt(t._days),t=Mt(t._months);e.isValid()&&(n=null==n||n,t&&Oe(e,Ee(e,"Month")+t*i),o&&Te(e,"Date",Ee(e,"Date")+o*i),s&&e._d.setTime(e._d.valueOf()+s*i),n&&d.updateOffset(e,o||t))}Wt.fn=Ft.prototype,Wt.invalid=function(){return Wt(NaN)};ae=Gt(1,"add"),Z=Gt(-1,"subtract");function Xt(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months"),n=t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(1+i,"months")-n);return-(i+n)||0}function Kt(e){return void 0===e?this._locale._abbr:(null!=(e=ct(e))&&(this._locale=e),this)}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Q=i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Zt(){return this._locale}function Qt(e,t){z(0,[e,e.length],0,t)}function Jt(e,t,i,n,s){var o;return null==e?je(this,n,s).year:(o=We(e,n,s),function(e,t,i,n,s){s=ze(e,t,i,n,s),s=Ue(s.year,0,s.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t=o<t?o:t,i,n,s))}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Qt("gggg","weekYear"),Qt("ggggg","weekYear"),Qt("GGGG","isoWeekYear"),Qt("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),le("G",ne),le("g",ne),le("GG",K,V),le("gg",K,V),le("GGGG",ee,$),le("gggg",ee,$),le("GGGGG",te,X),le("ggggg",te,X),pe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=w(e)}),pe(["gg","GG"],function(e,t,i,n){t[n]=d.parseTwoDigitYear(e)}),z("Q",0,"Qo","quarter"),A("quarter","Q"),N("quarter",7),le("Q",Y),he("Q",function(e,t){t[me]=3*(w(e)-1)}),z("D",["DD",2],"Do","date"),A("date","D"),N("date",9),le("D",K),le("DD",K,V),le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),he(["D","DD"],ge),he("Do",function(e,t){t[ge]=w(e.match(K)[0])});Ae=ke("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),N("dayOfYear",4),le("DDD",J),le("DDDD",G),he(["DDD","DDDD"],function(e,t,i){i._dayOfYear=w(e)}),z("m",["mm",2],0,"minute"),A("minute","m"),N("minute",14),le("m",K),le("mm",K,V),he(["m","mm"],ve);Ye=ke("Minutes",!1);z("s",["ss",2],0,"second"),A("second","s"),N("second",15),le("s",K),le("ss",K,V),he(["s","ss"],be);var ei,Ge=ke("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),N("millisecond",16),le("S",J,Y),le("SS",J,V),le("SSS",J,G),ei="SSSS";ei.length<=9;ei+="S")le(ei,ie);function ti(e,t){t[qe]=w(1e3*("0."+e))}for(ei="S";ei.length<=9;ei+="S")he(ei,ti);ee=ke("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");$=b.prototype;function ii(e){return e}$.add=ae,$.calendar=function(e,t){var i=e||Et(),e=Ht(i,this).startOf("day"),e=d.calendarFormat(this,e)||"sameElse",t=t&&(k(t[e])?t[e].call(this,i):t[e]);return this.format(t||this.localeData().calendar(e,this,Et(i)))},$.clone=function(){return new b(this)},$.diff=function(e,t,i){var n,s,o;if(!this.isValid())return NaN;if(!(n=Ht(e,this)).isValid())return NaN;switch(s=6e4*(n.utcOffset()-this.utcOffset()),t=F(t)){case"year":o=Xt(this,n)/12;break;case"month":o=Xt(this,n);break;case"quarter":o=Xt(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-s)/864e5;break;case"week":o=(this-n-s)/6048e5;break;default:o=this-n}return i?o:y(o)},$.endOf=function(e){return void 0===(e=F(e))||"millisecond"===e?this:this.startOf(e="date"===e?"day":e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},$.format=function(e){return e=e||(this.isUtc()?d.defaultFormatUtc:d.defaultFormat),e=j(this,e),this.localeData().postformat(e)},$.from=function(e,t){return this.isValid()&&(q(e)&&e.isValid()||Et(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},$.fromNow=function(e){return this.from(Et(),e)},$.to=function(e,t){return this.isValid()&&(q(e)&&e.isValid()||Et(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},$.toNow=function(e){return this.to(Et(),e)},$.get=function(e){return k(this[e=F(e)])?this[e]():this},$.invalidAt=function(){return p(this).overflow},$.isAfter=function(e,t){return e=q(e)?e:Et(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=F(o(t)?"millisecond":t))?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},$.isBefore=function(e,t){return e=q(e)?e:Et(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=F(o(t)?"millisecond":t))?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},$.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},$.isSame=function(e,t){return e=q(e)?e:Et(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=F(t||"millisecond"))?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},$.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},$.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},$.isValid=function(){return f(this)},$.lang=Q,$.locale=Kt,$.localeData=Zt,$.max=It,$.min=Tt,$.parsingFlags=function(){return u({},p(this))},$.set=function(e,t){if("object"==typeof e)for(var i=function(e){var t,i=[];for(t in e)i.push({unit:t,priority:M[t]});return i.sort(function(e,t){return e.priority-t.priority}),i}(e=O(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(k(this[e=F(e)]))return this[e](t);return this},$.startOf=function(e){switch(e=F(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},$.subtract=Z,$.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},$.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},$.toDate=function(){return new Date(this.valueOf())},$.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e;return(e=t?this.clone().utc():this).year()<0||9999<e.year()?j(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(e,"Z")):j(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},$.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+e+"-MM-DD[T]HH:mm:ss.SSS"+(t+'[")]'))},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},$.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},$.year=De,$.isLeapYear=function(){return Se(this.year())},$.weekYear=function(e){return Jt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},$.isoWeekYear=function(e){return Jt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},$.quarter=$.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},$.month=Me,$.daysInMonth=function(){return Ie(this.year(),this.month())},$.week=$.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},$.isoWeek=$.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},$.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},$.isoWeeksInYear=function(){return We(this.year(),1,4)},$.date=Ae,$.day=$.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},$.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},$.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=(t=e,e=this.localeData(),"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?t:t-7)},$.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},$.hour=$.hours=it,$.minute=$.minutes=Ye,$.second=$.seconds=Ge,$.millisecond=$.milliseconds=ee,$.utcOffset=function(e,t,i){var n,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?s:Ut(this);if("string"==typeof e){if(null===(e=Lt(oe,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(n=Ut(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==e&&(!t||this._changeInProgress?$t(this,Wt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this},$.utc=function(e){return this.utcOffset(0,e)},$.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ut(this),"m")),this},$.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Lt(se,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},$.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},$.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},$.isLocal=function(){return!!this.isValid()&&!this._isUTC},$.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},$.isUtc=Bt,$.isUTC=Bt,$.zoneAbbr=function(){return this._isUTC?"UTC":""},$.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},$.dates=i("dates accessor is deprecated. Use date instead.",Ae),$.months=i("months accessor is deprecated. Use month instead",Me),$.years=i("years accessor is deprecated. Use year instead",De),$.zone=i("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),$.isDSTShifted=i("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=Dt(t))._a?(e=(t._isUTC?c:Et)(t._a),this._isDSTShifted=this.isValid()&&0<x(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});te=T.prototype;function ni(e,t,i,n){var s=ct(),t=c().set(n,t);return s[i](t,e)}function si(e,t,i){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ni(e,t,i,"month");for(var n=[],s=0;s<12;s++)n[s]=ni(e,s,i,"month");return n}function oi(e,t,i,n){t=("boolean"==typeof e?l(t)&&(i=t,t=void 0):(t=e,e=!1,l(i=t)&&(i=t,t=void 0)),t||"");var s=ct(),o=e?s._week.dow:0;if(null!=i)return ni(t,(i+o)%7,n,"day");for(var a=[],r=0;r<7;r++)a[r]=ni(t,(r+o)%7,n,"day");return a}te.calendar=function(e,t,i){return k(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,i):e},te.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},te.invalidDate=function(){return this._invalidDate},te.ordinal=function(e){return this._ordinal.replace("%d",e)},te.preparse=ii,te.postformat=ii,te.relativeTime=function(e,t,i,n){var s=this._relativeTime[i];return k(s)?s(e,t,i,n):s.replace(/%d/i,e)},te.pastFuture=function(e,t){return k(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},te.set=function(e){var t,i;for(i in e)k(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},te.months=function(e,t){return e?(a(this._months)?this._months:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"])[e.month()]:a(this._months)?this._months:this._months.standalone},te.monthsShort=function(e,t){return e?(a(this._monthsShort)?this._monthsShort:this._monthsShort[Pe.test(t)?"format":"standalone"])[e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},te.monthsParse=function(e,t,i){var n,s;if(this._monthsParseExact)return function(e,t,i){var n,s,o,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=c([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(s=Ce.call(this._shortMonthsParse,e))?s:null:-1!==(s=Ce.call(this._longMonthsParse,e))?s:null:"MMM"===t?-1!==(s=Ce.call(this._shortMonthsParse,e))||-1!==(s=Ce.call(this._longMonthsParse,e))?s:null:-1!==(s=Ce.call(this._longMonthsParse,e))||-1!==(s=Ce.call(this._shortMonthsParse,e))?s:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=c([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},te.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Re),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},te.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Ne),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},te.week=function(e){return je(e,this._week.dow,this._week.doy).week},te.firstDayOfYear=function(){return this._week.doy},te.firstDayOfWeek=function(){return this._week.dow},te.weekdays=function(e,t){return e?(a(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"])[e.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},te.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},te.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},te.weekdaysParse=function(e,t,i){var n,s;if(this._weekdaysParseExact)return function(e,t,i){var n,s,o,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=c([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(s=Ce.call(this._weekdaysParse,e))?s:null:"ddd"===t?-1!==(s=Ce.call(this._shortWeekdaysParse,e))?s:null:-1!==(s=Ce.call(this._minWeekdaysParse,e))?s:null:"dddd"===t?-1!==(s=Ce.call(this._weekdaysParse,e))||-1!==(s=Ce.call(this._shortWeekdaysParse,e))||-1!==(s=Ce.call(this._minWeekdaysParse,e))?s:null:"ddd"===t?-1!==(s=Ce.call(this._shortWeekdaysParse,e))||-1!==(s=Ce.call(this._weekdaysParse,e))||-1!==(s=Ce.call(this._minWeekdaysParse,e))?s:null:-1!==(s=Ce.call(this._minWeekdaysParse,e))||-1!==(s=Ce.call(this._weekdaysParse,e))||-1!==(s=Ce.call(this._shortWeekdaysParse,e))?s:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=c([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},te.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},te.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},te.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ke),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},te.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},te.meridiem=function(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"},lt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),d.lang=i("moment.lang is deprecated. Use moment.locale instead.",lt),d.langData=i("moment.langData is deprecated. Use moment.localeData instead.",ct);var ai=Math.abs;function ri(e,t,i,n){i=Wt(t,i);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function li(e){return e<0?Math.floor(e):Math.ceil(e)}function ui(e){return 4800*e/146097}function ci(e){return 146097*e/4800}function di(e){return function(){return this.as(e)}}X=di("ms"),Y=di("s"),V=di("m"),J=di("h"),G=di("d"),ae=di("w"),It=di("M"),Tt=di("y");function hi(e){return function(){return this.isValid()?this._data[e]:NaN}}Z=hi("milliseconds"),it=hi("seconds"),Ye=hi("minutes"),Ge=hi("hours"),ee=hi("days"),Ae=hi("months"),De=hi("years");var pi=Math.round,fi={ss:44,s:45,m:45,h:22,d:26,M:11};function mi(e,t,i){var n=Wt(e).abs(),s=pi(n.as("s")),o=pi(n.as("m")),a=pi(n.as("h")),r=pi(n.as("d")),l=pi(n.as("M")),n=pi(n.as("y")),n=(s<=fi.ss?["s",s]:s<fi.s&&["ss",s])||o<=1&&["m"]||o<fi.m&&["mm",o]||a<=1&&["h"]||a<fi.h&&["hh",a]||r<=1&&["d"]||r<fi.d&&["dd",r]||l<=1&&["M"]||l<fi.M&&["MM",l]||n<=1&&["y"]||["yy",n];return n[2]=t,n[3]=0<+e,n[4]=i,function(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}.apply(null,n)}var gi=Math.abs;function _i(e){return(0<e)-(e<0)||+e}function vi(){if(!this.isValid())return this.localeData().invalidDate();var e=gi(this._milliseconds)/1e3,t=gi(this._days),i=gi(this._months),n=y(e/60),s=y(n/60);e%=60,n%=60;var o=y(i/12),a=i%=12,r=t,l=s,u=n,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",t=this.asSeconds();if(!t)return"P0D";s=_i(this._months)!==_i(t)?"-":"",n=_i(this._days)!==_i(t)?"-":"",e=_i(this._milliseconds)!==_i(t)?"-":"";return(t<0?"-":"")+"P"+(o?s+o+"Y":"")+(a?s+a+"M":"")+(r?n+r+"D":"")+(l||u||i?"T":"")+(l?e+l+"H":"")+(u?e+u+"M":"")+(i?e+i+"S":"")}te=Ft.prototype;return te.isValid=function(){return this._isValid},te.abs=function(){var e=this._data;return this._milliseconds=ai(this._milliseconds),this._days=ai(this._days),this._months=ai(this._months),e.milliseconds=ai(e.milliseconds),e.seconds=ai(e.seconds),e.minutes=ai(e.minutes),e.hours=ai(e.hours),e.months=ai(e.months),e.years=ai(e.years),this},te.add=function(e,t){return ri(this,e,t,1)},te.subtract=function(e,t){return ri(this,e,t,-1)},te.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=F(e))||"year"===e)return t=this._days+n/864e5,i=this._months+ui(t),"month"===e?i:i/12;switch(t=this._days+Math.round(ci(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},te.asMilliseconds=X,te.asSeconds=Y,te.asMinutes=V,te.asHours=J,te.asDays=G,te.asWeeks=ae,te.asMonths=It,te.asYears=Tt,te.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},te._bubble=function(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data;return 0<=e&&0<=t&&0<=i||e<=0&&t<=0&&i<=0||(e+=864e5*li(ci(i)+t),i=t=0),n.milliseconds=e%1e3,e=y(e/1e3),n.seconds=e%60,e=y(e/60),n.minutes=e%60,e=y(e/60),n.hours=e%24,t+=y(e/24),i+=e=y(ui(t)),t-=li(ci(e)),e=y(i/12),i%=12,n.days=t,n.months=i,n.years=e,this},te.clone=function(){return Wt(this)},te.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},te.milliseconds=Z,te.seconds=it,te.minutes=Ye,te.hours=Ge,te.days=ee,te.weeks=function(){return y(this.days()/7)},te.months=Ae,te.years=De,te.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=mi(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)},te.toISOString=vi,te.toString=vi,te.toJSON=vi,te.locale=Kt,te.localeData=Zt,te.toIsoString=i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vi),te.lang=Q,z("X",0,0,"unix"),z("x",0,0,"valueOf"),le("x",ne),le("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),he("x",function(e,t,i){i._d=new Date(w(e))}),d.version="2.22.2",e=Et,d.fn=$,d.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},d.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=c,d.unix=function(e){return Et(1e3*e)},d.months=function(e,t){return si(e,t,"months")},d.isDate=n,d.locale=lt,d.invalid=m,d.duration=Wt,d.isMoment=q,d.weekdays=function(e,t,i){return oi(e,t,i,"weekdays")},d.parseZone=function(){return Et.apply(null,arguments).parseZone()},d.localeData=ct,d.isDuration=Ot,d.monthsShort=function(e,t){return si(e,t,"monthsShort")},d.weekdaysMin=function(e,t,i){return oi(e,t,i,"weekdaysMin")},d.defineLocale=ut,d.updateLocale=function(e,t){var i,n;return null!=t?(i=nt,(t=new T(t=E(i=null!=(n=rt(e))?n._config:i,t))).parentLocale=st[e],st[e]=t,lt(e)):null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]),st[e]},d.locales=function(){return I(st)},d.weekdaysShort=function(e,t,i){return oi(e,t,i,"weekdaysShort")},d.normalizeUnits=F,d.relativeTimeRounding=function(e){return void 0===e?pi:"function"==typeof e&&(pi=e,!0)},d.relativeTimeThreshold=function(e,t){return void 0!==fi[e]&&(void 0===t?fi[e]:(fi[e]=t,"s"===e&&(fi.ss=t-1),!0))},d.calendarFormat=function(e,t){return(t=e.diff(t,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},d.prototype=$,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},d}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap={},e.jQuery)}(this,function(e,t){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=i(t);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s="transitionend";function o(e){var t=this,i=!1;return c.default(this).one(d.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||d.triggerTransitionEnd(t)},e),this}var d={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=(e=e.getAttribute("href"))&&"#"!==e?e.trim():"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=c.default(e).css("transition-duration"),i=c.default(e).css("transition-delay"),n=parseFloat(t),e=parseFloat(i);return n||e?(t=t.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(t)+parseFloat(i))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){c.default(e).trigger(s)},supportsTransitionEnd:function(){return Boolean(s)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var s=i[n],o=t[n],a=o&&d.isElement(o)?"element":null==(a=o)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(a))throw new Error(e.toUpperCase()+': Option "'+n+'" provided type "'+a+'" but expected type "'+s+'".')}var a},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?d.findShadowRoot(e.parentNode):null;e=e.getRootNode();return e instanceof ShadowRoot?e:null},jQueryDetection:function(){if(void 0===c.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=c.default.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};d.jQueryDetection(),c.default.fn.emulateTransitionEnd=o,c.default.event.special[d.TRANSITION_END]={bindType:s,delegateType:s,handle:function(e){if(c.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var l="alert",u="bs.alert",h="."+u,p=c.default.fn[l],f=function(){function n(e){this._element=e}var e=n.prototype;return e.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},e.dispose=function(){c.default.removeData(this._element,u),this._element=null},e._getRootElement=function(e){var t=d.getSelectorFromElement(e),i=!1;return i=(i=t?document.querySelector(t):i)||c.default(e).closest(".alert")[0]},e._triggerCloseEvent=function(e){var t=c.default.Event("close.bs.alert");return c.default(e).trigger(t),t},e._removeElement=function(t){var e,i=this;c.default(t).removeClass("show"),c.default(t).hasClass("fade")?(e=d.getTransitionDurationFromElement(t),c.default(t).one(d.TRANSITION_END,function(e){return i._destroyElement(t,e)}).emulateTransitionEnd(e)):this._destroyElement(t)},e._destroyElement=function(e){c.default(e).detach().trigger("closed.bs.alert").remove()},n._jQueryInterface=function(i){return this.each(function(){var e=c.default(this),t=e.data(u);t||(t=new n(this),e.data(u,t)),"close"===i&&t[i](this)})},n._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},a(n,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),n}();c.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f._handleDismiss(new f)),c.default.fn[l]=f._jQueryInterface,c.default.fn[l].Constructor=f,c.default.fn[l].noConflict=function(){return c.default.fn[l]=p,f._jQueryInterface};var m="button",g="bs.button",t=".data-api",_=c.default.fn[m],v="active",h='[data-toggle^="button"]',b='input:not([type="hidden"])',q=function(){function s(e){this._element=e,this.shouldAvoidTriggerChange=!1}var e=s.prototype;return e.toggle=function(){var e,t=!0,i=!0,n=c.default(this._element).closest('[data-toggle="buttons"]')[0];!n||(e=this._element.querySelector(b))&&("radio"===e.type&&(e.checked&&this._element.classList.contains(v)?t=!1:(n=n.querySelector(".active"))&&c.default(n).removeClass(v)),t&&("checkbox"!==e.type&&"radio"!==e.type||(e.checked=!this._element.classList.contains(v)),this.shouldAvoidTriggerChange||c.default(e).trigger("change")),e.focus(),i=!1),this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(v)),t&&c.default(this._element).toggleClass(v))},e.dispose=function(){c.default.removeData(this._element,g),this._element=null},s._jQueryInterface=function(i,n){return this.each(function(){var e=c.default(this),t=e.data(g);t||(t=new s(this),e.data(g,t)),t.shouldAvoidTriggerChange=n,"toggle"===i&&t[i]()})},a(s,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),s}();c.default(document).on("click.bs.button.data-api",h,function(e){var t,i=e.target,n=i;!(i=!c.default(i).hasClass("btn")?c.default(i).closest(".btn")[0]:i)||i.hasAttribute("disabled")||i.classList.contains("disabled")||(t=i.querySelector(b))&&(t.hasAttribute("disabled")||t.classList.contains("disabled"))?e.preventDefault():"INPUT"!==n.tagName&&"LABEL"===i.tagName||q._jQueryInterface.call(c.default(i),"toggle","INPUT"===n.tagName)}).on("focus.bs.button.data-api blur.bs.button.data-api",h,function(e){var t=c.default(e.target).closest(".btn")[0];c.default(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),c.default(window).on("load.bs.button.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,i=e.length;t<i;t++){var n=e[t],s=n.querySelector(b);s.checked||s.hasAttribute("checked")?n.classList.add(v):n.classList.remove(v)}for(var o=0,a=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<a;o++){var r=e[o];"true"===r.getAttribute("aria-pressed")?r.classList.add(v):r.classList.remove(v)}}),c.default.fn[m]=q._jQueryInterface,c.default.fn[m].Constructor=q,c.default.fn[m].noConflict=function(){return c.default.fn[m]=_,q._jQueryInterface};var y="carousel",w="bs.carousel",x="."+w,S=c.default.fn[y],C={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},D={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},k="next",E="prev",T="slid"+x,I="active",P=".active.carousel-item",A={TOUCH:"touch",PEN:"pen"},F=function(){function s(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=s.prototype;return e.next=function(){this._isSliding||this._slide(k)},e.nextWhenVisible=function(){var e=c.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(E)},e.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(d.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(e){var t=this;this._activeElement=this._element.querySelector(P);var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)c.default(this._element).one(T,function(){return t.to(e)});else{if(i===e)return this.pause(),void this.cycle();this._slide(i<e?k:E,this._items[e])}},e.dispose=function(){c.default(this._element).off(x),c.default.removeData(this._element,w),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(e){return e=r({},C,e),d.typeCheckConfig(y,e,D),e},e._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);e<=40||(e=e/this.touchDeltaX,(this.touchDeltaX=0)<e&&this.prev(),e<0&&this.next())},e._addEventListeners=function(){var t=this;this._config.keyboard&&c.default(this._element).on("keydown.bs.carousel",function(e){return t._keydown(e)}),"hover"===this._config.pause&&c.default(this._element).on("mouseenter.bs.carousel",function(e){return t.pause(e)}).on("mouseleave.bs.carousel",function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var e,t,i=this;this._touchSupported&&(e=function(e){i._pointerEvent&&A[e.originalEvent.pointerType.toUpperCase()]?i.touchStartX=e.originalEvent.clientX:i._pointerEvent||(i.touchStartX=e.originalEvent.touches[0].clientX)},t=function(e){i._pointerEvent&&A[e.originalEvent.pointerType.toUpperCase()]&&(i.touchDeltaX=e.originalEvent.clientX-i.touchStartX),i._handleSwipe(),"hover"===i._config.pause&&(i.pause(),i.touchTimeout&&clearTimeout(i.touchTimeout),i.touchTimeout=setTimeout(function(e){return i.cycle(e)},500+i._config.interval))},c.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(e){return e.preventDefault()}),this._pointerEvent?(c.default(this._element).on("pointerdown.bs.carousel",e),c.default(this._element).on("pointerup.bs.carousel",t),this._element.classList.add("pointer-event")):(c.default(this._element).on("touchstart.bs.carousel",e),c.default(this._element).on("touchmove.bs.carousel",function(e){(e=e).originalEvent.touches&&1<e.originalEvent.touches.length?i.touchDeltaX=0:i.touchDeltaX=e.originalEvent.touches[0].clientX-i.touchStartX}),c.default(this._element).on("touchend.bs.carousel",t)))},e._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},e._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},e._getItemByDirection=function(e,t){var i=e===k,n=e===E,s=this._getItemIndex(t),o=this._items.length-1;if((n&&0===s||i&&s===o)&&!this._config.wrap)return t;e=(s+(e===E?-1:1))%this._items.length;return-1==e?this._items[this._items.length-1]:this._items[e]},e._triggerSlideEvent=function(e,t){var i=this._getItemIndex(e),n=this._getItemIndex(this._element.querySelector(P)),i=c.default.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:n,to:i});return c.default(this._element).trigger(i),i},e._setActiveIndicatorElement=function(e){var t;this._indicatorsElement&&(t=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),c.default(t).removeClass(I),(e=this._indicatorsElement.children[this._getItemIndex(e)])&&c.default(e).addClass(I))},e._updateInterval=function(){var e=this._activeElement||this._element.querySelector(P);e&&((e=parseInt(e.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval)},e._slide=function(e,t){var i,n,s,o=this,a=this._element.querySelector(P),r=this._getItemIndex(a),l=t||a&&this._getItemByDirection(e,a),u=this._getItemIndex(l),t=Boolean(this._interval),e=e===k?(i="carousel-item-left",n="carousel-item-next","left"):(i="carousel-item-right",n="carousel-item-prev","right");l&&c.default(l).hasClass(I)?this._isSliding=!1:this._triggerSlideEvent(l,e).isDefaultPrevented()||a&&l&&(this._isSliding=!0,t&&this.pause(),this._setActiveIndicatorElement(l),this._activeElement=l,s=c.default.Event(T,{relatedTarget:l,direction:e,from:r,to:u}),c.default(this._element).hasClass("slide")?(c.default(l).addClass(n),d.reflow(l),c.default(a).addClass(i),c.default(l).addClass(i),u=d.getTransitionDurationFromElement(a),c.default(a).one(d.TRANSITION_END,function(){c.default(l).removeClass(i+" "+n).addClass(I),c.default(a).removeClass(I+" "+n+" "+i),o._isSliding=!1,setTimeout(function(){return c.default(o._element).trigger(s)},0)}).emulateTransitionEnd(u)):(c.default(a).removeClass(I),c.default(l).addClass(I),this._isSliding=!1,c.default(this._element).trigger(s)),t&&this.cycle())},s._jQueryInterface=function(n){return this.each(function(){var e=c.default(this).data(w),t=r({},C,c.default(this).data());"object"==typeof n&&(t=r({},t,n));var i="string"==typeof n?n:t.slide;if(e||(e=new s(this,t),c.default(this).data(w,e)),"number"==typeof n)e.to(n);else if("string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}else t.interval&&t.ride&&(e.pause(),e.cycle())})},s._dataApiClickHandler=function(e){var t,i,n=d.getSelectorFromElement(this);!n||(t=c.default(n)[0])&&c.default(t).hasClass("carousel")&&(i=r({},c.default(t).data(),c.default(this).data()),(n=this.getAttribute("data-slide-to"))&&(i.interval=!1),s._jQueryInterface.call(c.default(t),i),n&&c.default(t).data(w).to(n),e.preventDefault())},a(s,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return C}}]),s}();c.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",F._dataApiClickHandler),c.default(window).on("load.bs.carousel.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,i=e.length;t<i;t++){var n=c.default(e[t]);F._jQueryInterface.call(n,n.data())}}),c.default.fn[y]=F._jQueryInterface,c.default.fn[y].Constructor=F,c.default.fn[y].noConflict=function(){return c.default.fn[y]=S,F._jQueryInterface};var O="collapse",M="bs.collapse",N=c.default.fn[O],R={toggle:!0,parent:""},L={toggle:"boolean",parent:"(string|element)"},H="show",U="collapse",B="collapsing",z="collapsed",j='[data-toggle="collapse"]',W=function(){function o(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(j)),n=0,s=i.length;n<s;n++){var o=i[n],a=d.getSelectorFromElement(o),r=[].slice.call(document.querySelectorAll(a)).filter(function(e){return e===t});null!==a&&0<r.length&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=o.prototype;return e.toggle=function(){c.default(this._element).hasClass(H)?this.hide():this.show()},e.show=function(){var e,t,i,n,s=this;this._isTransitioning||c.default(this._element).hasClass(H)||(n=this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return"string"==typeof s._config.parent?e.getAttribute("data-parent")===s._config.parent:e.classList.contains(U)})).length?null:n)&&(i=c.default(n).not(this._selector).data(M))&&i._isTransitioning||(e=c.default.Event("show.bs.collapse"),c.default(this._element).trigger(e),e.isDefaultPrevented()||(n&&(o._jQueryInterface.call(c.default(n).not(this._selector),"hide"),i||c.default(n).data(M,null)),t=this._getDimension(),c.default(this._element).removeClass(U).addClass(B),this._element.style[t]=0,this._triggerArray.length&&c.default(this._triggerArray).removeClass(z).attr("aria-expanded",!0),this.setTransitioning(!0),i="scroll"+(t[0].toUpperCase()+t.slice(1)),n=d.getTransitionDurationFromElement(this._element),c.default(this._element).one(d.TRANSITION_END,function(){c.default(s._element).removeClass(B).addClass(U+" "+H),s._element.style[t]="",s.setTransitioning(!1),c.default(s._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(n),this._element.style[t]=this._element[i]+"px"))},e.hide=function(){var e=this;if(!this._isTransitioning&&c.default(this._element).hasClass(H)){var t=c.default.Event("hide.bs.collapse");if(c.default(this._element).trigger(t),!t.isDefaultPrevented()){t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",d.reflow(this._element),c.default(this._element).addClass(B).removeClass(U+" "+H);var i=this._triggerArray.length;if(0<i)for(var n=0;n<i;n++){var s=this._triggerArray[n],o=d.getSelectorFromElement(s);null!==o&&(c.default([].slice.call(document.querySelectorAll(o))).hasClass(H)||c.default(s).addClass(z).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[t]="";t=d.getTransitionDurationFromElement(this._element);c.default(this._element).one(d.TRANSITION_END,function(){e.setTransitioning(!1),c.default(e._element).removeClass(B).addClass(U).trigger("hidden.bs.collapse")}).emulateTransitionEnd(t)}}},e.setTransitioning=function(e){this._isTransitioning=e},e.dispose=function(){c.default.removeData(this._element,M),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(e){return(e=r({},R,e)).toggle=Boolean(e.toggle),d.typeCheckConfig(O,e,L),e},e._getDimension=function(){return c.default(this._element).hasClass("width")?"width":"height"},e._getParent=function(){var e,i=this;d.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var t='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',t=[].slice.call(e.querySelectorAll(t));return c.default(t).each(function(e,t){i._addAriaAndCollapsedClass(o._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function(e,t){e=c.default(e).hasClass(H);t.length&&c.default(t).toggleClass(z,!e).attr("aria-expanded",e)},o._getTargetFromElement=function(e){e=d.getSelectorFromElement(e);return e?document.querySelector(e):null},o._jQueryInterface=function(n){return this.each(function(){var e=c.default(this),t=e.data(M),i=r({},R,e.data(),"object"==typeof n&&n?n:{});if(!t&&i.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(i.toggle=!1),t||(t=new o(this,i),e.data(M,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(o,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return R}}]),o}();c.default(document).on("click.bs.collapse.data-api",j,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var i=c.default(this),e=d.getSelectorFromElement(this),e=[].slice.call(document.querySelectorAll(e));c.default(e).each(function(){var e=c.default(this),t=e.data(M)?"toggle":i.data();W._jQueryInterface.call(e,t)})}),c.default.fn[O]=W._jQueryInterface,c.default.fn[O].Constructor=W,c.default.fn[O].noConflict=function(){return c.default.fn[O]=N,W._jQueryInterface};var Y="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,V=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Y&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}();var G=Y&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},V))}};function $(e){return e&&"[object Function]"==={}.toString.call(e)}function X(e,t){if(1!==e.nodeType)return[];e=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?e[t]:e}function K(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Z(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=X(e),i=t.overflow,n=t.overflowX,t=t.overflowY;return/(auto|scroll|overlay)/.test(i+t+n)?e:Z(K(e))}function Q(e){return e&&e.referenceNode?e.referenceNode:e}var J=Y&&!(!window.MSInputMethodContext||!document.documentMode),ee=Y&&/MSIE 10/.test(navigator.userAgent);function te(e){return 11===e?J:10!==e&&J||ee}function ie(e){if(!e)return document.documentElement;for(var t=te(10)?document.body:null,i=e.offsetParent||null;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===X(i,"position")?ie(i):i:(e?e.ownerDocument:document).documentElement}function ne(e){return null!==e.parentNode?ne(e.parentNode):e}function se(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?e:t,s=i?t:e,i=document.createRange();i.setStart(n,0),i.setEnd(s,0);i=i.commonAncestorContainer;if(e!==i&&t!==i||n.contains(s))return"BODY"===(s=(n=i).nodeName)||"HTML"!==s&&ie(n.firstElementChild)!==n?ie(i):i;i=ne(e);return i.host?se(i.host,t):se(e,ne(t).host)}function oe(e,t){var i="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",t=e.nodeName;if("BODY"!==t&&"HTML"!==t)return e[i];t=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||t)[i]}function ae(e,t){var i="x"===t?"Left":"Top",t="Left"==i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"])+parseFloat(e["border"+t+"Width"])}function re(e,t,i,n){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],te(10)?parseInt(i["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function le(e){var t=e.body,i=e.documentElement,e=te(10)&&getComputedStyle(i);return{height:re("Height",t,i,e),width:re("Width",t,i,e)}}t=function(e,t,i){return t&&ue(e.prototype,t),i&&ue(e,i),e};function ue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function he(e){return de({},e,{right:e.left+e.width,bottom:e.top+e.height})}function pe(e){var t={};try{te(10)?(t=e.getBoundingClientRect(),i=oe(e,"top"),n=oe(e,"left"),t.top+=i,t.left+=n,t.bottom+=i,t.right+=n):t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},n="HTML"===e.nodeName?le(e.ownerDocument):{},t=n.width||e.clientWidth||i.width,n=n.height||e.clientHeight||i.height,t=e.offsetWidth-t,n=e.offsetHeight-n;return(t||n)&&(t-=ae(e=X(e),"x"),n-=ae(e,"y"),i.width-=t,i.height-=n),he(i)}function fe(e,t,i){var n=2<arguments.length&&void 0!==i&&i,s=te(10),o="HTML"===t.nodeName,a=pe(e),r=pe(t),l=Z(e),u=X(t),i=parseFloat(u.borderTopWidth),e=parseFloat(u.borderLeftWidth);n&&o&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));a=he({top:a.top-r.top-i,left:a.left-r.left-e,width:a.width,height:a.height});return a.marginTop=0,a.marginLeft=0,!s&&o&&(o=parseFloat(u.marginTop),u=parseFloat(u.marginLeft),a.top-=i-o,a.bottom-=i-o,a.left-=e-u,a.right-=e-u,a.marginTop=o,a.marginLeft=u),a=(s&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)?function(e,t,i){var n=2<arguments.length&&void 0!==i&&i,i=oe(t,"top"),t=oe(t,"left"),n=n?-1:1;return e.top+=i*n,e.bottom+=i*n,e.left+=t*n,e.right+=t*n,e}(a,t):a}function me(e){if(!e||!e.parentElement||te())return document.documentElement;for(var t=e.parentElement;t&&"none"===X(t,"transform");)t=t.parentElement;return t||document.documentElement}function ge(e,t,i,n,s){var o=4<arguments.length&&void 0!==s&&s,a={top:0,left:0},r=o?me(e):se(e,Q(t));"viewport"===n?a=function(e,t){var i=1<arguments.length&&void 0!==t&&t,n=e.ownerDocument.documentElement,s=fe(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),t=Math.max(n.clientHeight,window.innerHeight||0),e=i?0:oe(n),n=i?0:oe(n,"left");return he({top:e-s.top+s.marginTop,left:n-s.left+s.marginLeft,width:o,height:t})}(r,o):(s=void 0,"scrollParent"===n?"BODY"===(s=Z(K(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n,l=fe(s,r,o),"HTML"!==s.nodeName||function e(t){var i=t.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===X(t,"position"))return!0;t=K(t);return!!t&&e(t)}(r)?a=l:(e=(r=le(e.ownerDocument)).height,r=r.width,a.top+=l.top-l.marginTop,a.bottom=e+l.top,a.left+=l.left-l.marginLeft,a.right=r+l.left));var l="number"==typeof(i=i||0);return a.left+=l?i:i.left||0,a.top+=l?i:i.top||0,a.right-=l?i:i.right||0,a.bottom-=l?i:i.bottom||0,a}function _e(e,t,i,n,s,o){o=5<arguments.length&&void 0!==o?o:0;if(-1===e.indexOf("auto"))return e;var s=ge(i,n,o,s),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},t=Object.keys(a).map(function(e){return de({key:e},a[e],{area:(e=a[e]).width*e.height})}).sort(function(e,t){return t.area-e.area}),s=t.filter(function(e){var t=e.width,e=e.height;return t>=i.clientWidth&&e>=i.clientHeight}),t=(0<s.length?s:t)[0].key,e=e.split("-")[1];return t+(e?"-"+e:"")}function ve(e,t,i,n){n=3<arguments.length&&void 0!==n?n:null;return fe(i,n?me(t):se(t,Q(i)),n)}function be(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),t=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+t,height:e.offsetHeight+i}}function qe(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function ye(e,t,i){i=i.split("-")[0];var n=be(e),s={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",r=o?"left":"top",e=o?"height":"width",o=o?"width":"height";return s[a]=t[a]+t[e]/2-n[e]/2,s[r]=i===r?t[r]-n[o]:t[qe(r)],s}function we(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function xe(e,i,t){return(void 0===t?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var n=we(e,function(e){return e[t]===i});return e.indexOf(n)}(e,"name",t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&$(t)&&(i.offsets.popper=he(i.offsets.popper),i.offsets.reference=he(i.offsets.reference),i=t(i,e))}),i}function Se(e,i){return e.some(function(e){var t=e.name;return e.enabled&&t===i})}function Ce(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var s=t[n],s=s?""+s+i:e;if(void 0!==document.body.style[s])return s}return null}function De(e){e=e.ownerDocument;return e?e.defaultView:window}function ke(e,t,i,n){i.updateBound=n,De(e).addEventListener("resize",i.updateBound,{passive:!0});e=Z(e);return function e(t,i,n,s){var o="BODY"===t.nodeName,t=o?t.ownerDocument.defaultView:t;t.addEventListener(i,n,{passive:!0}),o||e(Z(t.parentNode),i,n,s),s.push(t)}(e,"scroll",i.updateBound,i.scrollParents),i.scrollElement=e,i.eventsEnabled=!0,i}function Ee(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,De(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Ie(i,n){Object.keys(n).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&Te(n[e])&&(t="px"),i.style[e]=n[e]+t})}var Pe=Y&&/Firefox/i.test(navigator.userAgent);function Ae(e,t,i){var n=we(e,function(e){return e.name===t}),s=!!n&&e.some(function(e){return e.name===i&&e.enabled&&e.order<n.order});return s||(e="`"+t+"`",console.warn("`"+i+"`"+" modifier is required by "+e+" modifier in order to work, be sure to include it before "+e+"!")),s}var h=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Fe=h.slice(3);function Oe(e,t){t=1<arguments.length&&void 0!==t&&t,e=Fe.indexOf(e),e=Fe.slice(e+1).concat(Fe.slice(0,e));return t?e.reverse():e}var Me="flip",Ne="clockwise",Re="counterclockwise";function Le(e,r,l,t){var s=[0,0],n=-1!==["right","left"].indexOf(t),i=e.split(/(\+|\-)/).map(function(e){return e.trim()}),t=i.indexOf(we(i,function(e){return-1!==e.search(/,|\s/)}));i[t]&&-1===i[t].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");e=/\s*,\s*|\s+/;return(-1!==t?[i.slice(0,t).concat([i[t].split(e)[0]]),[i[t].split(e)[1]].concat(i.slice(t+1))]:[i]).map(function(e,t){var a=(1===t?!n:n)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return i=a,n=r,s=l,e=+(o=(t=e).match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1],o=o[2],e?0===o.indexOf("%")?he("%p"===o?n:s)[i]/100*e:"vh"!==o&&"vw"!==o?e:("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*e:t;var t,i,n,s,o})}).forEach(function(i,n){i.forEach(function(e,t){Te(e)&&(s[n]+=e*("-"===i[t-1]?-1:1))})}),s}var He={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,i,n=e.placement,s=n.split("-")[0],o=n.split("-")[1];return o&&(t=(i=e.offsets).reference,n=i.popper,s=(i=-1!==["bottom","top"].indexOf(s))?"width":"height",s={start:ce({},i=i?"left":"top",t[i]),end:ce({},i,t[i]+t[s]-n[s])},e.offsets.popper=de({},n,s[o])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,n=e.placement,s=(o=e.offsets).popper,t=o.reference,o=n.split("-")[0],n=void 0,n=Te(+i)?[+i,0]:Le(i,s,t,o);return"left"===o?(s.top+=n[0],s.left-=n[1]):"right"===o?(s.top+=n[0],s.left+=n[1]):"top"===o?(s.left+=n[0],s.top-=n[1]):"bottom"===o&&(s.left+=n[0],s.top+=n[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,n){var t=n.boundariesElement||ie(e.instance.popper);e.instance.reference===t&&(t=ie(t));var i=Ce("transform"),s=e.instance.popper.style,o=s.top,a=s.left,r=s[i];s.top="",s.left="",s[i]="";var l=ge(e.instance.popper,e.instance.reference,n.padding,t,e.positionFixed);s.top=o,s.left=a,s[i]=r,n.boundaries=l;var r=n.priority,u=e.offsets.popper,c={primary:function(e){var t=u[e];return u[e]<l[e]&&!n.escapeWithReference&&(t=Math.max(u[e],l[e])),ce({},e,t)},secondary:function(e){var t="right"===e?"left":"top",i=u[t];return u[e]>l[e]&&!n.escapeWithReference&&(i=Math.min(u[t],l[e]-("right"===e?u.width:u.height))),ce({},t,i)}};return r.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=de({},u,c[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=(o=e.offsets).popper,i=o.reference,n=e.placement.split("-")[0],s=Math.floor,o=(a=-1!==["top","bottom"].indexOf(n))?"right":"bottom",n=a?"left":"top",a=a?"width":"height";return t[o]<s(i[n])&&(e.offsets.popper[n]=s(i[n])-t[a]),t[n]>s(i[o])&&(e.offsets.popper[n]=s(i[o])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!Ae(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],s=(c=e.offsets).popper,o=c.reference,a=-1!==["left","right"].indexOf(n),r=a?"height":"width",l=a?"Top":"Left",u=l.toLowerCase(),t=a?"left":"top",c=a?"bottom":"right",n=be(i)[r];return o[c]-n<s[u]&&(e.offsets.popper[u]-=s[u]-(o[c]-n)),o[u]+n>s[c]&&(e.offsets.popper[u]+=o[u]+n-s[c]),e.offsets.popper=he(e.offsets.popper),a=o[u]+o[r]/2-n/2,c=X(e.instance.popper),o=parseFloat(c["margin"+l]),l=parseFloat(c["border"+l+"Width"]),l=a-e.offsets.popper[u]-o-l,l=Math.max(Math.min(s[r]-n,l),0),e.arrowElement=i,e.offsets.arrow=(ce(i={},u,Math.round(l)),ce(i,t,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(u,c){if(Se(u.instance.modifiers,"inner"))return u;if(u.flipped&&u.placement===u.originalPlacement)return u;var d=ge(u.instance.popper,u.instance.reference,c.padding,c.boundariesElement,u.positionFixed),h=u.placement.split("-")[0],p=qe(h),f=u.placement.split("-")[1]||"",m=[];switch(c.behavior){case Me:m=[h,p];break;case Ne:m=Oe(h);break;case Re:m=Oe(h,!0);break;default:m=c.behavior}return m.forEach(function(e,t){if(h!==e||m.length===t+1)return u;h=u.placement.split("-")[0],p=qe(h);var i=u.offsets.popper,n=u.offsets.reference,s=Math.floor,o="left"===h&&s(i.right)>s(n.left)||"right"===h&&s(i.left)<s(n.right)||"top"===h&&s(i.bottom)>s(n.top)||"bottom"===h&&s(i.top)<s(n.bottom),a=s(i.left)<s(d.left),r=s(i.right)>s(d.right),l=s(i.top)<s(d.top),e=s(i.bottom)>s(d.bottom),n="left"===h&&a||"right"===h&&r||"top"===h&&l||"bottom"===h&&e,i=-1!==["top","bottom"].indexOf(h),s=!!c.flipVariations&&(i&&"start"===f&&a||i&&"end"===f&&r||!i&&"start"===f&&l||!i&&"end"===f&&e),l=!!c.flipVariationsByContent&&(i&&"start"===f&&r||i&&"end"===f&&a||!i&&"start"===f&&e||!i&&"end"===f&&l),l=s||l;(o||n||l)&&(u.flipped=!0,(o||n)&&(h=m[t+1]),l&&(f="end"===(l=f)?"start":"start"===l?"end":l),u.placement=h+(f?"-"+f:""),u.offsets.popper=de({},u.offsets.popper,ye(u.instance.popper,u.offsets.reference,u.placement)),u=xe(u.instance.modifiers,u,"flip"))}),u},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],n=(a=e.offsets).popper,s=a.reference,o=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return n[o?"left":"top"]=s[i]-(a?n[o?"width":"height"]:0),e.placement=qe(t),e.offsets.popper=he(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Ae(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=we(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,n=t.y,s=e.offsets.popper;void 0!==(f=we(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration)&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o,a,r,l,u=void 0!==f?f:t.gpuAcceleration,c=ie(e.instance.popper),d=pe(c),h={position:s.position},p=(o=e,p=window.devicePixelRatio<2||!Pe,m=(l=o.offsets).popper,a=l.reference,r=Math.round,f=Math.floor,t=function(e){return e},s=r(a.width),l=r(m.width),a=-1!==["left","right"].indexOf(o.placement),o=-1!==o.placement.indexOf("-"),f=p?a||o||s%2==l%2?r:f:t,t=p?r:t,{left:f(s%2==1&&l%2==1&&!o&&p?m.left-1:m.left),top:t(m.top),bottom:t(m.bottom),right:f(m.right)}),t="bottom"===i?"top":"bottom",f="right"===n?"left":"right",m=Ce("transform"),i=void 0,n=void 0,n="bottom"==t?"HTML"===c.nodeName?-c.clientHeight+p.bottom:-d.height+p.bottom:p.top,i="right"==f?"HTML"===c.nodeName?-c.clientWidth+p.right:-d.width+p.right:p.left;return u&&m?(h[m]="translate3d("+i+"px, "+n+"px, 0)",h[t]=0,h[f]=0,h.willChange="transform"):(m="right"==f?-1:1,h[t]=n*("bottom"==t?-1:1),h[f]=i*m,h.willChange=t+", "+f),f={"x-placement":e.placement},e.attributes=de({},f,e.attributes),e.styles=de({},h,e.styles),e.arrowStyles=de({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,i;return Ie(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach(function(e){!1!==i[e]?t.setAttribute(e,i[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ie(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,i,n,s){return s=ve(s,t,e,i.positionFixed),e=_e(i.placement,s,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding),t.setAttribute("x-placement",e),Ie(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},Ue=(t(Be,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=ve(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=_e(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=ye(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=xe(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Se(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ce("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=ke(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return Ee.call(this)}}]),Be);function Be(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Be),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=G(this.update.bind(this)),this.options=de({},Be.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(de({},Be.Defaults.modifiers,n.modifiers)).forEach(function(e){i.options.modifiers[e]=de({},Be.Defaults.modifiers[e]||{},n.modifiers?n.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return de({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&$(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();t=this.options.eventsEnabled;t&&this.enableEventListeners(),this.state.eventsEnabled=t}Ue.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ue.placements=h,Ue.Defaults=He;var ze="dropdown",je="bs.dropdown",We="."+je,t=".data-api",Ye=c.default.fn[ze],Ve=new RegExp("38|40|27"),Ge="hide"+We,$e="hidden"+We,h="click"+We+t,He="keydown"+We+t,Xe="disabled",Ke="show",Ze="dropdown-menu-right",Qe='[data-toggle="dropdown"]',Je=".dropdown-menu",et={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},tt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},it=function(){function u(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=u.prototype;return e.toggle=function(){var e;this._element.disabled||c.default(this._element).hasClass(Xe)||(e=c.default(this._menu).hasClass(Ke),u._clearMenus(),e||this.show(!0))},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||c.default(this._element).hasClass(Xe)||c.default(this._menu).hasClass(Ke))){var t={relatedTarget:this._element},i=c.default.Event("show.bs.dropdown",t),n=u._getParentFromElement(this._element);if(c.default(n).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===Ue)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");e=this._element;"parent"===this._config.reference?e=n:d.isElement(this._config.reference)&&(e=this._config.reference,void 0!==this._config.reference.jquery&&(e=this._config.reference[0])),"scrollParent"!==this._config.boundary&&c.default(n).addClass("position-static"),this._popper=new Ue(e,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===c.default(n).closest(".navbar-nav").length&&c.default(document.body).children().on("mouseover",null,c.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),c.default(this._menu).toggleClass(Ke),c.default(n).toggleClass(Ke).trigger(c.default.Event("shown.bs.dropdown",t))}}},e.hide=function(){var e,t,i;this._element.disabled||c.default(this._element).hasClass(Xe)||!c.default(this._menu).hasClass(Ke)||(e={relatedTarget:this._element},t=c.default.Event(Ge,e),i=u._getParentFromElement(this._element),c.default(i).trigger(t),t.isDefaultPrevented()||(this._popper&&this._popper.destroy(),c.default(this._menu).toggleClass(Ke),c.default(i).toggleClass(Ke).trigger(c.default.Event($e,e))))},e.dispose=function(){c.default.removeData(this._element,je),c.default(this._element).off(We),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;c.default(this._element).on("click.bs.dropdown",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(e){return e=r({},this.constructor.Default,c.default(this._element).data(),e),d.typeCheckConfig(ze,e,this.constructor.DefaultType),e},e._getMenuElement=function(){var e;return this._menu||(e=u._getParentFromElement(this._element))&&(this._menu=e.querySelector(Je)),this._menu},e._getPlacement=function(){var e=c.default(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=c.default(this._menu).hasClass(Ze)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":c.default(this._menu).hasClass(Ze)&&(t="bottom-end"),t},e._detectNavbar=function(){return 0<c.default(this._element).closest(".navbar").length},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),r({},e,this._config.popperConfig)},u._jQueryInterface=function(t){return this.each(function(){var e=c.default(this).data(je);if(e||(e=new u(this,"object"==typeof t?t:null),c.default(this).data(je,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},u._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(Qe)),i=0,n=t.length;i<n;i++){var s,o,a=u._getParentFromElement(t[i]),r=c.default(t[i]).data(je),l={relatedTarget:t[i]};e&&"click"===e.type&&(l.clickEvent=e),r&&(s=r._menu,c.default(a).hasClass(Ke)&&(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&c.default.contains(a,e.target)||(o=c.default.Event(Ge,l),c.default(a).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&c.default(document.body).children().off("mouseover",null,c.default.noop),t[i].setAttribute("aria-expanded","false"),r._popper&&r._popper.destroy(),c.default(s).removeClass(Ke),c.default(a).removeClass(Ke).trigger(c.default.Event($e,l))))))}},u._getParentFromElement=function(e){var t,i=d.getSelectorFromElement(e);return(t=i?document.querySelector(i):t)||e.parentNode},u._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||c.default(e.target).closest(Je).length)):Ve.test(e.which))&&!this.disabled&&!c.default(this).hasClass(Xe)){var t=u._getParentFromElement(this),i=c.default(t).hasClass(Ke);if(i||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!i||27===e.which||32===e.which)return 27===e.which&&c.default(t.querySelector(Qe)).trigger("focus"),void c.default(this).trigger("click");i=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(e){return c.default(e).is(":visible")});0!==i.length&&(t=i.indexOf(e.target),38===e.which&&0<t&&t--,40===e.which&&t<i.length-1&&t++,i[t=t<0?0:t].focus())}}},a(u,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return et}},{key:"DefaultType",get:function(){return tt}}]),u}();c.default(document).on(He,Qe,it._dataApiKeydownHandler).on(He,Je,it._dataApiKeydownHandler).on(h+" keyup.bs.dropdown.data-api",it._clearMenus).on(h,Qe,function(e){e.preventDefault(),e.stopPropagation(),it._jQueryInterface.call(c.default(this),"toggle")}).on(h,".dropdown form",function(e){e.stopPropagation()}),c.default.fn[ze]=it._jQueryInterface,c.default.fn[ze].Constructor=it,c.default.fn[ze].noConflict=function(){return c.default.fn[ze]=Ye,it._jQueryInterface};var nt="modal",st="bs.modal",ot="."+st,at=c.default.fn[nt],rt={backdrop:!0,keyboard:!0,focus:!0,show:!0},lt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ut="hidden"+ot,ct="show"+ot,dt="focusin"+ot,ht="resize"+ot,pt="click.dismiss"+ot,ft="keydown.dismiss"+ot,mt="mousedown.dismiss"+ot,gt="modal-open",_t="fade",vt="show",bt="modal-static",qt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yt=".sticky-top",wt=function(){function s(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=s.prototype;return e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e.show=function(e){var t,i=this;this._isShown||this._isTransitioning||(c.default(this._element).hasClass(_t)&&(this._isTransitioning=!0),t=c.default.Event(ct,{relatedTarget:e}),c.default(this._element).trigger(t),this._isShown||t.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),c.default(this._element).on(pt,'[data-dismiss="modal"]',function(e){return i.hide(e)}),c.default(this._dialog).on(mt,function(){c.default(i._element).one("mouseup.dismiss.bs.modal",function(e){c.default(e.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(e)})))},e.hide=function(e){var t=this;e&&e.preventDefault(),this._isShown&&!this._isTransitioning&&(e=c.default.Event("hide.bs.modal"),c.default(this._element).trigger(e),this._isShown&&!e.isDefaultPrevented()&&(this._isShown=!1,(e=c.default(this._element).hasClass(_t))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),c.default(document).off(dt),c.default(this._element).removeClass(vt),c.default(this._element).off(pt),c.default(this._dialog).off(mt),e?(e=d.getTransitionDurationFromElement(this._element),c.default(this._element).one(d.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(e)):this._hideModal()))},e.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return c.default(e).off(ot)}),c.default(document).off(dt),c.default.removeData(this._element,st),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(e){return e=r({},rt,e),d.typeCheckConfig(nt,e,lt),e},e._triggerBackdropTransition=function(){var e,t,i=this,n=c.default.Event("hidePrevented.bs.modal");c.default(this._element).trigger(n),n.isDefaultPrevented()||((e=this._element.scrollHeight>document.documentElement.clientHeight)||(this._element.style.overflowY="hidden"),this._element.classList.add(bt),t=d.getTransitionDurationFromElement(this._dialog),c.default(this._element).off(d.TRANSITION_END),c.default(this._element).one(d.TRANSITION_END,function(){i._element.classList.remove(bt),e||c.default(i._element).one(d.TRANSITION_END,function(){i._element.style.overflowY=""}).emulateTransitionEnd(i._element,t)}).emulateTransitionEnd(t),this._element.focus())},e._showElement=function(e){var t=this,i=c.default(this._element).hasClass(_t),n=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),c.default(this._dialog).hasClass("modal-dialog-scrollable")&&n?n.scrollTop=0:this._element.scrollTop=0,i&&d.reflow(this._element),c.default(this._element).addClass(vt),this._config.focus&&this._enforceFocus();var s=c.default.Event("shown.bs.modal",{relatedTarget:e}),e=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,c.default(t._element).trigger(s)};i?(i=d.getTransitionDurationFromElement(this._dialog),c.default(this._dialog).one(d.TRANSITION_END,e).emulateTransitionEnd(i)):e()},e._enforceFocus=function(){var t=this;c.default(document).off(dt).on(dt,function(e){document!==e.target&&t._element!==e.target&&0===c.default(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown?c.default(this._element).on(ft,function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()}):this._isShown||c.default(this._element).off(ft)},e._setResizeEvent=function(){var t=this;this._isShown?c.default(window).on(ht,function(e){return t.handleUpdate(e)}):c.default(window).off(ht)},e._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){c.default(document.body).removeClass(gt),e._resetAdjustments(),e._resetScrollbar(),c.default(e._element).trigger(ut)})},e._removeBackdrop=function(){this._backdrop&&(c.default(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(e){var t,i=this,n=c.default(this._element).hasClass(_t)?_t:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),c.default(this._backdrop).appendTo(document.body),c.default(this._element).on(pt,function(e){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===i._config.backdrop?i._triggerBackdropTransition():i.hide())}),n&&d.reflow(this._backdrop),c.default(this._backdrop).addClass(vt),e&&(n?(t=d.getTransitionDurationFromElement(this._backdrop),c.default(this._backdrop).one(d.TRANSITION_END,e).emulateTransitionEnd(t)):e())):!this._isShown&&this._backdrop?(c.default(this._backdrop).removeClass(vt),n=function(){i._removeBackdrop(),e&&e()},c.default(this._element).hasClass(_t)?(t=d.getTransitionDurationFromElement(this._backdrop),c.default(this._backdrop).one(d.TRANSITION_END,n).emulateTransitionEnd(t)):n()):e&&e()},e._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var e,t,s=this;this._isBodyOverflowing&&(e=[].slice.call(document.querySelectorAll(qt)),t=[].slice.call(document.querySelectorAll(yt)),c.default(e).each(function(e,t){var i=t.style.paddingRight,n=c.default(t).css("padding-right");c.default(t).data("padding-right",i).css("padding-right",parseFloat(n)+s._scrollbarWidth+"px")}),c.default(t).each(function(e,t){var i=t.style.marginRight,n=c.default(t).css("margin-right");c.default(t).data("margin-right",i).css("margin-right",parseFloat(n)-s._scrollbarWidth+"px")}),e=document.body.style.paddingRight,t=c.default(document.body).css("padding-right"),c.default(document.body).data("padding-right",e).css("padding-right",parseFloat(t)+this._scrollbarWidth+"px")),c.default(document.body).addClass(gt)},e._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(qt));c.default(e).each(function(e,t){var i=c.default(t).data("padding-right");c.default(t).removeData("padding-right"),t.style.paddingRight=i||""});e=[].slice.call(document.querySelectorAll(yt));c.default(e).each(function(e,t){var i=c.default(t).data("margin-right");void 0!==i&&c.default(t).css("margin-right",i).removeData("margin-right")});e=c.default(document.body).data("padding-right");c.default(document.body).removeData("padding-right"),document.body.style.paddingRight=e||""},e._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},s._jQueryInterface=function(i,n){return this.each(function(){var e=c.default(this).data(st),t=r({},rt,c.default(this).data(),"object"==typeof i&&i?i:{});if(e||(e=new s(this,t),c.default(this).data(st,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i](n)}else t.show&&e.show(n)})},a(s,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return rt}}]),s}();c.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t,i=this,n=d.getSelectorFromElement(this);n&&(t=document.querySelector(n));n=c.default(t).data(st)?"toggle":r({},c.default(t).data(),c.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=c.default(t).one(ct,function(e){e.isDefaultPrevented()||s.one(ut,function(){c.default(i).is(":visible")&&i.focus()})});wt._jQueryInterface.call(c.default(t),n,this)}),c.default.fn[nt]=wt._jQueryInterface,c.default.fn[nt].Constructor=wt,c.default.fn[nt].noConflict=function(){return c.default.fn[nt]=at,wt._jQueryInterface};var xt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],h={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},St=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Ct=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Dt(e,o,t){if(0===e.length)return e;if(t&&"function"==typeof t)return t(e);for(var e=(new window.DOMParser).parseFromString(e,"text/html"),a=Object.keys(o),r=[].slice.call(e.body.querySelectorAll("*")),i=function(e,t){var i=r[e],n=i.nodeName.toLowerCase();if(-1===a.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var e=[].slice.call(i.attributes),s=[].concat(o["*"]||[],o[n]||[]);e.forEach(function(e){!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==t.indexOf(i))return-1===xt.indexOf(i)||Boolean(e.nodeValue.match(St)||e.nodeValue.match(Ct));for(var n=t.filter(function(e){return e instanceof RegExp}),s=0,o=n.length;s<o;s++)if(i.match(n[s]))return 1}(e,s)&&i.removeAttribute(e.nodeName)})},n=0,s=r.length;n<s;n++)i(n);return e.body.innerHTML}var kt="tooltip",Et="bs.tooltip",Tt="."+Et,It=c.default.fn[kt],Pt="bs-tooltip",At=new RegExp("(^|\\s)"+Pt+"\\S+","g"),Ft=["sanitize","whiteList","sanitizeFn"],Ot={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Mt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Nt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:h,popperConfig:null},Rt="show",Lt={HIDE:"hide"+Tt,HIDDEN:"hidden"+Tt,SHOW:"show"+Tt,SHOWN:"shown"+Tt,INSERTED:"inserted"+Tt,CLICK:"click"+Tt,FOCUSIN:"focusin"+Tt,FOCUSOUT:"focusout"+Tt,MOUSEENTER:"mouseenter"+Tt,MOUSELEAVE:"mouseleave"+Tt},Ht="fade",Ut="show",Bt="hover",zt=function(){function s(e,t){if(void 0===Ue)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var e=s.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(e){var t,i;this._isEnabled&&(e?(t=this.constructor.DATA_KEY,(i=c.default(e.currentTarget).data(t))||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),c.default(e.currentTarget).data(t,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)):c.default(this.getTipElement()).hasClass(Ut)?this._leave(null,this):this._enter(null,this))},e.dispose=function(){clearTimeout(this._timeout),c.default.removeData(this.element,this.constructor.DATA_KEY),c.default(this.element).off(this.constructor.EVENT_KEY),c.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&c.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===c.default(this.element).css("display"))throw new Error("Please use show on visible elements");var e,i,n=c.default.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(c.default(this.element).trigger(n),i=d.findShadowRoot(this.element),e=c.default.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element),!n.isDefaultPrevented()&&e&&(i=this.getTipElement(),n=d.getUID(this.constructor.NAME),i.setAttribute("id",n),this.element.setAttribute("aria-describedby",n),this.setContent(),this.config.animation&&c.default(i).addClass(Ht),e="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,n=this._getAttachment(e),this.addAttachmentClass(n),e=this._getContainer(),c.default(i).data(this.constructor.DATA_KEY,this),c.default.contains(this.element.ownerDocument.documentElement,this.tip)||c.default(i).appendTo(e),c.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Ue(this.element,i,this._getPopperConfig(n)),c.default(i).addClass(Ut),c.default(i).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&c.default(document.body).children().on("mouseover",null,c.default.noop),n=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,c.default(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)},c.default(this.tip).hasClass(Ht)?(i=d.getTransitionDurationFromElement(this.tip),c.default(this.tip).one(d.TRANSITION_END,n).emulateTransitionEnd(i)):n()))},e.hide=function(e){function t(){i._hoverState!==Rt&&n.parentNode&&n.parentNode.removeChild(n),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),c.default(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),e&&e()}var i=this,n=this.getTipElement(),s=c.default.Event(this.constructor.Event.HIDE);c.default(this.element).trigger(s),s.isDefaultPrevented()||(c.default(n).removeClass(Ut),"ontouchstart"in document.documentElement&&c.default(document.body).children().off("mouseover",null,c.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger[Bt]=!1,c.default(this.tip).hasClass(Ht)?(s=d.getTransitionDurationFromElement(n),c.default(n).one(d.TRANSITION_END,t).emulateTransitionEnd(s)):t(),this._hoverState="")},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(e){c.default(this.getTipElement()).addClass(Pt+"-"+e)},e.getTipElement=function(){return this.tip=this.tip||c.default(this.config.template)[0],this.tip},e.setContent=function(){var e=this.getTipElement();this.setElementContent(c.default(e.querySelectorAll(".tooltip-inner")),this.getTitle()),c.default(e).removeClass("fade show")},e.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Dt(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?c.default(t).parent().is(e)||e.empty().append(t):e.text(c.default(t).text())},e.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},e._getPopperConfig=function(e){var t=this;return r({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:d.isElement(this.config.container)?c.default(this.config.container):c.default(document).find(this.config.container)},e._getAttachment=function(e){return Mt[e.toUpperCase()]},e._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(e){var t;"click"===e?c.default(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(e){return i.toggle(e)}):"manual"!==e&&(t=e===Bt?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,e=e===Bt?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT,c.default(i.element).on(t,i.config.selector,function(e){return i._enter(e)}).on(e,i.config.selector,function(e){return i._leave(e)}))}),this._hideModalHandler=function(){i.element&&i.hide()},c.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==e||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(e,t){var i=this.constructor.DATA_KEY;(t=t||c.default(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),c.default(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusin"===e.type?"focus":Bt]=!0),c.default(t.getTipElement()).hasClass(Ut)||t._hoverState===Rt?t._hoverState=Rt:(clearTimeout(t._timeout),t._hoverState=Rt,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===Rt&&t.show()},t.config.delay.show):t.show())},e._leave=function(e,t){var i=this.constructor.DATA_KEY;(t=t||c.default(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),c.default(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusout"===e.type?"focus":Bt]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},e._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},e._getConfig=function(e){var t=c.default(this.element).data();return Object.keys(t).forEach(function(e){-1!==Ft.indexOf(e)&&delete t[e]}),"number"==typeof(e=r({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),d.typeCheckConfig(kt,e,this.constructor.DefaultType),e.sanitize&&(e.template=Dt(e.template,e.whiteList,e.sanitizeFn)),e},e._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},e._cleanTipClass=function(){var e=c.default(this.getTipElement()),t=e.attr("class").match(At);null!==t&&t.length&&e.removeClass(t.join(""))},e._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},e._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(c.default(e).removeClass(Ht),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},s._jQueryInterface=function(n){return this.each(function(){var e=c.default(this),t=e.data(Et),i="object"==typeof n&&n;if((t||!/dispose|hide/.test(n))&&(t||(t=new s(this,i),e.data(Et,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(s,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Nt}},{key:"NAME",get:function(){return kt}},{key:"DATA_KEY",get:function(){return Et}},{key:"Event",get:function(){return Lt}},{key:"EVENT_KEY",get:function(){return Tt}},{key:"DefaultType",get:function(){return Ot}}]),s}();c.default.fn[kt]=zt._jQueryInterface,c.default.fn[kt].Constructor=zt,c.default.fn[kt].noConflict=function(){return c.default.fn[kt]=It,zt._jQueryInterface};var jt="popover",Wt="bs.popover",Yt="."+Wt,Vt=c.default.fn[jt],Gt="bs-popover",$t=new RegExp("(^|\\s)"+Gt+"\\S+","g"),Xt=r({},zt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Kt=r({},zt.DefaultType,{content:"(string|element|function)"}),Zt={HIDE:"hide"+Yt,HIDDEN:"hidden"+Yt,SHOW:"show"+Yt,SHOWN:"shown"+Yt,INSERTED:"inserted"+Yt,CLICK:"click"+Yt,FOCUSIN:"focusin"+Yt,FOCUSOUT:"focusout"+Yt,MOUSEENTER:"mouseenter"+Yt,MOUSELEAVE:"mouseleave"+Yt},Qt=function(e){var t;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),(t.prototype.constructor=t).__proto__=i;var i=n.prototype;return i.isWithContent=function(){return this.getTitle()||this._getContent()},i.addAttachmentClass=function(e){c.default(this.getTipElement()).addClass(Gt+"-"+e)},i.getTipElement=function(){return this.tip=this.tip||c.default(this.config.template)[0],this.tip},i.setContent=function(){var e=c.default(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},i._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},i._cleanTipClass=function(){var e=c.default(this.getTipElement()),t=e.attr("class").match($t);null!==t&&0<t.length&&e.removeClass(t.join(""))},n._jQueryInterface=function(i){return this.each(function(){var e=c.default(this).data(Wt),t="object"==typeof i?i:null;if((e||!/dispose|hide/.test(i))&&(e||(e=new n(this,t),c.default(this).data(Wt,e)),"string"==typeof i)){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},a(n,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Xt}},{key:"NAME",get:function(){return jt}},{key:"DATA_KEY",get:function(){return Wt}},{key:"Event",get:function(){return Zt}},{key:"EVENT_KEY",get:function(){return Yt}},{key:"DefaultType",get:function(){return Kt}}]),n}(zt);c.default.fn[jt]=Qt._jQueryInterface,c.default.fn[jt].Constructor=Qt,c.default.fn[jt].noConflict=function(){return c.default.fn[jt]=Vt,Qt._jQueryInterface};var Jt="scrollspy",ei="bs.scrollspy",ti="."+ei,ii=c.default.fn[Jt],ni={offset:10,method:"auto",target:""},si={offset:"number",method:"string",target:"(string|element)"},oi="active",ai=".nav, .list-group",ri=".nav-link",li=".list-group-item",ui=function(){function i(e,t){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+ri+","+this._config.target+" "+li+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,c.default(this._scrollElement).on("scroll.bs.scrollspy",function(e){return i._process(e)}),this.refresh(),this._process()}var e=i.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",n="auto"===this._config.method?e:this._config.method,s="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var t,i=d.getSelectorFromElement(e);if(t=i?document.querySelector(i):t){e=t.getBoundingClientRect();if(e.width||e.height)return[c.default(t)[n]().top+s,i]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){c.default.removeData(this._element,ei),c.default(this._scrollElement).off(ti),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(e){var t;return"string"!=typeof(e=r({},ni,"object"==typeof e&&e?e:{})).target&&d.isElement(e.target)&&((t=c.default(e.target).attr("id"))||(t=d.getUID(Jt),c.default(e.target).attr("id",t)),e.target="#"+t),d.typeCheckConfig(Jt,e,si),e},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),i<=e){i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&e>=this._offsets[n]&&(void 0===this._offsets[n+1]||e<this._offsets[n+1])&&this._activate(this._targets[n])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),e=c.default([].slice.call(document.querySelectorAll(e.join(","))));e.hasClass("dropdown-item")?(e.closest(".dropdown").find(".dropdown-toggle").addClass(oi),e.addClass(oi)):(e.addClass(oi),e.parents(ai).prev(ri+", "+li).addClass(oi),e.parents(ai).prev(".nav-item").children(ri).addClass(oi)),c.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains(oi)}).forEach(function(e){return e.classList.remove(oi)})},i._jQueryInterface=function(t){return this.each(function(){var e=c.default(this).data(ei);if(e||(e=new i(this,"object"==typeof t&&t),c.default(this).data(ei,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return ni}}]),i}();c.default(window).on("load.bs.scrollspy.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var i=c.default(e[t]);ui._jQueryInterface.call(i,i.data())}}),c.default.fn[Jt]=ui._jQueryInterface,c.default.fn[Jt].Constructor=ui,c.default.fn[Jt].noConflict=function(){return c.default.fn[Jt]=ii,ui._jQueryInterface};var ci="bs.tab",h="."+ci,di=c.default.fn.tab,hi="active",pi="> li > .active",fi=function(){function n(e){this._element=e}var e=n.prototype;return e.show=function(){var e,t,i,n,s,o,a=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&c.default(this._element).hasClass(hi)||c.default(this._element).hasClass("disabled")||(o=c.default(this._element).closest(".nav, .list-group")[0],t=d.getSelectorFromElement(this._element),o&&(s="UL"===o.nodeName||"OL"===o.nodeName?pi:".active",i=(i=c.default.makeArray(c.default(o).find(s)))[i.length-1]),n=c.default.Event("hide.bs.tab",{relatedTarget:this._element}),s=c.default.Event("show.bs.tab",{relatedTarget:i}),i&&c.default(i).trigger(n),c.default(this._element).trigger(s),s.isDefaultPrevented()||n.isDefaultPrevented()||(t&&(e=document.querySelector(t)),this._activate(this._element,o),o=function(){var e=c.default.Event("hidden.bs.tab",{relatedTarget:a._element}),t=c.default.Event("shown.bs.tab",{relatedTarget:i});c.default(i).trigger(e),c.default(a._element).trigger(t)},e?this._activate(e,e.parentNode,o):o()))},e.dispose=function(){c.default.removeData(this._element,ci),this._element=null},e._activate=function(e,t,i){var n=this,s=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?c.default(t).children(".active"):c.default(t).find(pi))[0],o=i&&s&&c.default(s).hasClass("fade"),t=function(){return n._transitionComplete(e,s,i)};s&&o?(o=d.getTransitionDurationFromElement(s),c.default(s).removeClass("show").one(d.TRANSITION_END,t).emulateTransitionEnd(o)):t()},e._transitionComplete=function(e,t,i){var n;t&&(c.default(t).removeClass(hi),(n=c.default(t.parentNode).find("> .dropdown-menu .active")[0])&&c.default(n).removeClass(hi),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)),c.default(e).addClass(hi),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),d.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&c.default(e.parentNode).hasClass("dropdown-menu")&&((t=c.default(e).closest(".dropdown")[0])&&(t=[].slice.call(t.querySelectorAll(".dropdown-toggle")),c.default(t).addClass(hi)),e.setAttribute("aria-expanded",!0)),i&&i()},n._jQueryInterface=function(i){return this.each(function(){var e=c.default(this),t=e.data(ci);if(t||(t=new n(this),e.data(ci,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},a(n,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),n}();c.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),fi._jQueryInterface.call(c.default(this),"show")}),c.default.fn.tab=fi._jQueryInterface,c.default.fn.tab.Constructor=fi,c.default.fn.tab.noConflict=function(){return c.default.fn.tab=di,fi._jQueryInterface};var mi="toast",gi="bs.toast",h="."+gi,_i=c.default.fn[mi],vi="click.dismiss"+h,bi="show",qi={animation:"boolean",autohide:"boolean",delay:"number"},yi={animation:!0,autohide:!0,delay:500},wi=function(){function n(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var e=n.prototype;return e.show=function(){var e,t=this,i=c.default.Event("show.bs.toast");c.default(this._element).trigger(i),i.isDefaultPrevented()||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),e=function(){t._element.classList.remove("showing"),t._element.classList.add(bi),c.default(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout(function(){t.hide()},t._config.delay))},this._element.classList.remove("hide"),d.reflow(this._element),this._element.classList.add("showing"),this._config.animation?(i=d.getTransitionDurationFromElement(this._element),c.default(this._element).one(d.TRANSITION_END,e).emulateTransitionEnd(i)):e())},e.hide=function(){var e;this._element.classList.contains(bi)&&(e=c.default.Event("hide.bs.toast"),c.default(this._element).trigger(e),e.isDefaultPrevented()||this._close())},e.dispose=function(){this._clearTimeout(),this._element.classList.contains(bi)&&this._element.classList.remove(bi),c.default(this._element).off(vi),c.default.removeData(this._element,gi),this._element=null,this._config=null},e._getConfig=function(e){return e=r({},yi,c.default(this._element).data(),"object"==typeof e&&e?e:{}),d.typeCheckConfig(mi,e,this.constructor.DefaultType),e},e._setListeners=function(){var e=this;c.default(this._element).on(vi,'[data-dismiss="toast"]',function(){return e.hide()})},e._close=function(){function e(){i._element.classList.add("hide"),c.default(i._element).trigger("hidden.bs.toast")}var t,i=this;this._element.classList.remove(bi),this._config.animation?(t=d.getTransitionDurationFromElement(this._element),c.default(this._element).one(d.TRANSITION_END,e).emulateTransitionEnd(t)):e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},n._jQueryInterface=function(i){return this.each(function(){var e=c.default(this),t=e.data(gi);if(t||(t=new n(this,"object"==typeof i&&i),e.data(gi,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i](this)}})},a(n,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return qi}},{key:"Default",get:function(){return yi}}]),n}();c.default.fn[mi]=wi._jQueryInterface,c.default.fn[mi].Constructor=wi,c.default.fn[mi].noConflict=function(){return c.default.fn[mi]=_i,wi._jQueryInterface},e.Alert=f,e.Button=q,e.Carousel=F,e.Collapse=W,e.Dropdown=it,e.Modal=wt,e.Popover=Qt,e.Scrollspy=ui,e.Tab=fi,e.Toast=wi,e.Tooltip=zt,e.Util=d,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(q){"use strict";var c=["sanitize","whiteList","sanitizeFn"],g=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],e={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,v=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function T(e,t,i){if(i&&"function"==typeof i)return i(e);for(var n=Object.keys(t),s=0,o=e.length;s<o;s++)for(var a=e[s].querySelectorAll("*"),r=0,l=a.length;r<l;r++){var u=a[r],c=u.nodeName.toLowerCase();if(-1!==n.indexOf(c))for(var d=[].slice.call(u.attributes),h=[].concat(t["*"]||[],t[c]||[]),p=0,f=d.length;p<f;p++){var m=d[p];!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==q.inArray(i,t))return-1===q.inArray(i,g)||Boolean(e.nodeValue.match(_)||e.nodeValue.match(v));for(var n=q(t).filter(function(e,t){return t instanceof RegExp}),s=0,o=n.length;s<o;s++)if(i.match(n[s]))return 1}(m,h)&&u.removeAttribute(m.nodeName)}else u.parentNode.removeChild(u)}}"classList"in document.createElement("_")||function(t){if("Element"in t){var i="classList",n=t.Element.prototype,s=Object,e=function(){var i=q(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(s.defineProperty){t={get:e,enumerable:!0,configurable:!0};try{s.defineProperty(n,i,t)}catch(e){void 0!==e.number&&-2146823252!==e.number||(t.enumerable=!1,s.defineProperty(n,i,t))}}else s.prototype.__defineGetter__&&n.__defineGetter__(i,e)}}(window);var t,i,n,r,s=document.createElement("_");function o(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==r.call(e))throw new TypeError;var i=t.length,n=String(e),s=n.length,e=1<arguments.length?arguments[1]:void 0,e=e?Number(e):0;e!=e&&(e=0);var o=Math.min(Math.max(e,0),i);if(i<s+o)return!1;for(var a=-1;++a<s;)if(t.charCodeAt(o+a)!=n.charCodeAt(a))return!1;return!0}function y(e,t){var i,n=e.selectedOptions,s=[];if(t){for(var o=0,a=n.length;o<a;o++)(i=n[o]).disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||s.push(i);return s}return n}function w(e,t){for(var i,n=[],s=t||e.selectedOptions,o=0,a=s.length;o<a;o++)(i=s[o]).disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||n.push(i.value);return e.multiple?n:n.length?n[0]:null}s.classList.add("c1","c2"),s.classList.contains("c2")||(t=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,i.bind(this))}),s.classList.toggle("c3",!1),s.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}),s=null,String.prototype.startsWith||(s=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),r={}.toString,s?s(String.prototype,"startsWith",{value:o,configurable:!0,writable:!0}):String.prototype.startsWith=o),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var a={useDefault:!1,_set:q.valHooks.select.set};q.valHooks.select.set=function(e,t){return t&&!a.useDefault&&q(e).data("selected",!0),a._set.apply(this,arguments)};var x=null,l=function(){try{return new Event("change"),!0}catch(e){return!1}}();function b(e,t,i,n){for(var s=["display","subtext","tokens"],o=!1,a=0;a<s.length;a++){var r=s[a],l=e[r];if(l&&(l=l.toString(),"display"===r&&(l=l.replace(/<[^>]+>/g,"")),l=(l=n?f(l):l).toUpperCase(),o="contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return o}function m(e){return parseInt(e,10)||0}q.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(l?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var u={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},d=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function p(e){return u[e]}function f(e){return(e=e.toString())&&e.replace(d,p).replace(h,"")}var S,C,D,k,E=(S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C="(?:"+Object.keys(S).join("|")+")",D=RegExp(C),k=RegExp(C,"g"),function(e){return D.test(e=null==e?"":""+e)?e.replace(k,I):e});function I(e){return S[e]}var P={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},A=27,F=13,O=32,M=9,N=38,R=40,L={success:!1,major:"3"};try{L.full=(q.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),L.major=L.full[0],L.success=!0}catch(e){}var H=0,U=".bs.select",B={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},z={MENU:"."+B.MENU},j={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("Â "),fragment:document.createDocumentFragment()};j.a.setAttribute("role","option"),"4"===L.major&&(j.a.className="dropdown-item"),j.subtext.className="text-muted",j.text=j.span.cloneNode(!1),j.text.className="text",j.checkMark=j.span.cloneNode(!1);function W(e,t){var i=this;a.useDefault||(q.valHooks.select.set=a._set,a.useDefault=!0),this.$element=q(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},null===this.options.title&&(this.options.title=this.$element.attr("title")),"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=W.prototype.val,this.render=W.prototype.render,this.refresh=W.prototype.refresh,this.setStyle=W.prototype.setStyle,this.selectAll=W.prototype.selectAll,this.deselectAll=W.prototype.deselectAll,this.destroy=W.prototype.destroy,this.remove=W.prototype.remove,this.show=W.prototype.show,this.hide=W.prototype.hide,this.init()}var Y=new RegExp(N+"|"+R),V=new RegExp("^"+M+"$|"+A),G={li:function(e,t,i){var n=j.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),void 0!==t&&""!==t&&(n.className=t),null!=i&&n.classList.add("optgroup-"+i),n},a:function(e,t,i){var n=j.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&n.classList.add.apply(n.classList,t.split(" ")),i&&n.setAttribute("style",i),n},text:function(e,t){var i,n,s=j.text.cloneNode(!1);if(e.content?s.innerHTML=e.content:(s.textContent=e.text,e.icon&&(i=j.whitespace.cloneNode(!1),(n=(!0===t?j.i:j.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,j.fragment.appendChild(n),j.fragment.appendChild(i)),e.subtext&&((i=j.subtext.cloneNode(!1)).innerHTML=e.subtext,s.appendChild(i))),!0===t)for(;0<s.childNodes.length;)j.fragment.appendChild(s.childNodes[0]);else j.fragment.appendChild(s);return j.fragment},label:function(e){var t,i,n=j.text.cloneNode(!1);return n.innerHTML=e.display,e.icon&&(t=j.whitespace.cloneNode(!1),(i=j.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,j.fragment.appendChild(i),j.fragment.appendChild(t)),e.subtext&&((t=j.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(t)),j.fragment.appendChild(n),j.fragment}};function $(e){var r,l=arguments,u=e;if([].shift.apply(l),!L.success){try{L.full=(q.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){W.BootstrapVersion?L.full=W.BootstrapVersion.split(" ")[0].split("."):(L.full=[L.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}L.major=L.full[0],L.success=!0}if("4"===L.major){var t=[];W.DEFAULTS.style===B.BUTTONCLASS&&t.push({name:"style",className:"BUTTONCLASS"}),W.DEFAULTS.iconBase===B.ICONBASE&&t.push({name:"iconBase",className:"ICONBASE"}),W.DEFAULTS.tickIcon===B.TICKICON&&t.push({name:"tickIcon",className:"TICKICON"}),B.DIVIDER="dropdown-divider",B.SHOW="show",B.BUTTONCLASS="btn-light",B.POPOVERHEADER="popover-header",B.ICONBASE="",B.TICKICON="bs-ok-default";for(var i=0;i<t.length;i++){e=t[i];W.DEFAULTS[e.name]=B[e.className]}}var n=this.each(function(){var e=q(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof u&&u;if(t){if(i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t.options[n]=i[n])}else{var s,o=e.data();for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&-1!==q.inArray(s,c)&&delete o[s];var a=q.extend({},W.DEFAULTS,q.fn.selectpicker.defaults||{},o,i);a.template=q.extend({},W.DEFAULTS.template,q.fn.selectpicker.defaults?q.fn.selectpicker.defaults.template:{},o.template,i.template),e.data("selectpicker",t=new W(this,a))}"string"==typeof u&&(r=t[u]instanceof Function?t[u].apply(t,l):t.options[u])}});return void 0!==r?r:n}W.VERSION="1.13.14",W.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:B.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:B.ICONBASE,tickIcon:B.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:e},W.prototype={constructor:W,init:function(){var i=this,e=this.$element.attr("id");H++,this.selectId="bs-select-"+H,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$element[0].classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(z.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(B.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+U,function(){var e,t;i.isVirtual()&&(t=(e=i.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(t,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$element.trigger("hide"+U,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+U,e)},"show.bs.dropdown":function(e){i.$element.trigger("show"+U,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+U,e)}}),i.$element[0].hasAttribute("required")&&this.$element.on("invalid"+U,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+U+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+U+".invalid")}).on("rendered"+U,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+U)}),i.$button.on("blur"+U,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+U)})}),setTimeout(function(){i.buildList(),i.$element.trigger("loaded"+U)})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.multiple?' aria-multiselectable="true"':"",i="",n=this.autofocus?" autofocus":"";L.major<4&&this.$element.parent().hasClass("input-group")&&(i=" input-group-btn");var s="",o="",a="",r="";return this.options.header&&(s='<div class="'+B.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(o='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+E(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+B.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+B.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(r='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+B.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),r='<div class="dropdown bootstrap-select'+e+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+n+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===L.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+B.MENU+" "+("4"===L.major?"":B.SHOW)+'">'+s+o+a+'<div class="inner '+B.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+t+'><ul class="'+B.MENU+" inner "+("4"===L.major?B.SHOW:"")+'" role="presentation"></ul></div>'+r+"</div></div>",q(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=this.selectpicker.view.size=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(S,e,t){var C,D,k=this,i=0,E=[];function n(e,t){var i,n,s,o,a=k.selectpicker.current.elements.length,r=[],l=!0,u=k.isVirtual();k.selectpicker.view.scrollTop=e;for(var c,d=Math.ceil(k.sizeInfo.menuInnerHeight/k.sizeInfo.liHeight*1.5),h=Math.round(a/d)||1,p=0;p<h;p++){var f=p===h-1?a:(p+1)*d;if(r[p]=[p*d+(p?1:0),f],!a)break;void 0===s&&e-1<=k.selectpicker.current.data[f-1].position-k.sizeInfo.menuInnerHeight&&(s=p)}if(void 0===s&&(s=0),o=[k.selectpicker.view.position0,k.selectpicker.view.position1],i=Math.max(0,s-1),n=Math.min(h-1,s+1),k.selectpicker.view.position0=!1!==u&&Math.max(0,r[i][0])||0,k.selectpicker.view.position1=!1===u?a:Math.min(a,r[n][1])||0,o=o[0]!==k.selectpicker.view.position0||o[1]!==k.selectpicker.view.position1,void 0!==k.activeIndex&&(D=k.selectpicker.main.elements[k.prevActiveIndex],E=k.selectpicker.main.elements[k.activeIndex],C=k.selectpicker.main.elements[k.selectedIndex],t&&(k.activeIndex!==k.selectedIndex&&k.defocusItem(E),k.activeIndex=void 0),k.activeIndex&&k.activeIndex!==k.selectedIndex&&k.defocusItem(C)),void 0!==k.prevActiveIndex&&k.prevActiveIndex!==k.activeIndex&&k.prevActiveIndex!==k.selectedIndex&&k.defocusItem(D),(t||o)&&(o=k.selectpicker.view.visibleElements?k.selectpicker.view.visibleElements.slice():[],k.selectpicker.view.visibleElements=!1===u?k.selectpicker.current.elements:k.selectpicker.current.elements.slice(k.selectpicker.view.position0,k.selectpicker.view.position1),k.setOptionStatus(),(S||!1===u&&t)&&(_=o,c=k.selectpicker.view.visibleElements,l=!(_.length===c.length&&_.every(function(e,t){return e===c[t]}))),(t||!0===u)&&l)){var m=k.$menuInner[0],g=document.createDocumentFragment(),_=m.firstChild.cloneNode(!1),v=k.selectpicker.view.visibleElements,b=[];m.replaceChild(_,m.firstChild);for(var p=0,q=v.length;p<q;p++){var y,w,x=v[p];k.options.sanitize&&(y=x.lastChild)&&(w=k.selectpicker.current.data[p+k.selectpicker.view.position0])&&w.content&&!w.sanitized&&(b.push(y),w.sanitized=!0),g.appendChild(x)}k.options.sanitize&&b.length&&T(b,k.options.whiteList,k.options.sanitizeFn),!0===u?(l=0===k.selectpicker.view.position0?0:k.selectpicker.current.data[k.selectpicker.view.position0-1].position,_=k.selectpicker.view.position1>a-1?0:k.selectpicker.current.data[a-1].position-k.selectpicker.current.data[k.selectpicker.view.position1-1].position,m.firstChild.style.marginTop=l+"px",m.firstChild.style.marginBottom=_+"px"):(m.firstChild.style.marginTop=0,m.firstChild.style.marginBottom=0),m.firstChild.appendChild(g),!0===u&&k.sizeInfo.hasScrollBar&&(u=m.firstChild.offsetWidth,t&&u<k.sizeInfo.menuInnerInnerWidth&&k.sizeInfo.totalMenuWidth>k.sizeInfo.selectWidth?m.firstChild.style.minWidth=k.sizeInfo.menuInnerInnerWidth+"px":u>k.sizeInfo.menuInnerInnerWidth&&(k.$menu[0].style.minWidth=0,(u=m.firstChild.offsetWidth)>k.sizeInfo.menuInnerInnerWidth&&(k.sizeInfo.menuInnerInnerWidth=u,m.firstChild.style.minWidth=k.sizeInfo.menuInnerInnerWidth+"px"),k.$menu[0].style.minWidth=""))}k.prevActiveIndex=k.activeIndex,k.options.liveSearch?S&&t&&(k.selectpicker.view.canHighlight[m=0]||(m=1+k.selectpicker.view.canHighlight.slice(1).indexOf(!0)),t=k.selectpicker.view.visibleElements[m],k.defocusItem(k.selectpicker.view.currentActive),k.activeIndex=(k.selectpicker.current.data[m]||{}).index,k.focusItem(t)):k.$menuInner.trigger("focus")}this.selectpicker.isSearching=S,this.selectpicker.current=S?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),e&&(t?i=this.$menuInner[0].scrollTop:k.multiple||("number"!=typeof(t=((t=k.$element[0]).options[t.selectedIndex]||{}).liIndex)||!1===k.options.size||(t=(t=k.selectpicker.main.data[t])&&t.position)&&(i=t-(k.sizeInfo.menuInnerHeight+k.sizeInfo.liHeight)/2))),n(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){k.noScroll||n(this.scrollTop,t),k.noScroll=!1}),q(window).off("resize"+U+"."+this.selectId+".createView").on("resize"+U+"."+this.selectId+".createView",function(){k.$newElement.hasClass(B.SHOW)&&n(k.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var n;e&&(t=t||this.selectpicker.main.data[this.activeIndex],(n=e.firstChild)&&(n.setAttribute("aria-setsize",this.selectpicker.view.size),n.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",n.id),e.classList.add("active"),n.classList.add("active"))))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var e,t,i,n=!1;return this.options.title&&!this.multiple&&(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],i=!(n=!0),(t=!this.selectpicker.view.titleOption.parentNode)&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===q(e.options[e.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),!t&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),i&&(e.selectedIndex=0)),n},buildData:function(){var d=':not([hidden]):not([data-hidden="true"])',h=[],p=0,e=this.setPlaceholder()?1:0;this.options.hideDisabled&&(d+=":not(:disabled)");var t=this.$element[0].querySelectorAll("select > *"+d);function f(e){var t=h[h.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",h.push(e))}function m(e,t){var i,n,s;(t=t||{}).divider="true"===e.getAttribute("data-divider"),t.divider?f({optID:t.optID}):(i=h.length,n=(s=e.style.cssText)?E(s):"",s=(e.className||"")+(t.optgroupClass||""),t.optID&&(s="opt "+s),t.optionClass=s.trim(),t.inlineStyle=n,t.text=e.textContent,t.content=e.getAttribute("data-content"),void 0!==e.parentNode&&"OPTGROUP"===e.parentNode.nodeName?t.tokens=e.parentNode.getAttribute("label")+" "+e.getAttribute("data-tokens"):t.tokens=e.getAttribute("data-tokens"),t.subtext=e.getAttribute("data-subtext"),t.icon=e.getAttribute("data-icon"),e.liIndex=i,t.display=t.content||t.text,t.type="option",t.index=i,t.option=e,t.selected=!!e.selected,t.disabled=t.disabled||!!e.disabled,h.push(t))}for(var i=t.length;e<i;e++){var n=t[e];"OPTGROUP"!==n.tagName?m(n,{}):function(e,t){var i=t[e],n=t[e-1],e=t[e+1],s=i.querySelectorAll("option"+d);if(s.length){var o,a,r={display:E(i.label),subtext:i.getAttribute("data-subtext"),icon:i.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(i.className||"")};p++,n&&f({optID:p}),r.optID=p,h.push(r);for(var l=0,u=s.length;l<u;l++){var c=s[l];0===l&&(a=(o=h.length-1)+u),m(c,{headerIndex:o,lastIndex:a,optID:r.optID,optgroupClass:r.optgroupClass,disabled:i.disabled})}e&&f({optID:p})}}(e,t)}this.selectpicker.main.data=this.selectpicker.current.data=h},buildList:function(){var n=this,e=this.selectpicker.main.data,s=[],o=0;!n.options.showTick&&!n.multiple||j.checkMark.parentNode||(j.checkMark.className=this.options.iconBase+" "+n.options.tickIcon+" check-mark",j.a.appendChild(j.checkMark));for(var t=e.length,i=0;i<t;i++)!function(e){var t,i=0;switch(e.type){case"divider":t=G.li(!1,B.DIVIDER,e.optID?e.optID+"div":void 0);break;case"option":(t=G.li(G.a(G.text.call(n,e),e.optionClass,e.inlineStyle),"",e.optID)).firstChild&&(t.firstChild.id=n.selectId+"-"+e.index);break;case"optgroup-label":t=G.li(G.label.call(n,e),"dropdown-header"+e.optgroupClass,e.optID)}s.push(t),e.display&&(i+=e.display.length),e.subtext&&(i+=e.subtext.length),e.icon&&(i+=1),o<i&&(o=i,n.selectpicker.view.widestOption=s[s.length-1])}(e[i]);this.selectpicker.main.elements=this.selectpicker.current.elements=s},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var e=this.$element[0],t=this.setPlaceholder()&&0===e.selectedIndex,i=y(e,this.options.hideDisabled),n=i.length,s=this.$button[0],o=s.querySelector(".filter-option-inner-inner"),a=document.createTextNode(this.options.multipleSeparator),r=j.fragment.cloneNode(!1),l=!1;if(s.classList.toggle("bs-placeholder",this.multiple?!n:!w(e,i)),this.tabIndex(),"static"===this.options.selectedTextFormat)r=G.text.call(this,{text:this.options.title},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<n&&(1<(e=this.options.selectedTextFormat.split(">")).length&&n>e[1]||1===e.length&&2<=n))){if(!t){for(var u=0;u<n&&u<50;u++){var c=i[u],d=this.selectpicker.main.data[c.liIndex],h={};this.multiple&&0<u&&r.appendChild(a.cloneNode(!1)),c.title?h.text=c.title:d&&(d.content&&this.options.showContent?(h.content=d.content.toString(),l=!0):(this.options.showIcon&&(h.icon=d.icon),this.options.showSubtext&&!this.multiple&&d.subtext&&(h.subtext=" "+d.subtext),h.text=c.textContent.trim())),r.appendChild(G.text.call(this,h,!0))}49<n&&r.appendChild(document.createTextNode("..."))}}else{t=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(t+=":not(:disabled)");var p=this.$element[0].querySelectorAll("select > option"+t+", optgroup"+t+" option"+t).length,t="function"==typeof this.options.countSelectedText?this.options.countSelectedText(n,p):this.options.countSelectedText,r=G.text.call(this,{text:t.replace("{0}",n.toString()).replace("{1}",p.toString())},!0)}null==this.options.title&&(this.options.title=this.$element.attr("title")),r.childNodes.length||(r=G.text.call(this,{text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),s.title=r.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&l&&T([r],this.options.whiteList,this.options.sanitizeFn),o.innerHTML="",o.appendChild(r),L.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(p=s.querySelector(".filter-expand"),(o=o.cloneNode(!0)).className="filter-expand",p?s.replaceChild(o,p):s.appendChild(o)),this.$element.trigger("rendered"+U)},setStyle:function(e,t){var i=this.$button[0],n=this.$newElement[0],s=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),L.major<4&&(n.classList.add("bs3"),n.parentNode.classList.contains("input-group")&&(n.previousElementSibling||n.nextElementSibling)&&(n.previousElementSibling||n.nextElementSibling).classList.contains("input-group-addon")&&n.classList.add("bs3-has-addon")),e=e?e.trim():s,"add"==t?e&&i.classList.add.apply(i.classList,e.split(" ")):"remove"==t?e&&i.classList.remove.apply(i.classList,e.split(" ")):(s&&i.classList.remove.apply(i.classList,s.split(" ")),e&&i.classList.add.apply(i.classList,e.split(" ")))},liHeight:function(e){var t,i,n,s,o,a,r,l,u,c,d,h,p,f;(e||!1!==this.options.size&&!Object.keys(this.sizeInfo).length)&&(t=document.createElement("div"),f=document.createElement("div"),i=document.createElement("div"),a=document.createElement("ul"),h=document.createElement("li"),l=document.createElement("li"),r=document.createElement("li"),n=document.createElement("a"),s=document.createElement("span"),u=this.options.header&&0<this.$menu.find("."+B.POPOVERHEADER).length?this.$menu.find("."+B.POPOVERHEADER)[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,d=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,e=this.$element.find("option")[0],this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,s.className="text",n.className="dropdown-item "+(e?e.className:""),t.className=this.$menu[0].parentNode.className+" "+B.SHOW,t.style.width=0,"auto"===this.options.width&&(f.style.minWidth=0),f.className=B.MENU+" "+B.SHOW,i.className="inner "+B.SHOW,a.className=B.MENU+" inner "+("4"===L.major?B.SHOW:""),h.className=B.DIVIDER,l.className="dropdown-header",s.appendChild(document.createTextNode("â")),n.appendChild(s),r.appendChild(n),l.appendChild(s.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(r),a.appendChild(h),a.appendChild(l),u&&f.appendChild(u),c&&(o=document.createElement("input"),c.className="bs-searchbox",o.className="form-control",c.appendChild(o),f.appendChild(c)),d&&f.appendChild(d),i.appendChild(a),f.appendChild(i),p&&f.appendChild(p),t.appendChild(f),document.body.appendChild(t),n=r.offsetHeight,s=l?l.offsetHeight:0,o=u?u.offsetHeight:0,a=c?c.offsetHeight:0,r=d?d.offsetHeight:0,l=p?p.offsetHeight:0,u=q(h).outerHeight(!0),c=!!window.getComputedStyle&&window.getComputedStyle(f),d=f.offsetWidth,p=c?null:q(f),p={vert:(h={vert:m(c?c.paddingTop:p.css("paddingTop"))+m(c?c.paddingBottom:p.css("paddingBottom"))+m(c?c.borderTopWidth:p.css("borderTopWidth"))+m(c?c.borderBottomWidth:p.css("borderBottomWidth")),horiz:m(c?c.paddingLeft:p.css("paddingLeft"))+m(c?c.paddingRight:p.css("paddingRight"))+m(c?c.borderLeftWidth:p.css("borderLeftWidth"))+m(c?c.borderRightWidth:p.css("borderRightWidth"))}).vert+m(c?c.marginTop:p.css("marginTop"))+m(c?c.marginBottom:p.css("marginBottom"))+2,horiz:h.horiz+m(c?c.marginLeft:p.css("marginLeft"))+m(c?c.marginRight:p.css("marginRight"))+2},i.style.overflowY="scroll",f=f.offsetWidth-d,document.body.removeChild(t),this.sizeInfo.liHeight=n,this.sizeInfo.dropdownHeaderHeight=s,this.sizeInfo.headerHeight=o,this.sizeInfo.searchHeight=a,this.sizeInfo.actionsHeight=r,this.sizeInfo.doneButtonHeight=l,this.sizeInfo.dividerHeight=u,this.sizeInfo.menuPadding=h,this.sizeInfo.menuExtras=p,this.sizeInfo.menuWidth=d,this.sizeInfo.menuInnerInnerWidth=d-h.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=f,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData())},getSelectPosition:function(){var e,t=q(window),i=this.$newElement.offset(),n=q(this.options.container);this.options.container&&n.length&&!n.is("body")?((e=n.offset()).top+=parseInt(n.css("borderTopWidth")),e.left+=parseInt(n.css("borderLeftWidth"))):e={top:0,left:0};n=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-n[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,s,o,a,r=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,c=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,f=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(a=l*this.selectpicker.current.elements.length+f.vert,a=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(a=this.selectpicker.dropup),this.$newElement.toggleClass(B.DROPUP,a),this.selectpicker.dropup=a),"auto"===this.options.size)n=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,t=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=n+u+c+d+h,o=Math.max(n-f.vert,0),n=(s=t=this.$newElement.hasClass(B.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:t)-u-c-d-h-f.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&m++;n=(t=l*this.options.size+m*p+f.vert)-f.vert,s=t+u+c+d+h,i=o=""}this.$menu.css({"max-height":s+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":n+"px","overflow-y":"auto","min-height":o+"px"}),this.sizeInfo.menuInnerHeight=Math.max(n,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(B.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-r),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){var t,i;this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(t=this,i=q(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return t.setMenuSize()}),"auto"===this.options.size?i.off("resize"+U+"."+this.selectId+".setMenuSize scroll"+U+"."+this.selectId+".setMenuSize").on("resize"+U+"."+this.selectId+".setMenuSize scroll"+U+"."+this.selectId+".setMenuSize",function(){return t.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+U+"."+this.selectId+".setMenuSize scroll"+U+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,e)},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+U,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=q('<div class="bs-container" />');function e(e){var t={},i=a.options.display||!!q.fn.dropdown.Constructor.Default&&q.fn.dropdown.Constructor.Default.display;a.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(B.DROPUP,e.hasClass(B.DROPUP)),n=e.offset(),r.is("body")?s={top:0,left:0}:((s=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),s.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=e.hasClass(B.DROPUP)?0:e[0].offsetHeight,(L.major<4||"static"===i)&&(t.top=n.top-s.top+o,t.left=n.left-s.left),t.width=e[0].offsetWidth,a.$bsContainer.css(t)}var n,s,o,a=this,r=q(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){a.isDisabled()||(e(a.$newElement),a.$bsContainer.appendTo(a.options.container).toggleClass(B.SHOW,!a.$button.hasClass(B.SHOW)).append(a.$menu))}),q(window).off("resize"+U+"."+this.selectId+" scroll"+U+"."+this.selectId).on("resize"+U+"."+this.selectId+" scroll"+U+"."+this.selectId,function(){a.$newElement.hasClass(B.SHOW)&&e(a.$newElement)}),this.$element.on("hide"+U,function(){a.$menu.data("height",a.$menu.height()),a.$bsContainer.detach()})},setOptionStatus:function(e){if(this.noScroll=!1,this.selectpicker.view.visibleElements&&this.selectpicker.view.visibleElements.length)for(var t=0;t<this.selectpicker.view.visibleElements.length;t++){var i=this.selectpicker.current.data[t+this.selectpicker.view.position0],n=i.option;n&&(!0!==e&&this.setDisabled(i.index,i.disabled),this.setSelected(i.index,n.selected))}},setSelected:function(e,t){var i,n=this.selectpicker.main.elements[e],s=this.selectpicker.main.data[e],o=void 0!==this.activeIndex,a=this.activeIndex===e||t&&!this.multiple&&!o;s.selected=t,i=n.firstChild,t&&(this.selectedIndex=e),n.classList.toggle("selected",t),a?(this.focusItem(n,s),this.selectpicker.view.currentActive=n,this.activeIndex=e):this.defocusItem(n),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),a||o||!t||void 0===this.prevActiveIndex||(t=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(t))},setDisabled:function(e,t){var i=this.selectpicker.main.elements[e];this.selectpicker.main.data[e].disabled=t,e=i.firstChild,i.classList.toggle(B.DISABLED,t),e&&("4"===L.major&&e.classList.toggle(B.DISABLED,t),t?(e.setAttribute("aria-disabled",t),e.setAttribute("tabindex",-1)):(e.removeAttribute("aria-disabled"),e.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(B.DISABLED),this.$button.addClass(B.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(B.DISABLED)&&(this.$newElement[0].classList.remove(B.DISABLED),this.$button.removeClass(B.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var b=this,t=q(document);function e(){(b.options.liveSearch?b.$searchbox:b.$menuInner).trigger("focus")}function i(){b.dropdown&&b.dropdown._popper&&b.dropdown._popper.state.isCreated?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<L.major&&!b.dropdown&&(b.dropdown=b.$button.data("bs.dropdown"),b.dropdown._menu=b.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){b.$newElement.hasClass(B.SHOW)||b.setSize()}),this.$element.on("shown"+U,function(){b.$menuInner[0].scrollTop!==b.selectpicker.view.scrollTop&&(b.$menuInner[0].scrollTop=b.selectpicker.view.scrollTop),3<L.major?requestAnimationFrame(i):e()}),this.$menuInner.on("mouseenter","li a",function(e){var t=this.parentElement,i=b.isVirtual()?b.selectpicker.view.position0:0,n=Array.prototype.indexOf.call(t.parentElement.children,t),i=b.selectpicker.current.data[n+i];b.focusItem(t,i,!0)}),this.$menuInner.on("click","li a",function(e,t){var i=q(this),n=b.$element[0],s=b.isVirtual()?b.selectpicker.view.position0:0,o=b.selectpicker.current.data[i.parent().index()+s],a=o.index,r=w(n),l=n.selectedIndex,u=n.options[l],c=!0;if(b.multiple&&1!==b.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!b.isDisabled()&&!i.parent().hasClass(B.DISABLED)){var d=o.option,h=q(d),p=d.selected,f=h.parent("optgroup"),m=f.find("option"),s=b.options.maxOptions,e=f.data("maxOptions")||!1;if((t=a===b.activeIndex?!0:t)||(b.prevActiveIndex=b.activeIndex,b.activeIndex=void 0),b.multiple){if(d.selected=!p,b.setSelected(a,!p),i.trigger("blur"),!1!==s||!1!==e){o=s<y(n).length,t=e<f.find("option:selected").length;if(s&&o||e&&t)if(s&&1==s)n.selectedIndex=-1,d.selected=!0,b.setOptionStatus(!0);else if(e&&1==e){for(var g=0;g<m.length;g++){var _=m[g];_.selected=!1,b.setSelected(_.liIndex,!1)}d.selected=!0,b.setSelected(a,!0)}else{var p="string"==typeof b.options.maxOptionsText?[b.options.maxOptionsText,b.options.maxOptionsText]:b.options.maxOptionsText,i="function"==typeof p?p(s,e):p,f=i[0].replace("{n}",s),p=i[1].replace("{n}",e),v=q('<div class="notify"></div>');i[2]&&(f=f.replace("{var}",i[2][1<s?0:1]),p=p.replace("{var}",i[2][1<e?0:1])),d.selected=!1,b.$menu.append(v),s&&o&&(v.append(q("<div>"+f+"</div>")),c=!1,b.$element.trigger("maxReached"+U)),e&&t&&(v.append(q("<div>"+p+"</div>")),c=!1,b.$element.trigger("maxReachedGrp"+U)),setTimeout(function(){b.setSelected(a,!1)},10),v[0].classList.add("fadeOut"),setTimeout(function(){v.remove()},1050)}}}else u&&(u.selected=!1),d.selected=!0,b.setSelected(a,!0);!b.multiple||b.multiple&&1===b.options.maxOptions?b.$button.trigger("focus"):b.options.liveSearch&&b.$searchbox.trigger("focus"),c&&(!b.multiple&&l===n.selectedIndex||(x=[d.index,h.prop("selected"),r],b.$element.triggerNative("change")))}}),this.$menu.on("click","li."+B.DISABLED+" a, ."+B.POPOVERHEADER+", ."+B.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),(b.options.liveSearch&&!q(e.target).hasClass("close")?b.$searchbox:b.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(b.options.liveSearch?b.$searchbox:b.$button).trigger("focus")}),this.$menu.on("click","."+B.POPOVERHEADER+" .close",function(){b.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){(b.options.liveSearch?b.$searchbox:b.$button).trigger("focus"),e.preventDefault(),e.stopPropagation(),q(this).hasClass("bs-select-all")?b.selectAll():b.deselectAll()}),this.$element.on("change"+U,function(){b.render(),b.$element.trigger("changed"+U,x),x=null}).on("focus"+U,function(){b.options.mobile||b.$button.trigger("focus")})},liveSearchListener:function(){var h=this,p=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){h.$searchbox.val()&&h.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=h.$searchbox.val();if(h.selectpicker.search.elements=[],h.selectpicker.search.data=[],e){var t=[],i=e.toUpperCase(),n={},s=[],o=h._searchStyle(),a=h.options.liveSearchNormalize;a&&(i=f(i));for(var r=0;r<h.selectpicker.main.data.length;r++){var l=h.selectpicker.main.data[r];n[r]||(n[r]=b(l,i,o,a)),n[r]&&void 0!==l.headerIndex&&-1===s.indexOf(l.headerIndex)&&(0<l.headerIndex&&(n[l.headerIndex-1]=!0,s.push(l.headerIndex-1)),n[l.headerIndex]=!0,s.push(l.headerIndex),n[l.lastIndex+1]=!0),n[r]&&"optgroup-label"!==l.type&&s.push(r)}for(var r=0,u=s.length;r<u;r++){var c=s[r],d=s[r-1],l=h.selectpicker.main.data[c],d=h.selectpicker.main.data[d];("divider"!==l.type||"divider"===l.type&&d&&"divider"!==d.type&&u-1!==r)&&(h.selectpicker.search.data.push(l),t.push(h.selectpicker.main.elements[c]))}h.activeIndex=void 0,h.noScroll=!0,h.$menuInner.scrollTop(0),h.selectpicker.search.elements=t,h.createView(!0),t.length||(p.className="no-results",p.innerHTML=h.options.noneResultsText.replace("{0}",'"'+E(e)+'"'),h.$menuInner[0].firstChild.appendChild(p))}else h.$menuInner.scrollTop(0),h.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0===e)return this.$element.val();var i=w(t);return x=[null,null,i],this.$element.val(e).trigger("changed"+U,x),this.$newElement.hasClass(B.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(t=(t.options[t.selectedIndex]||{}).liIndex)&&(this.setSelected(this.selectedIndex,!1),this.setSelected(t,!0))),this.render(),x=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,n=0,s=w(t);t.classList.add("bs-select-hidden");for(var o=0,a=this.selectpicker.current.data,r=a.length;o<r;o++){var l=a[o],u=l.option;u&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,!0===(u.selected=e)&&n++)}t.classList.remove("bs-select-hidden"),i!==n&&(this.setOptionStatus(),x=[null,null,s],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var t,i,n,s=q(this),o=s.hasClass("dropdown-toggle"),a=(o?s.closest(".dropdown"):s.closest(z.MENU)).data("this"),r=a.findLis(),l=!1,u=e.which===M&&!o&&!a.options.selectOnTab,c=Y.test(e.which)||u,d=a.$menuInner[0].scrollTop,h=!0===a.isVirtual()?a.selectpicker.view.position0:0;if(!(112<=e.which&&e.which<=123))if(!(o=a.$newElement.hasClass(B.SHOW))&&(c||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(a.$button.trigger("click.bs.dropdown.data-api"),a.options.liveSearch))a.$searchbox.trigger("focus");else{if(e.which===A&&o&&(e.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),c){if(!r.length)return;-1!==(c=(t=a.selectpicker.main.elements[a.activeIndex])?Array.prototype.indexOf.call(t.parentElement.children,t):-1)&&a.defocusItem(t),e.which===N?(-1!==c&&c--,c+h<0&&(c+=r.length),a.selectpicker.view.canHighlight[c+h]||-1===(c=a.selectpicker.view.canHighlight.slice(0,c+h).lastIndexOf(!0)-h)&&(c=r.length-1)):e.which!==R&&!u||(++c+h>=a.selectpicker.view.canHighlight.length&&(c=0),a.selectpicker.view.canHighlight[c+h]||(c=c+1+a.selectpicker.view.canHighlight.slice(c+h+1).indexOf(!0))),e.preventDefault();var p=h+c;e.which===N?0===h&&c===r.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,p=a.selectpicker.current.elements.length-1):l=(n=(i=a.selectpicker.current.data[p]).position-i.height)<d:e.which!==R&&!u||(0===c?p=a.$menuInner[0].scrollTop=0:l=d<(n=(i=a.selectpicker.current.data[p]).position-a.sizeInfo.menuInnerHeight)),t=a.selectpicker.current.elements[p],a.activeIndex=a.selectpicker.current.data[p].index,a.focusItem(t),a.selectpicker.view.currentActive=t,l&&(a.$menuInner[0].scrollTop=n),(a.options.liveSearch?a.$searchbox:s).trigger("focus")}else if(!s.is("input")&&!V.test(e.which)||e.which===O&&a.selectpicker.keydown.keyHistory){var f,m=[];e.preventDefault(),a.selectpicker.keydown.keyHistory+=P[e.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),f=a.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(f)&&(f=f.charAt(0));for(var g=0;g<a.selectpicker.current.data.length;g++){var _=a.selectpicker.current.data[g];b(_,f,"startsWith",!0)&&a.selectpicker.view.canHighlight[g]&&m.push(_.index)}m.length&&(p=0,r.removeClass("active").find("a").removeClass("active"),1===f.length&&(-1===(p=m.indexOf(a.activeIndex))||p===m.length-1?p=0:p++),r=m[p],l=0<d-(i=a.selectpicker.main.data[r]).position?(n=i.position-i.height,!0):(n=i.position-a.sizeInfo.menuInnerHeight,i.position>d+a.sizeInfo.menuInnerHeight),t=a.selectpicker.main.elements[r],a.activeIndex=m[p],a.focusItem(t),t&&t.firstChild.focus(),l&&(a.$menuInner[0].scrollTop=n),s.trigger("focus"))}o&&(e.which===O&&!a.selectpicker.keydown.keyHistory||e.which===F||e.which===M&&a.options.selectOnTab)&&(e.which!==O&&e.preventDefault(),a.options.liveSearch&&e.which===O||(a.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),a.options.liveSearch||(e.preventDefault(),q(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=q.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.setStyle(),this.render(),this.buildData(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+U)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.$element.off(U).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),q(window).off(U+"."+this.selectId)}};var X=q.fn.selectpicker;q.fn.selectpicker=$,q.fn.selectpicker.Constructor=W,q.fn.selectpicker.noConflict=function(){return q.fn.selectpicker=X,this};e=q.fn.dropdown.Constructor._dataApiKeydownHandler||q.fn.dropdown.Constructor.prototype.keydown;q(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',e).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",e).on("keydown"+U,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',W.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),q(window).on("load"+U+".data-api",function(){q(".selectpicker").each(function(){var e=q(this);$.call(e,e.data())})})}(e)}),"undefined"==typeof jQuery)throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");if(!function(){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0")}(),"undefined"==typeof moment)throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");var version=moment.version.split(".");if(version[0]<=2&&version[1]<17||3<=version[0])throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");!function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,o,a,r,l,u,d,h,p,f,m,g,_,i,v,b,q=(s=jQuery,o=moment,u={DATA_TOGGLE:'[data-toggle="'+(r=a="datetimepicker")+'"]'},d={INPUT:a+"-input"},h={CHANGE:"change"+(l="."+r),BLUR:"blur"+l,KEYUP:"keyup"+l,KEYDOWN:"keydown"+l,FOCUS:"focus"+l,CLICK_DATA_API:"click"+l+".data-api",UPDATE:"update"+l,ERROR:"error"+l,HIDE:"hide"+l,SHOW:"show"+l},p=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],f={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},m=["times","days","months","years","decades"],b={timeZone:"",format:!(v={time:"clock",date:"calendar",up:"arrow-up",down:"arrow-down",previous:"arrow-left",next:"arrow-right",today:"arrow-down-circle",clear:"trash-2",close:"x"}),dayViewHeaderFormat:"MMMM YYYY",extraFormats:!(i={timeZone:-39,format:-38,dayViewHeaderFormat:-37,extraFormats:-36,stepping:-35,minDate:-34,maxDate:-33,useCurrent:-32,collapse:-31,locale:-30,defaultDate:-29,disabledDates:-28,enabledDates:-27,icons:-26,tooltips:-25,useStrict:-24,sideBySide:-23,daysOfWeekDisabled:-22,calendarWeeks:-21,viewMode:-20,toolbarPlacement:-19,buttons:-18,widgetPositioning:-17,widgetParent:-16,ignoreReadonly:-15,keepOpen:-14,focusOnShow:-13,inline:-12,keepInvalid:-11,keyBinds:-10,debug:-9,allowInputToggle:-8,disabledTimeIntervals:-7,disabledHours:-6,enabledHours:-5,viewDate:-4,allowMultidate:-3,multidateSeparator:-2,updateOnlyThroughDateOption:-1,date:1}),stepping:1,minDate:!(_={}),maxDate:!(g={}),useCurrent:!0,collapse:!0,locale:o.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{type:"class",time:"fa fa-clock",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-trash",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,readonly:!1,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M")),!0},enter:function(){return!!this.widget&&(this.hide(),!0)},escape:function(){return!!this.widget&&(this.hide(),!0)},"control space":function(){return!!this.widget&&(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0)},t:function(){return!!this.widget&&(this.date(this.getMoment()),!0)},delete:function(){return!!this.widget&&(this.clear(),!0)}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:", ",updateOnlyThroughDateOption:!1,promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200},function(){function c(e,t){this._options=this._getOptions(t),this._element=e,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this.MinViewModeNumber=0,this.isInitFormatting=!1,this.isInit=!1,this.isDateUpdateThroughDateOptionFromClientCode=!1,this.hasInitDate=!1,this.initDate=void 0,this._notifyChangeEventContext=void 0,this._currentPromptTimeTimeout=null,this._int()}var e,t,i=c.prototype;return i._int=function(){this.isInit=!0;var e=this._element.data("target-input");this._element.is("input")?this.input=this._element:void 0!==e&&(this.input="nearest"===e?this._element.find("input"):s(e)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),s.extend(!0,this._options,this._dataToOptions()),this.hasInitDate=!1,this.initDate=void 0,this.options(this._options),this.isInitFormatting=!0,this._initFormatting(),this.isInitFormatting=!1,void 0!==this.input&&this.input.is("input")&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&void 0!==this.input&&void 0===this.input.attr("placeholder")&&this._setValue(this._options.defaultDate,0),this.hasInitDate&&this.date(this.initDate),this._options.inline&&this.show(),this.isInit=!1},i._update=function(){this.widget&&(this._fillDate(),this._fillTime())},i._setValue=function(e,t){var i=void 0===t,n=!e&&i,s=this.isDateUpdateThroughDateOptionFromClientCode,o=!this.isInit&&this._options.updateOnlyThroughDateOption&&!s,a="",r=!1,l=this.unset?null:this._dates[t];if(!l&&!this.unset&&i&&n&&(l=this._dates[this._dates.length-1]),!e)return o?void this._notifyEvent({type:c.Event.CHANGE,date:e,oldDate:l,isClear:n,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:s,isInit:this.isInit}):(!this._options.allowMultidate||1===this._dates.length||n?(this.unset=!0,this._dates=[],this._datesFormatted=[]):(a=""+this._element.data("date")+this._options.multidateSeparator,a=l&&a.replace(""+l.format(this.actualFormat)+this._options.multidateSeparator,"").replace(""+this._options.multidateSeparator+this._options.multidateSeparator,"").replace(new RegExp(this._options.multidateSeparator.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"\\s*$"),"")||"",this._dates.splice(t,1),this._datesFormatted.splice(t,1)),a=w(a),void 0!==this.input&&(this.input.val(a),this.input.trigger("input")),this._element.data("date",a),this._notifyEvent({type:c.Event.CHANGE,date:!1,oldDate:l,isClear:n,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:s,isInit:this.isInit}),void this._update());if(e=e.clone().locale(this._options.locale),this._hasTimeZone()&&e.tz(this._options.timeZone),1!==this._options.stepping&&e.minutes(Math.round(e.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(e))if(o)this._notifyEvent({type:c.Event.CHANGE,date:e.clone(),oldDate:l,isClear:n,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:s,isInit:this.isInit});else{if(this._dates[t]=e,this._datesFormatted[t]=e.format("YYYY-MM-DD"),this._viewDate=e.clone(),this._options.allowMultidate&&1<this._dates.length){for(var u=0;u<this._dates.length;u++)a+=""+this._dates[u].format(this.actualFormat)+this._options.multidateSeparator;a=a.replace(new RegExp(this._options.multidateSeparator+"\\s*$"),"")}else a=this._dates[t].format(this.actualFormat);a=w(a),void 0!==this.input&&(this.input.val(a),this.input.trigger("input")),this._element.data("date",a),this.unset=!1,this._update(),this._notifyEvent({type:c.Event.CHANGE,date:this._dates[t].clone(),oldDate:l,isClear:n,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:s,isInit:this.isInit})}else r=!0,this._options.keepInvalid?this._notifyEvent({type:c.Event.CHANGE,date:e,oldDate:l,isClear:n,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:s,isInit:this.isInit}):void 0!==this.input&&(this.input.val(""+(this.unset?"":this._dates[t].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:c.Event.ERROR,date:e,oldDate:l})},i._change=function(e){var t=s(e.target).val().trim(),t=t?this._parseInputDate(t):null;return this._setValue(t,0),e.stopImmediatePropagation(),!1},i._getOptions=function(e){return e=s.extend(!0,{},b,e&&e.icons&&"feather"===e.icons.type?{icons:v}:{},e)},i._hasTimeZone=function(){return void 0!==o.tz&&void 0!==this._options.timeZone&&null!==this._options.timeZone&&""!==this._options.timeZone},i._isEnabled=function(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==this.actualFormat.indexOf("Y");case"M":return-1!==this.actualFormat.indexOf("M");case"d":return-1!==this.actualFormat.toLowerCase().indexOf("d");case"h":case"H":return-1!==this.actualFormat.toLowerCase().indexOf("h");case"m":return-1!==this.actualFormat.indexOf("m");case"s":return-1!==this.actualFormat.indexOf("s");case"a":case"A":return-1!==this.actualFormat.toLowerCase().indexOf("a");default:return!1}},i._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},i._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},i._dataToOptions=function(){var i=this._element.data(),n={};return i.dateOptions&&i.dateOptions instanceof Object&&(n=s.extend(!0,n,i.dateOptions)),s.each(this._options,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==i[t]?n[e]=i[t]:delete n[e]}),n},i._format=function(){return this._options.format||"YYYY-MM-DD HH:mm"},i._areSameDates=function(e,t){var i=this._format();return e&&t&&(e.isSame(t)||o(e.format(i),i).isSame(o(t.format(i),i)))},i._notifyEvent=function(e){if(e.type===c.Event.CHANGE){if(this._notifyChangeEventContext=this._notifyChangeEventContext||0,this._notifyChangeEventContext++,e.date&&this._areSameDates(e.date,e.oldDate)||!e.isClear&&!e.date&&!e.oldDate||1<this._notifyChangeEventContext)return void(this._notifyChangeEventContext=void 0);this._handlePromptTimeIfNeeded(e)}this._element.trigger(e),this._notifyChangeEventContext=void 0},i._handlePromptTimeIfNeeded=function(e){var t;this._options.promptTimeOnDateChange&&(!e.oldDate&&this._options.useCurrent||e.oldDate&&e.date&&(e.oldDate.format("YYYY-MM-DD")===e.date.format("YYYY-MM-DD")||e.oldDate.format("YYYY-MM-DD")!==e.date.format("YYYY-MM-DD")&&e.oldDate.format("HH:mm:ss")!==e.date.format("HH:mm:ss"))||(t=this,clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(function(){t.widget&&t.widget.find('[data-action="togglePicker"]').click()},this._options.promptTimeOnDateChangeTransitionDelay)))},i._viewUpdate=function(e){this._notifyEvent({type:c.Event.UPDATE,change:e="y"===e?"YYYY":e,viewDate:this._viewDate.clone()})},i._showMode=function(e){this.widget&&(e&&(this.currentViewMode=Math.max(this.MinViewModeNumber,Math.min(3,this.currentViewMode+e))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+p[this.currentViewMode].CLASS_NAME).show())},i._isInDisabledDates=function(e){return!0===this._options.disabledDates[e.format("YYYY-MM-DD")]},i._isInEnabledDates=function(e){return!0===this._options.enabledDates[e.format("YYYY-MM-DD")]},i._isInDisabledHours=function(e){return!0===this._options.disabledHours[e.format("H")]},i._isInEnabledHours=function(e){return!0===this._options.enabledHours[e.format("H")]},i._isValid=function(e,t){if(!e||!e.isValid())return!1;if(this._options.disabledDates&&"d"===t&&this._isInDisabledDates(e))return!1;if(this._options.enabledDates&&"d"===t&&!this._isInEnabledDates(e))return!1;if(this._options.minDate&&e.isBefore(this._options.minDate,t))return!1;if(this._options.maxDate&&e.isAfter(this._options.maxDate,t))return!1;if(this._options.daysOfWeekDisabled&&"d"===t&&-1!==this._options.daysOfWeekDisabled.indexOf(e.day()))return!1;if(this._options.disabledHours&&("h"===t||"m"===t||"s"===t)&&this._isInDisabledHours(e))return!1;if(this._options.enabledHours&&("h"===t||"m"===t||"s"===t)&&!this._isInEnabledHours(e))return!1;if(this._options.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var i=!1;if(s.each(this._options.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return!(i=!0)}),i)return!1}return!0},i._parseInputDate=function(e,t){t=(void 0===t?{}:t).isPickerShow;return void 0===this._options.parseInputDate||void 0!==t&&t?o.isMoment(e)||(e=this.getMoment(e)):e=this._options.parseInputDate(e),e},i._keydown=function(e){var t,i,n,s,o=null,a=[],r={},l=e.which;for(t in g[l]="p",g)g.hasOwnProperty(t)&&"p"===g[t]&&(a.push(t),parseInt(t,10)!==l&&(r[t]=!0));for(t in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(t)&&"function"==typeof this._options.keyBinds[t]&&(n=t.split(" ")).length===a.length&&f[l]===n[n.length-1]){for(s=!0,i=n.length-2;0<=i;i--)if(!(f[n[i]]in r)){s=!1;break}if(s){o=this._options.keyBinds[t];break}}o&&o.call(this)&&(e.stopPropagation(),e.preventDefault())},i._keyup=function(e){g[e.which]="r",_[e.which]&&(_[e.which]=!1,e.stopPropagation(),e.preventDefault())},i._indexGivenDates=function(e){var t={},i=this;return s.each(e,function(){var e=i._parseInputDate(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t},i._indexGivenHours=function(e){var t={};return s.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t},i._initFormatting=function(){var e=this._options.format||"L LT",t=this;this.actualFormat=e.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(t.isInitFormatting&&null===t._options.date?t.getMoment():t._dates[0]).localeData().longDateFormat(e)||e}),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],this.parseFormats.indexOf(e)<0&&this.parseFormats.indexOf(this.actualFormat)<0&&this.parseFormats.push(this.actualFormat),this.use24Hours=this.actualFormat.toLowerCase().indexOf("a")<1&&this.actualFormat.replace(/\[.*?]/g,"").indexOf("h")<1,this._isEnabled("y")&&(this.MinViewModeNumber=2),this._isEnabled("M")&&(this.MinViewModeNumber=1),this._isEnabled("d")&&(this.MinViewModeNumber=0),this.currentViewMode=Math.max(this.MinViewModeNumber,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},i._getLastPickedDate=function(){var e=this._dates[this._getLastPickedDateIndex()];return e=!e&&this._options.allowMultidate?o(new Date):e},i._getLastPickedDateIndex=function(){return this._dates.length-1},i.getMoment=function(e){e=null==e?o().clone().locale(this._options.locale):this._hasTimeZone()?o.tz(e,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):o(e,this.parseFormats,this._options.locale,this._options.useStrict);return this._hasTimeZone()&&e.tz(this._options.timeZone),e},i.toggle=function(){return this.widget?this.hide():this.show()},i.readonly=function(e){if(0===arguments.length)return this._options.readonly;if("boolean"!=typeof e)throw new TypeError("readonly() expects a boolean parameter");this._options.readonly=e,void 0!==this.input&&this.input.prop("readonly",this._options.readonly),this.widget&&(this.hide(),this.show())},i.ignoreReadonly=function(e){if(0===arguments.length)return this._options.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly() expects a boolean parameter");this._options.ignoreReadonly=e},i.options=function(e){if(0===arguments.length)return s.extend(!0,{},this._options);if(!(e instanceof Object))throw new TypeError("options() this.options parameter should be an object");s.extend(!0,this._options,e);var n=this,t=Object.keys(this._options).sort(x);s.each(t,function(e,t){var i=n._options[t];if(void 0!==n[t]){if(n.isInit&&"date"===t)return n.hasInitDate=!0,void(n.initDate=i);n[t](i)}})},i.date=function(e,t){if(t=t||0,0===arguments.length)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[t].clone();if(!(null===e||"string"==typeof e||o.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");"string"==typeof e&&y(e)&&(e=new Date(e)),this._setValue(null===e?null:this._parseInputDate(e),t)},i.updateOnlyThroughDateOption=function(e){if("boolean"!=typeof e)throw new TypeError("updateOnlyThroughDateOption() expects a boolean parameter");this._options.updateOnlyThroughDateOption=e},i.format=function(e){if(0===arguments.length)return this._options.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);this._options.format=e,this.actualFormat&&this._initFormatting()},i.timeZone=function(e){if(0===arguments.length)return this._options.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");this._options.timeZone=e},i.dayViewHeaderFormat=function(e){if(0===arguments.length)return this._options.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=e},i.extraFormats=function(e){if(0===arguments.length)return this._options.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=e,this.parseFormats&&this._initFormatting()},i.disabledDates=function(e){if(0===arguments.length)return this._options.disabledDates&&s.extend({},this._options.disabledDates);if(!e)return this._options.disabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(e),this._options.enabledDates=!1,this._update()},i.enabledDates=function(e){if(0===arguments.length)return this._options.enabledDates&&s.extend({},this._options.enabledDates);if(!e)return this._options.enabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(e),this._options.disabledDates=!1,this._update()},i.daysOfWeekDisabled=function(e){if(0===arguments.length)return this._options.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=e.reduce(function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var t=0;t<this._dates.length;t++){for(var i=0;!this._isValid(this._dates[t],"d");){if(this._dates[t].add(1,"d"),31===i)throw"Tried 31 times to find a valid date";i++}this._setValue(this._dates[t],t)}this._update()},i.maxDate=function(e){if(0===arguments.length)return this._options.maxDate&&this._options.maxDate.clone();if("boolean"==typeof e&&!1===e)return this._options.maxDate=!1,this._update(),!0;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=this.getMoment()));var t=this._parseInputDate(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(this._options.minDate&&t.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+t.format(this.actualFormat));this._options.maxDate=t;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isAfter(e)&&this._setValue(this._options.maxDate,i);this._viewDate.isAfter(t)&&(this._viewDate=t.clone().subtract(this._options.stepping,"m")),this._update()},i.minDate=function(e){if(0===arguments.length)return this._options.minDate&&this._options.minDate.clone();if("boolean"==typeof e&&!1===e)return this._options.minDate=!1,this._update(),!0;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=this.getMoment()));var t=this._parseInputDate(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(this._options.maxDate&&t.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+t.format(this.actualFormat));this._options.minDate=t;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isBefore(e)&&this._setValue(this._options.minDate,i);this._viewDate.isBefore(t)&&(this._viewDate=t.clone().add(this._options.stepping,"m")),this._update()},i.defaultDate=function(e){if(0===arguments.length)return this._options.defaultDate&&this._options.defaultDate.clone();if(!e)return!(this._options.defaultDate=!1);"string"==typeof e&&(e="now"===e||"moment"===e?this.getMoment():this.getMoment(e));var t=this._parseInputDate(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!this._isValid(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=t,(this._options.defaultDate&&this._options.inline||void 0!==this.input&&""===this.input.val().trim())&&this._setValue(this._options.defaultDate,0)},i.locale=function(e){if(0===arguments.length)return this._options.locale;if(!o.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");this._options.locale=e;for(var t=0;t<this._dates.length;t++)this._dates[t].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},i.stepping=function(e){if(0===arguments.length)return this._options.stepping;e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),this._options.stepping=e},i.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return this._options.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));this._options.useCurrent=e},i.collapse=function(e){if(0===arguments.length)return this._options.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");if(this._options.collapse===e)return!0;this._options.collapse=e,this.widget&&(this.hide(),this.show())},i.icons=function(e){if(0===arguments.length)return s.extend({},this._options.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");s.extend(this._options.icons,e),this.widget&&(this.hide(),this.show())},i.tooltips=function(e){if(0===arguments.length)return s.extend({},this._options.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");s.extend(this._options.tooltips,e),this.widget&&(this.hide(),this.show())},i.useStrict=function(e){if(0===arguments.length)return this._options.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=e},i.sideBySide=function(e){if(0===arguments.length)return this._options.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=e,this.widget&&(this.hide(),this.show())},i.viewMode=function(e){if(0===arguments.length)return this._options.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===c.ViewModes.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+c.ViewModes.join(", ")+") value");this._options.viewMode=e,this.currentViewMode=Math.max(c.ViewModes.indexOf(e)-1,this.MinViewModeNumber),this._showMode()},i.calendarWeeks=function(e){if(0===arguments.length)return this._options.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=e,this._update()},i.buttons=function(e){if(0===arguments.length)return s.extend({},this._options.buttons);if(!(e instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(s.extend(this._options.buttons,e),"boolean"!=typeof this._options.buttons.showToday)throw new TypeError("buttons.showToday expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClear)throw new TypeError("buttons.showClear expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClose)throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},i.keepOpen=function(e){if(0===arguments.length)return this._options.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=e},i.focusOnShow=function(e){if(0===arguments.length)return this._options.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=e},i.inline=function(e){if(0===arguments.length)return this._options.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");this._options.inline=e},i.clear=function(){this._setValue(null)},i.keyBinds=function(e){if(0===arguments.length)return this._options.keyBinds;this._options.keyBinds=e},i.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");this._options.debug=e},i.allowInputToggle=function(e){if(0===arguments.length)return this._options.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=e},i.keepInvalid=function(e){if(0===arguments.length)return this._options.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=e},i.datepickerInput=function(e){if(0===arguments.length)return this._options.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=e},i.parseInputDate=function(e){if(0===arguments.length)return this._options.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=e},i.disabledTimeIntervals=function(e){if(0===arguments.length)return this._options.disabledTimeIntervals&&s.extend({},this._options.disabledTimeIntervals);if(!e)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=e,this._update()},i.disabledHours=function(e){if(0===arguments.length)return this._options.disabledHours&&s.extend({},this._options.disabledHours);if(!e)return this._options.disabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(e),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var t=0;t<this._dates.length;t++){for(var i=0;!this._isValid(this._dates[t],"h");){if(this._dates[t].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[t],t)}this._update()},i.enabledHours=function(e){if(0===arguments.length)return this._options.enabledHours&&s.extend({},this._options.enabledHours);if(!e)return this._options.enabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(e),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var t=0;t<this._dates.length;t++){for(var i=0;!this._isValid(this._dates[t],"h");){if(this._dates[t].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[t],t)}this._update()},i.viewDate=function(e){if(0===arguments.length)return this._viewDate.clone();if(!e)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(!("string"==typeof e||o.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(e),this._update(),this._viewUpdate(p[this.currentViewMode]&&p[this.currentViewMode].NAV_FUNCTION)},i._fillDate=function(){},i._useFeatherIcons=function(){return"feather"===this._options.icons.type},i.allowMultidate=function(e){if("boolean"!=typeof e)throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=e},i.multidateSeparator=function(e){if(0===arguments.length)return this._options.multidateSeparator;if("string"!=typeof e)throw new TypeError("multidateSeparator expects a string parameter");this._options.multidateSeparator=e},e=c,t=[{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return r}},{key:"EVENT_KEY",get:function(){return l}},{key:"DATA_API_KEY",get:function(){return".data-api"}},{key:"DatePickerModes",get:function(){return p}},{key:"ViewModes",get:function(){return m}},{key:"Event",get:function(){return h}},{key:"Selector",get:function(){return u}},{key:"Default",get:function(){return b},set:function(e){b=e}},{key:"ClassName",get:function(){return d}}],(i=null)&&n(e.prototype,i),t&&n(e,t),c}());function y(e){return e=new Date(e),"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}function w(e){return e.replace(/(^\s+)|(\s+$)/g,"")}function x(e,t){return i[e]&&i[t]?i[e]<0&&i[t]<0?Math.abs(i[t])-Math.abs(i[e]):i[e]<0?-1:i[t]<0?1:i[e]-i[t]:i[e]||i[t]||0}var S,e,c,C,D,k;S=jQuery,e=S.fn[q.NAME],c=["top","bottom","auto"],C=["left","right","auto"],D=["default","top","bottom"],k=function(l){var e;function s(e,t){t=l.call(this,e,t)||this;return t._init(),t}t=l,(e=s).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var t=s.prototype;return t._init=function(){var e;this._element.hasClass("input-group")&&(0===(e=this._element.find(".datepickerbutton")).length?this.component=this._element.find('[data-toggle="datetimepicker"]'):this.component=e)},t._iconTag=function(e){return"undefined"!=typeof feather&&this._useFeatherIcons()&&feather.icons[e]?S("<span>").html(feather.icons[e].toSvg()):S("<span>").addClass(e)},t._getDatePickerTemplate=function(){var e=S("<thead>").append(S("<tr>").append(S("<th>").addClass("prev").attr("data-action","previous").append(this._iconTag(this._options.icons.previous))).append(S("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append(S("<th>").addClass("next").attr("data-action","next").append(this._iconTag(this._options.icons.next)))),t=S("<tbody>").append(S("<tr>").append(S("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[S("<div>").addClass("datepicker-days").append(S("<table>").addClass("table table-sm").append(e).append(S("<tbody>"))),S("<div>").addClass("datepicker-months").append(S("<table>").addClass("table-condensed").append(e.clone()).append(t.clone())),S("<div>").addClass("datepicker-years").append(S("<table>").addClass("table-condensed").append(e.clone()).append(t.clone())),S("<div>").addClass("datepicker-decades").append(S("<table>").addClass("table-condensed").append(e.clone()).append(t.clone()))]},t._getTimePickerMainTemplate=function(){var e=S("<tr>"),t=S("<tr>"),i=S("<tr>");return this._isEnabled("h")&&(e.append(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(this._iconTag(this._options.icons.up)))),t.append(S("<td>").append(S("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),i.append(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(this._iconTag(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(e.append(S("<td>").addClass("separator")),t.append(S("<td>").addClass("separator").html(":")),i.append(S("<td>").addClass("separator"))),e.append(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(this._iconTag(this._options.icons.up)))),t.append(S("<td>").append(S("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(this._iconTag(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(e.append(S("<td>").addClass("separator")),t.append(S("<td>").addClass("separator").html(":")),i.append(S("<td>").addClass("separator"))),e.append(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(this._iconTag(this._options.icons.up)))),t.append(S("<td>").append(S("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(this._iconTag(this._options.icons.down))))),this.use24Hours||(e.append(S("<td>").addClass("separator")),t.append(S("<td>").append(S("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),i.append(S("<td>").addClass("separator"))),S("<div>").addClass("timepicker-picker").append(S("<table>").addClass("table-condensed").append([e,t,i]))},t._getTimePickerTemplate=function(){var e=S("<div>").addClass("timepicker-hours").append(S("<table>").addClass("table-condensed")),t=S("<div>").addClass("timepicker-minutes").append(S("<table>").addClass("table-condensed")),i=S("<div>").addClass("timepicker-seconds").append(S("<table>").addClass("table-condensed")),n=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&n.push(e),this._isEnabled("m")&&n.push(t),this._isEnabled("s")&&n.push(i),n},t._getToolbar=function(){var e,t,i=[];return this._options.buttons.showToday&&i.push(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append(this._iconTag(this._options.icons.today)))),!this._options.sideBySide&&this._options.collapse&&this._hasDate()&&this._hasTime()&&(t="times"===this._options.viewMode?(e=this._options.tooltips.selectDate,this._options.icons.date):(e=this._options.tooltips.selectTime,this._options.icons.time),i.push(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title:e}).append(this._iconTag(t))))),this._options.buttons.showClear&&i.push(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append(this._iconTag(this._options.icons.clear)))),this._options.buttons.showClose&&i.push(S("<td>").append(S("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append(this._iconTag(this._options.icons.close)))),0===i.length?"":S("<table>").addClass("table-condensed").append(S("<tbody>").append(S("<tr>").append(i)))},t._getTemplate=function(){var e=S("<div>").addClass(("bootstrap-datetimepicker-widget dropdown-menu "+(this._options.calendarWeeks?"tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks":"")+" "+(this._useFeatherIcons()?"tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons":"")+" ").trim()),t=S("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),i=S("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),n=S("<ul>").addClass("list-unstyled"),s=S("<li>").addClass(("picker-switch"+(this._options.collapse?" accordion-toggle":"")+" "+(this._useFeatherIcons()?"picker-switch-with-feathers-icons":"")).trim()).append(this._getToolbar());return this._options.inline&&e.removeClass("dropdown-menu"),this.use24Hours&&e.addClass("usetwentyfour"),(void 0!==this.input&&this.input.prop("readonly")||this._options.readonly)&&e.addClass("bootstrap-datetimepicker-widget-readonly"),this._isEnabled("s")&&!this.use24Hours&&e.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(e.addClass("timepicker-sbs"),"top"===this._options.toolbarPlacement&&e.append(s),e.append(S("<div>").addClass("row").append(t.addClass("col-md-6")).append(i.addClass("col-md-6"))),"bottom"!==this._options.toolbarPlacement&&"default"!==this._options.toolbarPlacement||e.append(s),e):("top"===this._options.toolbarPlacement&&n.append(s),this._hasDate()&&n.append(S("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&"times"===this._options.viewMode?"":"show").append(t)),"default"===this._options.toolbarPlacement&&n.append(s),this._hasTime()&&n.append(S("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&"times"===this._options.viewMode?"show":"").append(i)),"bottom"===this._options.toolbarPlacement&&n.append(s),e.append(n))},t._place=function(e){var t,i=e&&e.data&&e.data.picker||this,n=i._options.widgetPositioning.vertical,s=i._options.widgetPositioning.horizontal,o=(i.component&&i.component.length?i.component:i._element).position(),e=(i.component&&i.component.length?i.component:i._element).offset();if(i._options.widgetParent)t=i._options.widgetParent.append(i.widget);else if(i._element.is("input"))t=i._element.after(i.widget).parent();else{if(i._options.inline)return void(t=i._element.append(i.widget));t=i._element,i._element.children().first().after(i.widget)}if("auto"===n&&(n=e.top+1.5*i.widget.height()>=S(window).height()+S(window).scrollTop()&&i.widget.height()+i._element.outerHeight()<e.top?"top":"bottom"),"auto"===s&&(s=t.width()<e.left+i.widget.outerWidth()/2&&e.left+i.widget.outerWidth()>S(window).width()?"right":"left"),"top"===n?i.widget.addClass("top").removeClass("bottom"):i.widget.addClass("bottom").removeClass("top"),"right"===s?i.widget.addClass("float-right"):i.widget.removeClass("float-right"),0===(t="relative"!==t.css("position")?t.parents().filter(function(){return"relative"===S(this).css("position")}).first():t).length)throw new Error("datetimepicker component should be placed within a relative positioned container");i.widget.css({top:"top"===n?"auto":o.top+i._element.outerHeight()+"px",bottom:"top"===n?t.outerHeight()-(t===i._element?0:o.top)+"px":"auto",left:"left"===s?(t===i._element?0:o.left)+"px":"auto",right:"left"===s?"auto":t.outerWidth()-i._element.outerWidth()-(t===i._element?0:o.left)+"px"})},t._fillDow=function(){var e=S("<tr>"),t=this._viewDate.clone().startOf("w").startOf("d");for(!0===this._options.calendarWeeks&&e.append(S("<th>").addClass("cw").text("#"));t.isBefore(this._viewDate.clone().endOf("w"));)e.append(S("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");this.widget.find(".datepicker-days thead").append(e)},t._fillMonths=function(){for(var e=[],t=this._viewDate.clone().startOf("y").startOf("d");t.isSame(this._viewDate,"y");)e.push(S("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");this.widget.find(".datepicker-months td").empty().append(e)},t._updateMonths=function(){var e=this.widget.find(".datepicker-months"),t=e.find("th"),i=e.find("tbody").find("span"),n=this,s=this._getLastPickedDate();t.eq(0).find("span").attr("title",this._options.tooltips.prevYear),t.eq(1).attr("title",this._options.tooltips.selectYear),t.eq(2).find("span").attr("title",this._options.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled"),t.eq(1).text(this._viewDate.year()),this._isValid(this._viewDate.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled"),i.removeClass("active"),s&&s.isSame(this._viewDate,"y")&&!this.unset&&i.eq(s.month()).addClass("active"),i.each(function(e){n._isValid(n._viewDate.clone().month(e),"M")||S(this).addClass("disabled")})},t._getStartEndYear=function(e,t){var i=e/10,e=Math.floor(t/e)*e;return[e,e+9*i,Math.floor(t/i)*i]},t._updateYears=function(){var e=this.widget.find(".datepicker-years"),t=e.find("th"),i=this._getStartEndYear(10,this._viewDate.year()),n=this._viewDate.clone().year(i[0]),s=this._viewDate.clone().year(i[1]),o="";for(t.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),t.eq(1).attr("title",this._options.tooltips.selectDecade),t.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+s.year()),this._options.maxDate&&this._options.maxDate.isBefore(s,"y")&&t.eq(2).addClass("disabled"),o+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+(n.year()-1)+"</span>";!n.isAfter(s,"y");)o+='<span data-action="selectYear" class="year'+(n.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");o+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"</span>",e.find("td").html(o)},t._updateDecades=function(){var e,t,i,n=this.widget.find(".datepicker-decades"),s=n.find("th"),o=this._getStartEndYear(100,this._viewDate.year()),a=this._viewDate.clone().year(o[0]),r=this._viewDate.clone().year(o[1]),l=this._getLastPickedDate(),u="";for(s.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),s.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(0===a.year()||this._options.minDate&&this._options.minDate.isAfter(a,"y"))&&s.eq(0).addClass("disabled"),s.eq(1).text(a.year()+"-"+r.year()),this._options.maxDate&&this._options.maxDate.isBefore(r,"y")&&s.eq(2).addClass("disabled"),a.year()-10<0?u+="<span>&nbsp;</span>":u+='<span data-action="selectDecade" class="decade old" data-selection="'+(a.year()+6)+'">'+(a.year()-10)+"</span>";!a.isAfter(r,"y");)i=a.year()+11,e=this._options.minDate&&this._options.minDate.isAfter(a,"y")&&this._options.minDate.year()<=i,t=this._options.maxDate&&this._options.maxDate.isAfter(a,"y")&&this._options.maxDate.year()<=i,u+='<span data-action="selectDecade" class="decade'+(l&&l.isAfter(a)&&l.year()<=i?" active":"")+(this._isValid(a,"y")||e||t?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+a.year()+"</span>",a.add(10,"y");u+='<span data-action="selectDecade" class="decade old" data-selection="'+(a.year()+6)+'">'+a.year()+"</span>",n.find("td").html(u)},t._fillDate=function(){l.prototype._fillDate.call(this);var e,t,i,n,s,o=this.widget.find(".datepicker-days"),a=o.find("th"),r=[];if(this._hasDate()){for(a.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),a.eq(1).attr("title",this._options.tooltips.selectMonth),a.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),o.find(".disabled").removeClass("disabled"),a.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||a.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||a.eq(2).addClass("disabled"),e=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),n=0;n<42;n++)0===e.weekday()&&(t=S("<tr>"),this._options.calendarWeeks&&t.append('<td class="cw">'+e.week()+"</td>"),r.push(t)),i="",e.isBefore(this._viewDate,"M")&&(i+=" old"),e.isAfter(this._viewDate,"M")&&(i+=" new"),this._options.allowMultidate?-1!==(s=this._datesFormatted.indexOf(e.format("YYYY-MM-DD")))&&e.isSame(this._datesFormatted[s],"d")&&!this.unset&&(i+=" active"):e.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(i+=" active"),this._isValid(e,"d")||(i+=" disabled"),e.isSame(this.getMoment(),"d")&&(i+=" today"),0!==e.day()&&6!==e.day()||(i+=" weekend"),t.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+i+'">'+e.date()+"</td>"),e.add(1,"d");S("body").addClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),S("body").append('<div class="tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel"></div>'),o.find("tbody").empty().append(r),S("body").find(".tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel").remove(),S("body").removeClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),this._updateMonths(),this._updateYears(),this._updateDecades()}},t._fillHours=function(){var e=this.widget.find(".timepicker-hours table"),t=this._viewDate.clone().startOf("d"),i=[],n=S("<tr>");for(11<this._viewDate.hour()&&!this.use24Hours&&t.hour(12);t.isSame(this._viewDate,"d")&&(this.use24Hours||this._viewDate.hour()<12&&t.hour()<12||11<this._viewDate.hour());)t.hour()%4==0&&(n=S("<tr>"),i.push(n)),n.append('<td data-action="selectHour" class="hour'+(this._isValid(t,"h")?"":" disabled")+'">'+t.format(this.use24Hours?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(i)},t._fillMinutes=function(){for(var e=this.widget.find(".timepicker-minutes table"),t=this._viewDate.clone().startOf("h"),i=[],n=1===this._options.stepping?5:this._options.stepping,s=S("<tr>");this._viewDate.isSame(t,"h");)t.minute()%(4*n)==0&&(s=S("<tr>"),i.push(s)),s.append('<td data-action="selectMinute" class="minute'+(this._isValid(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(n,"m");e.empty().append(i)},t._fillSeconds=function(){for(var e=this.widget.find(".timepicker-seconds table"),t=this._viewDate.clone().startOf("m"),i=[],n=S("<tr>");this._viewDate.isSame(t,"m");)t.second()%20==0&&(n=S("<tr>"),i.push(n)),n.append('<td data-action="selectSecond" class="second'+(this._isValid(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(i)},t._fillTime=function(){var e,t,i=this.widget.find(".timepicker span[data-time-component]"),n=this._getLastPickedDate();this.use24Hours||(e=this.widget.find(".timepicker [data-action=togglePeriod]"),t=n?n.clone().add(12<=n.hours()?-12:12,"h"):void 0,n&&e.text(n.format("A")),this._isValid(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n&&i.filter("[data-time-component=hours]").text(n.format(this.use24Hours?"HH":"hh")),n&&i.filter("[data-time-component=minutes]").text(n.format("mm")),n&&i.filter("[data-time-component=seconds]").text(n.format("ss")),this._fillHours(),this._fillMinutes(),this._fillSeconds()},t._doAction=function(e,t){var i=this._getLastPickedDate();if(S(e.currentTarget).is(".disabled"))return!1;switch(t=t||S(e.currentTarget).data("action")){case"next":var n=q.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(q.DatePickerModes[this.currentViewMode].NAV_STEP,n),this._fillDate(),this._viewUpdate(n);break;case"previous":n=q.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(q.DatePickerModes[this.currentViewMode].NAV_STEP,n),this._fillDate(),this._viewUpdate(n);break;case"pickerSwitch":this._showMode(1);break;case"selectMonth":var s=S(e.target).closest("tbody").find("span").index(S(e.target));this._viewDate.month(s),this.currentViewMode===this.MinViewModeNumber?(this._setValue(i.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("M");break;case"selectYear":s=parseInt(S(e.target).text(),10)||0;this._viewDate.year(s),this.currentViewMode===this.MinViewModeNumber?(this._setValue(i.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDecade":var o=parseInt(S(e.target).data("selection"),10)||0;this._viewDate.year(o),this.currentViewMode===this.MinViewModeNumber?(this._setValue(i.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDay":o=this._viewDate.clone();S(e.target).is(".old")&&o.subtract(1,"M"),S(e.target).is(".new")&&o.add(1,"M");var a=o.date(parseInt(S(e.target).text(),10)),o=0;this._options.allowMultidate?-1!==(o=this._datesFormatted.indexOf(a.format("YYYY-MM-DD")))?this._setValue(null,o):this._setValue(a,this._getLastPickedDateIndex()+1):this._setValue(a,this._getLastPickedDateIndex()),this._hasTime()||this._options.keepOpen||this._options.inline||this._options.allowMultidate||this.hide();break;case"incrementHours":if(!i)break;a=i.clone().add(1,"h");this._isValid(a,"h")&&(this._getLastPickedDateIndex()<0&&this.date(a),this._setValue(a,this._getLastPickedDateIndex()));break;case"incrementMinutes":if(!i)break;var r=i.clone().add(this._options.stepping,"m");this._isValid(r,"m")&&(this._getLastPickedDateIndex()<0&&this.date(r),this._setValue(r,this._getLastPickedDateIndex()));break;case"incrementSeconds":if(!i)break;var l=i.clone().add(1,"s");this._isValid(l,"s")&&(this._getLastPickedDateIndex()<0&&this.date(l),this._setValue(l,this._getLastPickedDateIndex()));break;case"decrementHours":if(!i)break;var u=i.clone().subtract(1,"h");this._isValid(u,"h")&&(this._getLastPickedDateIndex()<0&&this.date(u),this._setValue(u,this._getLastPickedDateIndex()));break;case"decrementMinutes":if(!i)break;var c=i.clone().subtract(this._options.stepping,"m");this._isValid(c,"m")&&(this._getLastPickedDateIndex()<0&&this.date(c),this._setValue(c,this._getLastPickedDateIndex()));break;case"decrementSeconds":if(!i)break;var d=i.clone().subtract(1,"s");this._isValid(d,"s")&&(this._getLastPickedDateIndex()<0&&this.date(d),this._setValue(d,this._getLastPickedDateIndex()));break;case"togglePeriod":this._setValue(i.clone().add(12<=i.hours()?-12:12,"h"),this._getLastPickedDateIndex());break;case"togglePicker":r=S(e.target),l=r.closest("a"),u=r.closest("ul"),c=u.find(".show"),d=u.find(".collapse:not(.show)"),u=r.is("span")?r:r.find("span");if(c&&c.length){if((r=c.data("collapse"))&&r.transitioning)return!0;c.collapse?(c.collapse("hide"),d.collapse("show")):(c.removeClass("show"),d.addClass("show")),this._useFeatherIcons()?(l.toggleClass(this._options.icons.time+" "+this._options.icons.date),d=l.hasClass(this._options.icons.time)?this._options.icons.date:this._options.icons.time,l.html(this._iconTag(d))):u.toggleClass(this._options.icons.time+" "+this._options.icons.date),(this._useFeatherIcons()?l:u).hasClass(this._options.icons.date)?l.attr("title",this._options.tooltips.selectDate):l.attr("title",this._options.tooltips.selectTime)}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":var h=parseInt(S(e.target).text(),10);this.use24Hours||(12<=i.hours()?12!==h&&(h+=12):12===h&&(h=0)),this._setValue(i.clone().hours(h),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("m")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"selectMinute":this._setValue(i.clone().minutes(parseInt(S(e.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("s")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"selectSecond":this._setValue(i.clone().seconds(parseInt(S(e.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"clear":this.clear();break;case"close":this.hide();break;case"today":h=this.getMoment();this._isValid(h,"d")&&this._setValue(h,this._getLastPickedDateIndex())}return!1},t.hide=function(){var e,t=!1;this.widget&&(this.widget.find(".collapse").each(function(){var e=S(this).data("collapse");return!e||!e.transitioning||!(t=!0)}),t||(this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),S(window).off("resize",this._place),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,void 0!==this.input&&void 0!==this.input.val()&&0!==this.input.val().trim().length&&this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!1}),0),e=this._getLastPickedDate(),this._notifyEvent({type:q.Event.HIDE,date:this.unset?null:e?e.clone():void 0}),void 0!==this.input&&this.input.blur(),this._viewDate=e?e.clone():this.getMoment()))},t.show=function(){var e=!1;if(void 0!==this.input){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;void 0!==this.input.val()&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!0}),0):e=!0}else e=!0;e&&this.unset&&this._options.useCurrent&&(e=this.getMoment(),"string"==typeof this._options.useCurrent&&(e={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[this._options.useCurrent](e)),this._setValue(e,0)),this.widget=this._getTemplate(),this._fillDow(),this._fillMonths(),this.widget.find(".timepicker-hours").hide(),this.widget.find(".timepicker-minutes").hide(),this.widget.find(".timepicker-seconds").hide(),this._update(),this._showMode(),S(window).on("resize",{picker:this},this._place),this.widget.on("click","[data-action]",S.proxy(this._doAction,this)),this.widget.on("mousedown",!1),this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this._place(),this.widget.show(),void 0!==this.input&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus(),this._notifyEvent({type:q.Event.SHOW})},t.destroy=function(){this.hide(),this._element.removeData(q.DATA_KEY),this._element.removeData("date")},t.disable=function(){this.hide(),this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!0)},t.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!1)},t.toolbarPlacement=function(e){if(0===arguments.length)return this._options.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===D.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+D.join(", ")+") value");this._options.toolbarPlacement=e,this.widget&&(this.hide(),this.show())},t.widgetPositioning=function(e){if(0===arguments.length)return S.extend({},this._options.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===C.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+C.join(", ")+")");this._options.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===c.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+c.join(", ")+")");this._options.widgetPositioning.vertical=e.vertical}this._update()},t.widgetParent=function(e){if(0===arguments.length)return this._options.widgetParent;if(null!==(e="string"==typeof e?S(e):e)&&"string"!=typeof e&&!(e instanceof S))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=e,this.widget&&(this.hide(),this.show())},t.setMultiDate=function(e){var t=this._options.format;this.clear();for(var i=0;i<e.length;i++){var n=moment(e[i],t);this._setValue(n,i)}},s._jQueryHandleThis=function(e,t,i){var n=S(e).data(q.DATA_KEY);if("object"==typeof t&&S.extend({},q.Default,t),n||(n=new s(S(e),t),S(e).data(q.DATA_KEY,n)),"string"==typeof t){if(void 0===n[t])throw new Error('No method named "'+t+'"');if(void 0===i)return n[t]();"date"===t&&(n.isDateUpdateThroughDateOptionFromClientCode=!0);i=n[t](i);return n.isDateUpdateThroughDateOptionFromClientCode=!1,i}},s._jQueryInterface=function(e,t){return 1===this.length?s._jQueryHandleThis(this[0],e,t):this.each(function(){s._jQueryHandleThis(this,e,t)})},s}(q),S(document).on(q.Event.CLICK_DATA_API,q.Selector.DATA_TOGGLE,function(){var e=S(this),t=E(e),i=t.data(q.DATA_KEY);0!==t.length&&(i._options.allowInputToggle&&e.is('input[data-toggle="datetimepicker"]')||k._jQueryInterface.call(t,"toggle"))}).on(q.Event.CHANGE,"."+q.ClassName.INPUT,function(e){var t=E(S(this));0===t.length||e.isInit||k._jQueryInterface.call(t,"_change",e)}).on(q.Event.BLUR,"."+q.ClassName.INPUT,function(e){var t=E(S(this)),i=t.data(q.DATA_KEY);0!==t.length&&(i._options.debug||window.debug||k._jQueryInterface.call(t,"hide",e))}).on(q.Event.KEYDOWN,"."+q.ClassName.INPUT,function(e){var t=E(S(this));0!==t.length&&k._jQueryInterface.call(t,"_keydown",e)}).on(q.Event.KEYUP,"."+q.ClassName.INPUT,function(e){var t=E(S(this));0!==t.length&&k._jQueryInterface.call(t,"_keyup",e)}).on(q.Event.FOCUS,"."+q.ClassName.INPUT,function(e){var t=E(S(this)),i=t.data(q.DATA_KEY);0!==t.length&&i._options.allowInputToggle&&k._jQueryInterface.call(t,"show",e)}),S.fn[q.NAME]=k._jQueryInterface,S.fn[q.NAME].Constructor=k,S.fn[q.NAME].noConflict=function(){return S.fn[q.NAME]=e,k._jQueryInterface};function E(e){var t=e.data("target");return t||(t=e.attr("href")||"",t=/^#[a-z]/i.test(t)?t:null),0===(t=S(t)).length?e:(t.data(q.DATA_KEY)||S.extend({},t.data(),S(this).data()),t)}}(),function(v,b){var e=function(e,t){var i=this;t=t||{},this.$element=v(e),this.options=v.extend(!0,{},v.fn.ajaxSelectPicker.defaults,t),this.LOG_ERROR=1,this.LOG_WARNING=2,this.LOG_INFO=3,this.LOG_DEBUG=4,this.lastRequest=!1,this.previousQuery="",this.query="",this.request=!1;t=[{from:"ajaxResultsPreHook",to:"preprocessData"},{from:"ajaxSearchUrl",to:{ajax:{url:"{{{value}}}"}}},{from:"ajaxOptions",to:"ajax"},{from:"debug",to:function(e){var t={};t.log=!!i.options[e.from],i.options=v.extend(!0,{},i.options,t),delete i.options[e.from],i.log(i.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',t)}},{from:"mixWithCurrents",to:"preserveSelected"},{from:"placeHolderOption",to:{locale:{emptyTitle:"{{{value}}}"}}}];t.length&&v.map(t,function(e){var t;i.options[e.from]&&(v.isPlainObject(e.to)?(i.replaceValue(e.to,"{{{value}}}",i.options[e.from]),i.options=v.extend(!0,{},i.options,e.to),i.log(i.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',e.to),delete i.options[e.from]):v.isFunction(e.to)?e.to.apply(i,[e]):((t={})[e.to]=i.options[e.from],i.options=v.extend(!0,{},i.options,t),i.log(i.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',t),delete i.options[e.from]))});var n=this.$element.data();n.searchUrl&&(i.log(i.LOG_WARNING,'Deprecated attribute name: "data-search-url". Update markup to use: \' data-abs-ajax-url="'+n.searchUrl+"\" '"),this.options.ajax.url=n.searchUrl);function s(e,t){return t.toLowerCase()}var o=function(e,t,i){var n=[].concat(e),s=n.length,e=i||{};return s&&(e[i=n.shift()]=o(n,t,e[i])),s?e:t},a=Object.keys(n).filter(/./.test.bind(new RegExp("^abs[A-Z]")));if(a.length){for(var r={},l=["locale"],u=0,c=a.length;u<c;u++){var d=a[u].replace(/^abs([A-Z])/,s).replace(/([A-Z])/g,"-$1").toLowerCase(),h=d.split("-");if(h[0]&&1<h.length&&-1!==l.indexOf(h[0])){for(var p=[h.shift()],f="",m=0;m<h.length;m++)f+=0===m?h[m]:h[m].charAt(0).toUpperCase()+h[m].slice(1);p.push(f),h=p}this.log(this.LOG_DEBUG,'Processing data attribute "data-abs-'+d+'":',n[a[u]]),o(h,n[a[u]],r)}this.options=v.extend(!0,{},this.options,r),this.log(this.LOG_DEBUG,"Merged in the data attribute options: ",r,this.options)}if(this.selectpicker=n.selectpicker,!this.selectpicker)return this.log(this.LOG_ERROR,"Cannot instantiate an AjaxBootstrapSelect instance without selectpicker first being initialized!"),null;if(!this.options.ajax.url)return this.log(this.LOG_ERROR,'Option "ajax.url" must be set! Options:',this.options),null;if(this.locale=v.extend(!0,{},v.fn.ajaxSelectPicker.locale),this.options.langCode=this.options.langCode||b.navigator.userLanguage||b.navigator.language||"en",!this.locale[this.options.langCode]){t=this.options.langCode;this.options.langCode="en";var g=t.split("-");for(u=0,c=g.length;u<c;u++){var _=g.join("-");if(_.length&&this.locale[_]){this.options.langCode=_;break}g.pop()}this.log(this.LOG_WARNING,'Unknown langCode option: "'+t+'". Using the following langCode instead: "'+this.options.langCode+'".')}this.locale[this.options.langCode]=v.extend(!0,{},this.locale[this.options.langCode],this.options.locale),this.list=new b.AjaxBootstrapSelectList(this),this.list.refresh(),setTimeout(function(){i.init()},500)};e.prototype.init=function(){var i,n=this;this.options.preserveSelected&&this.selectpicker.$menu.off("click",".actions-btn").on("click",".actions-btn",function(e){(n.selectpicker.options.liveSearch?n.selectpicker.$searchbox:n.selectpicker.$button).focus(),e.preventDefault(),e.stopPropagation(),v(this).is(".bs-select-all")?(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!0),v(n.selectpicker.$lis).not(".disabled").addClass("selected")):(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!1),v(n.selectpicker.$lis).not(".disabled").removeClass("selected")),n.selectpicker.render(),n.selectpicker.$element.change()}),this.selectpicker.$searchbox.attr("placeholder",this.t("searchPlaceholder")).off("input propertychange"),this.selectpicker.$searchbox.on(this.options.bindEvent,function(e){var t=n.selectpicker.$searchbox.val();if(n.log(n.LOG_DEBUG,'Bind event fired: "'+n.options.bindEvent+'", keyCode:',e.keyCode,e),n.options.cache||(n.options.ignoredKeys[13]="enter"),n.options.ignoredKeys[e.keyCode])n.log(n.LOG_DEBUG,"Key ignored.");else if(clearTimeout(i),t.length||(n.options.clearOnEmpty&&n.list.destroy(),n.options.emptyRequest))if(t.length<n.options.minLength)n.list.setStatus(n.t("statusTooShort"));else{if(n.previousQuery=n.query,n.query=t,n.options.cache&&13!==e.keyCode){e=n.list.cacheGet(n.query);if(e)return n.list.setStatus(e.length?"":n.t("statusNoResults")),n.list.replaceOptions(e),void n.log(n.LOG_INFO,"Rebuilt options from cached data.")}i=setTimeout(function(){n.lastRequest&&n.lastRequest.jqXHR&&v.isFunction(n.lastRequest.jqXHR.abort)&&n.lastRequest.jqXHR.abort(),n.request=new b.AjaxBootstrapSelectRequest(n),n.request.jqXHR.always(function(){n.lastRequest=n.request,n.request=!1})},n.options.requestDelay||300)}})},e.prototype.log=function(e,t){if(b.console&&this.options.log){if("number"!=typeof this.options.log)switch("string"==typeof this.options.log&&(this.options.log=this.options.log.toLowerCase()),this.options.log){case!0:case"debug":this.options.log=this.LOG_DEBUG;break;case"info":this.options.log=this.LOG_INFO;break;case"warn":case"warning":this.options.log=this.LOG_WARNING;break;default:case!1:case"error":this.options.log=this.LOG_ERROR}if(e<=this.options.log){var i=[].slice.apply(arguments,[2]);switch(e){case this.LOG_DEBUG:e="debug";break;case this.LOG_INFO:e="info";break;case this.LOG_WARNING:e="warn";break;default:case this.LOG_ERROR:e="error"}var n="["+e.toUpperCase()+"] AjaxBootstrapSelect:";"string"==typeof t?i.unshift(n+" "+t):(i.unshift(t),i.unshift(n)),b.console[e].apply(b.console,i)}}},e.prototype.replaceValue=function(i,n,s,o){var a=this;o=v.extend({recursive:!0,depth:!1,limit:!1},o),v.each(i,function(e,t){return!(!1!==o.limit&&"number"==typeof o.limit&&o.limit<=0)&&void(v.isArray(i[e])||v.isPlainObject(i[e])?(o.recursive&&!1===o.depth||o.recursive&&"number"==typeof o.depth&&0<o.depth)&&a.replaceValue(i[e],n,s,o):t===n&&(!1!==o.limit&&"number"==typeof o.limit&&o.limit--,i[e]=s))})},e.prototype.t=function(e,t){return t=t||this.options.langCode,this.locale[t]&&Object.prototype.hasOwnProperty.call(this.locale[t],e)?this.locale[t][e]:(this.log(this.LOG_WARNING,"Unknown translation key:",e),e)},b.AjaxBootstrapSelect=b.AjaxBootstrapSelect||e;e=function(i){var n=this;this.$status=v(i.options.templates.status).hide().appendTo(i.selectpicker.$menu);var e=i.t("statusInitialized");e&&e.length&&this.setStatus(e),this.cache={},this.plugin=i,this.selected=[],this.title=null,this.selectedTextFormat=i.selectpicker.options.selectedTextFormat;var s=[];i.$element.find("option").each(function(){var e=v(this),t=e.attr("value");s.push({value:t,text:e.text(),class:e.attr("class")||"",data:e.data()||{},preserved:i.options.preserveSelected,selected:!!e.attr("selected")})}),this.cacheSet("",s),i.options.preserveSelected&&(n.selected=s,i.$element.on("change.abs.preserveSelected",function(e){var t=i.$element.find(":selected");n.selected=[],(t=!i.selectpicker.multiple?t.last():t).each(function(){var e=v(this),t=e.attr("value");n.selected.push({value:t,text:e.text(),class:e.attr("class")||"",data:e.data()||{},preserved:!0,selected:!0})}),n.replaceOptions(n.cacheGet(n.plugin.query))}))};e.prototype.build=function(e){var t,i,n=e.length,s=v("<select/>"),o=v("<optgroup/>").attr("label",this.plugin.t("currentlySelected"));for(this.plugin.log(this.plugin.LOG_DEBUG,"Building the select list options from data:",e),i=0;i<n;i++){var a=e[i],r=v("<option/>").appendTo(a.preserved?o:s);if(Object.prototype.hasOwnProperty.call(a,"divider"))r.attr("data-divider","true");else for(t in r.val(a.value).text(a.text),a.title&&r.attr("title",a.title),a.class.length&&r.attr("class",a.class),a.disabled&&r.attr("disabled",!0),a.selected&&!this.plugin.selectpicker.multiple&&s.find(":selected").prop("selected",!1),a.selected&&r.attr("selected",!0),a.data)Object.prototype.hasOwnProperty.call(a.data,t)&&r.attr("data-"+t,a.data[t])}o.find("option").length&&o["before"===this.plugin.options.preserveSelectedPosition?"prependTo":"appendTo"](s);var l=s.html();return this.plugin.log(this.plugin.LOG_DEBUG,l),l},e.prototype.cacheGet=function(e,t){t=this.cache[e]||t;return this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",e,t),t},e.prototype.cacheSet=function(e,t){this.cache[e]=t,this.plugin.log(this.LOG_DEBUG,"Saving to cache:",e,t)},e.prototype.destroy=function(){this.replaceOptions(),this.plugin.list.setStatus(),this.plugin.log(this.plugin.LOG_DEBUG,"Destroyed select list.")},e.prototype.refresh=function(e){this.plugin.selectpicker.$menu.css("minHeight",0),this.plugin.selectpicker.$menu.find("> .inner").css("minHeight",0);var t=this.plugin.t("emptyTitle");!this.plugin.$element.find("option").length&&t&&t.length?this.setTitle(t):(this.title||"static"!==this.selectedTextFormat&&this.selectedTextFormat!==this.plugin.selectpicker.options.selectedTextFormat)&&this.restoreTitle(),this.plugin.selectpicker.refresh(),this.plugin.selectpicker.findLis(),e&&(this.plugin.log(this.plugin.LOG_DEBUG,"Triggering Change"),this.plugin.$element.trigger("change.$")),this.plugin.log(this.plugin.LOG_DEBUG,"Refreshed select list.")},e.prototype.replaceOptions=function(e){var t,i,n,s,o="",a=[],r=[];if(e=e||[],this.selected&&this.selected.length){for(this.plugin.log(this.plugin.LOG_INFO,"Processing preserved selections:",this.selected),i=(s=[].concat(this.selected,e)).length,t=0;t<i;t++)n=s[t],Object.prototype.hasOwnProperty.call(n,"value")&&-1===r.indexOf(n.value+"")?(r.push(n.value+""),a.push(n)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.");e=a}e.length&&(o=this.plugin.list.build(e)),this.plugin.$element.html(o),this.refresh(),this.plugin.log(this.plugin.LOG_DEBUG,"Replaced options with data:",e)},e.prototype.restore=function(){var e=this.plugin.list.cacheGet(this.plugin.previousQuery);return e&&this.plugin.list.replaceOptions(e)&&this.plugin.log(this.plugin.LOG_DEBUG,"Restored select list to the previous query: ",this.plugin.previousQuery),this.plugin.log(this.plugin.LOG_DEBUG,"Unable to restore select list to the previous query:",this.plugin.previousQuery),!1},e.prototype.restoreTitle=function(){this.plugin.request||(this.plugin.selectpicker.options.selectedTextFormat=this.selectedTextFormat,this.title?this.plugin.$element.attr("title",this.title):this.plugin.$element.removeAttr("title"),this.title=null)},e.prototype.setTitle=function(e){this.plugin.request||(this.title=this.plugin.$element.attr("title"),this.plugin.selectpicker.options.selectedTextFormat="static",this.plugin.$element.attr("title",e))},e.prototype.setStatus=function(e){(e=e||"").length?this.$status.html(e).show():this.$status.html("").hide()},b.AjaxBootstrapSelectList=b.AjaxBootstrapSelectList||e;e=function(e){var t,i=this,n=["beforeSend","success","error","complete"],s=n.length;for(this.plugin=e,this.options=v.extend(!0,{},e.options.ajax),this.callbacks={},t=0;t<s;t++){var o=n[t];this.options[o]&&v.isFunction(this.options[o])&&(this.callbacks[o]=this.options[o]),this.options[o]=function(e){return function(){i.plugin.log(i.plugin.LOG_INFO,"Invoking AjaxBootstrapSelectRequest."+e+" callback:",arguments),i[e].apply(i,arguments),i.callbacks[e]&&(i.plugin.log(i.plugin.LOG_INFO,"Invoking ajax."+e+" callback:",arguments),i.callbacks[e].apply(i,arguments))}}(o)}this.options.data&&v.isFunction(this.options.data)&&(this.options.data=this.options.data.apply(this)||{q:"{{{q}}}"}),this.plugin.replaceValue(this.options.data,"{{{q}}}",this.plugin.query),this.options.url&&v.isFunction(this.options.url)&&(this.options.url=this.options.url.apply(this)),this.jqXHR=v.ajax(this.options)};e.prototype.beforeSend=function(e){this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusSearching"))},e.prototype.complete=function(e,t){if("abort"!==t){t=this.plugin.list.cacheGet(this.plugin.query);if(t){if(!t.length)return this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusNoResults")),void this.plugin.log(this.plugin.LOG_INFO,"No results were returned.");this.plugin.list.setStatus()}this.plugin.list.refresh(!0)}},e.prototype.error=function(e,t,i){"abort"!==t&&(this.plugin.list.cacheSet(this.plugin.query),this.plugin.options.clearOnError&&this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("errorText")),this.plugin.options.restoreOnError&&(this.plugin.list.restore(),this.plugin.list.setStatus()))},e.prototype.process=function(e){var t,i,n,s,o,a=[],r=[];if(this.plugin.log(this.plugin.LOG_INFO,"Processing raw data for:",this.plugin.query,e),o=e,v.isFunction(this.plugin.options.preprocessData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking preprocessData callback:",this.plugin.options.processData),null!=(n=this.plugin.options.preprocessData.apply(this,[o]))&&!1!==n&&(o=n)),!v.isArray(o))return this.plugin.log(this.plugin.LOG_ERROR,'The data returned is not an Array. Use the "preprocessData" callback option to parse the results and construct a proper array for this plugin.',o),!1;for(i=o.length,t=0;t<i;t++)s=o[t],this.plugin.log(this.plugin.LOG_DEBUG,"Processing item:",s),v.isPlainObject(s)&&(Object.prototype.hasOwnProperty.call(s,"divider")||Object.prototype.hasOwnProperty.call(s,"data")&&v.isPlainObject(s.data)&&s.data.divider?(this.plugin.log(this.plugin.LOG_DEBUG,"Item is a divider, ignoring provided data."),a.push({divider:!0})):Object.prototype.hasOwnProperty.call(s,"value")?-1===r.indexOf(s.value+"")?(r.push(s.value+""),s=v.extend({text:s.value,class:"",data:{},disabled:!1,selected:!1},s),a.push(s)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring."):this.plugin.log(this.plugin.LOG_DEBUG,'Data item must have a "value" property, skipping.'));if(e=[].concat(a),v.isFunction(this.plugin.options.processData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking processData callback:",this.plugin.options.processData),null!=(n=this.plugin.options.processData.apply(this,[e]))&&!1!==n)){if(!v.isArray(n))return this.plugin.log(this.plugin.LOG_ERROR,"The processData callback did not return an array.",n),!1;e=n}return this.plugin.list.cacheSet(this.plugin.query,e),this.plugin.log(this.plugin.LOG_INFO,"Processed data:",e),e},e.prototype.success=function(e,t,i){if(!v.isArray(e)&&!v.isPlainObject(e))return this.plugin.log(this.plugin.LOG_ERROR,"Request did not return a JSON Array or Object.",e),void this.plugin.list.destroy();e=this.process(e);this.plugin.list.replaceOptions(e)},b.AjaxBootstrapSelectRequest=b.AjaxBootstrapSelectRequest||e,v.fn.ajaxSelectPicker=function(e){return this.each(function(){v(this).data("AjaxBootstrapSelect")||v(this).data("AjaxBootstrapSelect",new b.AjaxBootstrapSelect(this,e))})},v.fn.ajaxSelectPicker.locale={},v.fn.ajaxSelectPicker.defaults={ajax:{url:null,type:"POST",dataType:"json",data:{q:"{{{q}}}"}},minLength:0,bindEvent:"keyup",cache:!0,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!1,ignoredKeys:{9:"tab",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",91:"meta"},langCode:null,locale:null,log:"error",preprocessData:function(){},preserveSelected:!0,preserveSelectedPosition:"after",processData:function(){},requestDelay:300,restoreOnError:!1,templates:{status:'<div class="status"></div>'}},v.fn.ajaxSelectPicker.locale["en-US"]={currentlySelected:"Currently Selected",emptyTitle:"Select and begin typing",errorText:"Unable to retrieve results",searchPlaceholder:"Search...",statusInitialized:"Start typing a search query",statusNoResults:"No Results",statusSearching:"Searching...",statusTooShort:"Please enter more characters"},v.fn.ajaxSelectPicker.locale.en=v.fn.ajaxSelectPicker.locale["en-US"]}(jQuery,window),function(o){function t(e){this.value={h:1,s:1,b:1,a:1},this.setColor(e)}t.prototype={constructor:t,setColor:function(n){n=n.toLowerCase();var s=this;o.each(a.stringParsers,function(e,t){var i=t.re.exec(n),i=i&&t.parse(i),t=t.space||"rgba";if(i)return s.value="hsla"===t?a.RGBtoHSB.apply(null,a.HSLtoRGB.apply(null,i)):a.RGBtoHSB.apply(null,i),!1})},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,i,n){var s,o,a;return e||(e=this.value.h,t=this.value.s,i=this.value.b),e=(e*=360)%360/60,i=s=o=i-(a=i*t),i+=[a,t=a*(1-Math.abs(e%2-1)),0,0,t,a][e=~~e],s+=[t,a,a,t,0,0][e],o+=[0,0,t,a,a,t][e],{r:Math.round(255*i),g:Math.round(255*s),b:Math.round(255*o),a:n||this.value.a}},toHex:function(e,t,i,n){n=this.toRGB(e,t,i,n);return"#"+(1<<24|parseInt(n.r)<<16|parseInt(n.g)<<8|parseInt(n.b)).toString(16).substr(1)},toHSL:function(e,t,i,n){e||(e=this.value.h,t=this.value.s,i=this.value.b);var s=(2-t)*i,i=t*i;return{h:e,s:i=1<(i/=0<s&&s<=1?s:2-s)?1:i,l:s/=2,a:n||this.value.a}}};function s(e,t){this.element=o(e),t=t.format||this.element.data("color-format")||"hex",this.format=a.translateFormats[t],this.isInput=this.element.is("input"),this.component=!!this.element.is(".color")&&this.element.find(".add-on"),this.picker=o(a.template).appendTo("body").on("mousedown",o.proxy(this.mousedown,this)),this.isInput?this.element.on({focus:o.proxy(this.show,this),keyup:o.proxy(this.update,this)}):(this.component||this.element).on({click:o.proxy(this.show,this)}),"rgba"!==t&&"hsla"!==t||(this.picker.addClass("alpha"),this.alpha=this.picker.find(".colorpicker-alpha")[0].style),this.component?(this.picker.find(".colorpicker-color").hide(),this.preview=this.element.find("i")[0].style):this.preview=this.picker.find("div:last")[0].style,this.base=this.picker.find("div:first")[0].style,this.update()}s.prototype={constructor:s,show:function(e){this.picker.show(),this.height=(this.component||this.element).outerHeight(),this.place(),o(window).on("resize",o.proxy(this.place,this)),this.isInput||e&&(e.stopPropagation(),e.preventDefault()),o(document).on({mousedown:o.proxy(this.hide,this)}),this.element.trigger({type:"show",color:this.color})},update:function(){this.color=new t(this.isInput?this.element.prop("value"):this.element.data("color")),this.picker.find("i").eq(0).css({left:100*this.color.value.s,top:100-100*this.color.value.b}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a)),this.previewColor()},setValue:function(e){this.color=new t(e),this.picker.find("i").eq(0).css({left:100*this.color.value.s,top:100-100*this.color.value.b}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a)),this.previewColor(),this.element.trigger({type:"changeColor",color:this.color})},hide:function(){this.picker.hide(),o(window).off("resize",this.place),this.isInput?this.element.prop("value",this.format.call(this)):(o(document).off({mousedown:this.hide}),this.component&&this.element.find("input").prop("value",this.format.call(this)),this.element.data("color",this.format.call(this))),this.element.trigger({type:"hide",color:this.color})},place:function(){var e=(this.component||this.element).offset();this.picker.css({top:e.top+this.height,left:e.left})},previewColor:function(){try{this.preview.backgroundColor=this.format.call(this)}catch(e){this.preview.backgroundColor=this.color.toHex()}this.base.backgroundColor=this.color.toHex(this.color.value.h,1,1,1),this.alpha&&(this.alpha.backgroundColor=this.color.toHex())},pointer:null,slider:null,mousedown:function(e){e.stopPropagation(),e.preventDefault();var t=o(e.target).closest("div");if(!t.is(".colorpicker")){if(t.is(".colorpicker-saturation"))this.slider=o.extend({},a.sliders.saturation);else if(t.is(".colorpicker-hue"))this.slider=o.extend({},a.sliders.hue);else{if(!t.is(".colorpicker-alpha"))return!1;this.slider=o.extend({},a.sliders.alpha)}var i=t.offset();this.slider.knob=t.find("i")[0].style,this.slider.left=e.pageX-i.left,this.slider.top=e.pageY-i.top,this.pointer={left:e.pageX,top:e.pageY},o(document).on({mousemove:o.proxy(this.mousemove,this),mouseup:o.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((e.pageX||this.pointer.left)-this.pointer.left))),e=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((e.pageY||this.pointer.top)-this.pointer.top)));return this.slider.knob.left=t+"px",this.slider.knob.top=e+"px",this.slider.callLeft&&this.color[this.slider.callLeft].call(this.color,t/100),this.slider.callTop&&this.color[this.slider.callTop].call(this.color,e/100),this.previewColor(),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),o(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),!1}},o.fn.colorpicker=function(i,n){return this.each(function(){var e=o(this),t=e.data("colorpicker");t||e.data("colorpicker",t=new s(this,o.extend({},o.fn.colorpicker.defaults,"object"==typeof i&&i))),"string"==typeof i&&t[i](n)})},o.fn.colorpicker.defaults={},o.fn.colorpicker.Constructor=s;var a={translateFormats:{rgb:function(){var e=this.color.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.color.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hsl:function(){var e=this.color.toHSL();return"hsl("+Math.round(360*e.h)+","+Math.round(100*e.s)+"%,"+Math.round(100*e.l)+"%)"},hsla:function(){var e=this.color.toHSL();return"hsla("+Math.round(360*e.h)+","+Math.round(100*e.s)+"%,"+Math.round(100*e.l)+"%,"+e.a+")"},hex:function(){return this.color.toHex()}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},RGBtoHSB:function(e,t,i,n){var s,o;return e/=255,t/=255,i/=255,{h:((0==(o=(s=Math.max(e,t,i))-Math.min(e,t,i))?null:s==e?(t-i)/o:s==t?(i-e)/o+2:(e-t)/o+4)+360)%6*60/360||1,s:0==o?0:o/s,b:s,a:n||1}},HueToRGB:function(e,t,i){return i<0?i+=1:1<i&&--i,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},HSLtoRGB:function(e,t,i,n){t<0&&(t=0);var s,o=2*i-(s=i<=.5?i*(1+t):i+t-i*t),i=e,t=e-1/3;return[Math.round(255*a.HueToRGB(o,s,e+1/3)),Math.round(255*a.HueToRGB(o,s,i)),Math.round(255*a.HueToRGB(o,s,t)),n||1]},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}}],template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'}}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){c.extend(c.fn,{validate:function(e){if(this.length){var n=c.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new c.validator(e,this[0]),c.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.submitButton=e.currentTarget,c(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(e=c("<input type='hidden'/>").attr("name",n.submitButton.name).val(c(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(t=n.settings.submitHandler.call(n,n.currentForm,i),e&&e.remove(),void 0!==t&&t)}return n.settings.debug&&i.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,e()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):e():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return c(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(i=i.concat(t.errorList))}),t.errorList=i),e},rules:function(e,t){var i,n,s,o,a,r=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=r&&(!r.form&&l&&(r.form=this.closest("form")[0],r.name=this.attr("name")),null!=r.form)){if(e)switch(n=(i=c.data(r.form,"validator").settings).rules,s=c.validator.staticRules(r),e){case"add":c.extend(s,c.validator.normalizeRule(t)),delete s.messages,n[r.name]=s,t.messages&&(i.messages[r.name]=c.extend(i.messages[r.name],t.messages));break;case"remove":return t?(a={},c.each(t.split(/\s/),function(e,t){a[t]=s[t],delete s[t]}),a):(delete n[r.name],s)}return(e=c.validator.normalizeRules(c.extend({},c.validator.classRules(r),c.validator.attributeRules(r),c.validator.dataRules(r),c.validator.staticRules(r)),r)).required&&(o=e.required,delete e.required,e=c.extend({required:o},e)),e.remote&&(o=e.remote,delete e.remote,e=c.extend(e,{remote:o})),e}}});function t(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var i;c.extend(c.expr.pseudos||c.expr[":"],{blank:function(e){return!t(""+c(e).val())},filled:function(e){e=c(e).val();return null!==e&&!!t(""+e)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(i,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(i),c.validator.format.apply(this,e)}:(void 0===e||((e=2<arguments.length&&e.constructor!==Array?c.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),c.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),i)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),afterValidate:function(){},onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):c(e)).addClass(t).removeClass(i)},unhighlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):c(e)).removeClass(t).addClass(i)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,s=this.currentForm,n=this.groups={};function e(e){var t,i,n=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");!this.form&&n&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name")),s===this.form&&(t=c.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),(n=t.settings)[i]&&!c(this).is(n.ignore)&&n[i].call(t,this,e))}c.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){n[t]=i})}),i=this.settings.rules,c.each(i,function(e,t){i[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,i,n=this.clean(e),s=this.validationTargetFor(n),o=this,a=!0;return void 0===s?delete this.invalid[n.name]:(this.prepareElement(s),this.currentElements=c(s),(i=this.groups[s.name])&&c.each(this.groups,function(e,t){t===i&&e!==s.name&&(n=o.validationTargetFor(o.clean(o.findByName(e))))&&n.name in o.invalid&&(o.currentElements.push(n),a=o.check(n)&&a)}),t=!1!==this.check(s),a=a&&t,this.invalid[s.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),a},showErrors:function(t){var i;t&&(c.extend((i=this).errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors(),this.settings.afterValidate.call(this,this.errorList,this.elements())},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var i=this,n={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name"),t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");return!e&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=c(this).closest("form")[0],this.name=e),this.form===i.currentForm&&(!(e in n||!i.objectLength(c(this).rules()))&&(n[e]=!0))})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=c(e),i=e.type,n=void 0!==t.attr("contenteditable")&&"false"!==t.attr("contenteditable");return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&void 0!==e.validity?e.validity.badInput?"NaN":t.val():(n=n?t.text():t.val(),n=e.hasAttribute("contenteditable")?t.text():t.val(),"file"===i?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):0<=(i=n.lastIndexOf("/"))||0<=(i=n.lastIndexOf("\\"))?n.substr(i+1):n:"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,n,s,o=c(t).rules(),a=c.map(o,function(e,t){return t}).length,r=!1,l=this.elementValue(t);for(i in"function"==typeof o.normalizer?s=o.normalizer:"function"==typeof this.settings.normalizer&&(s=this.settings.normalizer),s&&(l=s.call(t,l),delete o.normalizer),o){n={method:i,parameters:o[i]};try{if("dependency-mismatch"===(e=c.validator.methods[i].call(this,l,t,n.parameters))&&1===a){r=!0;continue}if(r=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!r)return this.objectLength(o)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){var i=this.findDefined(this.customMessage(e.name,(t="string"==typeof t?{method:t}:t).method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=c.validator.format(i.replace(n,"{$1}"),t.parameters)),i},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t,i=0;this.errorList[i];i++)t=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,e=this.validElements();e[i];i++)this.settings.unhighlight.call(this,e[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,n,s,o=this.errorsFor(e),a=this.idOrName(e),r=c(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(t)):(i=o=c("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,c(e)):i.insertAfter(e),o.is("label")?o.attr("for",a):0===o.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(a=o.attr("id"),r?r.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(r+=" "+a):r=a,c(e).attr("aria-describedby",r),(n=this.groups[e.name])&&c.each((s=this).groups,function(e,t){t===n&&c("[name='"+s.escapeCssMeta(e)+"']",s.currentForm).attr("aria-describedby",o.attr("id"))}))),!t&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),e=c(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(t)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=c(e).attr("class");return e&&c.each(e.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,n={},s=c(e),o=e.getAttribute("type");for(t in c.validator.methods)i="required"===t?!!(i=""===(i=e.getAttribute(t))?!0:i):s.attr(t),this.normalizeAttributeRule(n,o,t,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var t,i,n={},s=c(e),o=e.getAttribute("type");for(t in c.validator.methods)""===(i=s.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(n,o,t,i);return n},staticRules:function(e){var t={},i=c.data(e.form,"validator");return t=i.settings.rules?c.validator.normalizeRule(i.settings.rules[e.name])||{}:t},normalizeRules:function(n,s){return c.each(n,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!c(t.depends,s.form).length;break;case"function":i=t.depends.call(s,s)}i?n[e]=void 0===t.param||t.param:(c.data(s.form,"validator").resetElements(c(s)),delete n[e])}}else delete n[e]}),c.each(n,function(e,t){n[e]="function"==typeof t&&"normalizer"!==e?t(s):t}),c.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),c.each(["rangelength","range"],function(){var e;n[this]&&(Array.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(e=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=n.min&&null!=n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),null!=n.minlength&&null!=n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},c.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,i){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==i?i:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length;t=c(t).val();return t&&0<t.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(i=!1,function(e,t){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,i){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=e},maxlength:function(e,t,i){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=i},rangelength:function(e,t,i){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=i[0]&&e<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(e,t,i){function n(e){return(e=(""+e).match(/(?:\.(\d+))?$/))&&e[1]?e[1].length:0}function s(e){return Math.round(e*Math.pow(10,o))}var o,a=c(t).attr("type"),r="Step attribute on input type "+a+" is not supported.",l=new RegExp("\\b"+a+"\\b"),u=!0;if(a&&!l.test(["text","number","range"].join()))throw new Error(r);return o=n(i),(n(e)>o||s(e)%s(i)!=0)&&(u=!1),this.optional(t)||u},equalTo:function(e,t,i){i=c(i);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===i.val()},remote:function(n,s,e,o){if(this.optional(s))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var a,t,r=this.previousValue(s,o);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),r.originalMessage=r.originalMessage||this.settings.messages[s.name][o],this.settings.messages[s.name][o]=r.message,t=c.param(c.extend({data:n},(e="string"==typeof e?{url:e}:e).data)),r.old===t?r.valid:(r.old=t,(a=this).startRequest(s),(t={})[s.name]=n,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:t,context:a.currentForm,success:function(e){var t,i=!0===e||"true"===e;a.settings.messages[s.name][o]=r.originalMessage,i?(t=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(s),a.formSubmitted=t,a.successList.push(s),a.invalid[s.name]=!1,a.showErrors()):(t={},e=e||a.defaultMessage(s,{method:o,parameters:n}),t[s.name]=r.message=e,a.invalid[s.name]=!0,a.showErrors(t)),r.valid=i,a.stopRequest(s,i)}},e)),"pending")}}});var n,s={};return c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(s[n]&&s[n].abort(),s[n]=i)}):(n=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,i=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(s[i]&&s[i].abort(),s[i]=n.apply(this,arguments),s[i]):n.apply(this,arguments)}),c}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(r){function s(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-âââ]*/g,"")}return r.validator.addMethod("maxWords",function(e,t,i){return this.optional(t)||s(e).match(/\b\w+\b/g).length<=i},r.validator.format("Please enter {0} words or less.")),r.validator.addMethod("minWords",function(e,t,i){return this.optional(t)||s(e).match(/\b\w+\b/g).length>=i},r.validator.format("Please enter at least {0} words.")),r.validator.addMethod("rangeWords",function(e,t,i){var n=s(e),e=/\b\w+\b/g;return this.optional(t)||n.match(e).length>=i[0]&&n.match(e).length<=i[1]},r.validator.format("Please enter between {0} and {1} words.")),r.validator.addMethod("abaRoutingNumber",function(e){var t=0,i=e.split(""),n=i.length;if(9!==n)return!1;for(var s=0;s<n;s+=3)t+=3*parseInt(i[s],10)+7*parseInt(i[s+1],10)+parseInt(i[s+2],10);return 0!==t&&t%10==0},"Please enter a valid routing number."),r.validator.addMethod("accept",function(e,t,i){var n,s,o="string"==typeof i?i.replace(/\s/g,""):"image/*",i=this.optional(t);if(i)return i;if("file"===r(t).attr("type")&&(o=o.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),t.files&&t.files.length))for(s=new RegExp(".?("+o+")$","i"),n=0;n<t.files.length;n++)if(!t.files[n].type.match(s))return!1;return!0},r.validator.format("Please enter a value with a valid mimetype.")),r.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),r.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;for(var i=e.replace(/ /g,""),n=0,s=i.length,o=0;o<s;o++)n+=(s-o)*i.substring(o,o+1);return n%11==0},"Please specify a valid bank account number"),r.validator.addMethod("bankorgiroaccountNL",function(e,t){return this.optional(t)||r.validator.methods.bankaccountNL.call(this,e,t)||r.validator.methods.giroaccountNL.call(this,e,t)},"Please specify a valid bank or giro account number"),r.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),r.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var i,n,s=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),o=e.substring(0,1),a=e.substring(1,8),t=e.substring(8,9),r=0,l=0;if(9!==e.length||!s.test(e))return!1;for(i=0;i<a.length;i++)n=parseInt(a[i],10),i%2==0?l+=(n*=2)<10?n:n-9:r+=n;return s=(10-(r+l).toString().substr(-1)).toString(),s=9<parseInt(s,10)?"0":s,e="JABCDEFGHI".substr(s,1).toString(),o.match(/[ABEH]/)?t===s:!o.match(/[KPQS]/)&&t===s||t===e},"Please specify a valid CIF number."),r.validator.addMethod("cnhBR",function(e){if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var t,i,n,s=0,o=0,a=e.charAt(0);if(new Array(12).join(a)===e)return!1;for(n=9,i=0;i<9;++i,--n)s+=+e.charAt(i)*n;for(10<=(t=s%11)&&(t=0,o=2),i=s=0,n=1;i<9;++i,++n)s+=+e.charAt(i)*n;return 10<=(a=s%11)?a=0:a-=o,String(t).concat(a)===e.substr(-2)},"Please specify a valid CNH number"),r.validator.addMethod("cnpjBR",function(e,t){"use strict";if(this.optional(t))return!0;if(14!==(e=e.replace(/[^\d]+/g,"")).length)return!1;if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var i=e.length-2,n=e.substring(0,i),t=e.substring(i),s=0,o=i-7,a=i;1<=a;a--)s+=n.charAt(i-a)*o--,o<2&&(o=9);if((s%11<2?0:11-s%11)!==parseInt(t.charAt(0),10))return!1;for(var n=e.substring(0,i+=1),s=0,o=i-7,r=i;1<=r;r--)s+=n.charAt(i-r)*o--,o<2&&(o=9);return(s%11<2?0:11-s%11)===parseInt(t.charAt(1),10)},"Please specify a CNPJ value number"),r.validator.addMethod("cpfBR",function(e,t){"use strict";if(this.optional(t))return!0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var i,n=0,s=parseInt(e.substring(9,10),10),o=parseInt(e.substring(10,11),10),t=function(e,t){e=10*e%11;return(e=10===e||11===e?0:e)===t};if(""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(i=1;i<=9;i++)n+=parseInt(e.substring(i-1,i),10)*(11-i);if(t(n,s)){for(n=0,i=1;i<=10;i++)n+=parseInt(e.substring(i-1,i),10)*(12-i);return t(n,o)}return!1},"Please specify a valid CPF number"),r.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,n,s=0,o=0,a=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(i=e.length-1;0<=i;i--)n=e.charAt(i),o=parseInt(n,10),a&&9<(o*=2)&&(o-=9),s+=o,a=!a;return s%10==0},"Please enter a valid credit card number."),r.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),1&(n=i.all?255:n)&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))||2&n&&/^(4)/.test(e)?16===e.length:4&n&&/^(3[47])/.test(e)?15===e.length:8&n&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&n&&/^(2(014|149))/.test(e)?15===e.length:32&n&&/^(6011)/.test(e)||64&n&&/^(3)/.test(e)?16===e.length:64&n&&/^(2131|1800)/.test(e)?15===e.length:!!(128&n)},"Please enter a valid credit card number."),r.validator.addMethod("currency",function(e,t,i){var n="string"==typeof i,s=n?i:i[0],i=n||i[1],s=s.replace(/,/g,""),s="^["+(s=i?s+"]":s+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";return s=new RegExp(s),this.optional(t)||s.test(e)},"Please specify a valid currency"),r.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},r.validator.messages.date),r.validator.addMethod("dateITA",function(e,t){var i,n,s,o=!1,o=!!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)&&(s=e.split("/"),i=parseInt(s[0],10),n=parseInt(s[1],10),e=parseInt(s[2],10),(s=new Date(Date.UTC(e,n-1,i,12,0,0,0))).getUTCFullYear()===e&&s.getUTCMonth()===n-1&&s.getUTCDate()===i);return this.optional(t)||o},r.validator.messages.date),r.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},r.validator.messages.date),r.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},r.validator.format("Please enter a value with a valid extension.")),r.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),r.validator.addMethod("greaterThan",function(e,t,i){i=r(i);return this.settings.onfocusout&&i.not(".validate-greaterThan-blur").length&&i.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){r(t).valid()}),parseFloat(e)>parseFloat(i.val())},"Please enter a greater value."),r.validator.addMethod("greaterThanEqual",function(e,t,i){i=r(i);return this.settings.onfocusout&&i.not(".validate-greaterThanEqual-blur").length&&i.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){r(t).valid()}),e>=i.val()},"Please enter a greater value."),r.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,n,s,o,t=e.replace(/ /g,"").toUpperCase(),a="",r=!0,l="";if(t.length<5)return!1;if(void 0!==(e={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[t.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+e+"$","").test(t))return!1;for(i=t.substring(4,t.length)+t.substring(0,4),s=0;s<i.length;s++)(r="0"!==(n=i.charAt(s))?!1:r)||(a+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(o=0;o<a.length;o++)l=(""+l+a.charAt(o))%97;return 1===l},"Please specify a valid IBAN"),r.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),r.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),r.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),r.validator.addMethod("lessThan",function(e,t,i){i=r(i);return this.settings.onfocusout&&i.not(".validate-lessThan-blur").length&&i.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){r(t).valid()}),e<i.val()},"Please enter a lesser value."),r.validator.addMethod("lessThanEqual",function(e,t,i){i=r(i);return this.settings.onfocusout&&i.not(".validate-lessThanEqual-blur").length&&i.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){r(t).valid()}),e<=i.val()},"Please enter a lesser value."),r.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),r.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),r.validator.addMethod("maxfiles",function(e,t,i){return!!this.optional(t)||!("file"===r(t).attr("type")&&t.files&&t.files.length>i)},r.validator.format("Please select no more than {0} files.")),r.validator.addMethod("maxsize",function(e,t,i){if(this.optional(t))return!0;if("file"===r(t).attr("type")&&t.files&&t.files.length)for(var n=0;n<t.files.length;n++)if(t.files[n].size>i)return!1;return!0},r.validator.format("File size must not exceed {0} bytes each.")),r.validator.addMethod("maxsizetotal",function(e,t,i){if(this.optional(t))return!0;if("file"===r(t).attr("type")&&t.files&&t.files.length)for(var n=0,s=0;s<t.files.length;s++)if(i<(n+=t.files[s].size))return!1;return!0},r.validator.format("Total size of all files must not exceed {0} bytes.")),r.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),r.validator.addMethod("mobileRU",function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||9<e.length&&/^((\+7|7|8)+([0-9]){10})$/.test(e)},"Please specify a valid mobile number"),r.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),r.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),r.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var i=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),t=e.substr(e.length-1).toUpperCase();return!(10<(e=e.toString().toUpperCase()).length||e.length<9||!i.test(e))&&(e=9===(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(e,10)%23)===t)},"Please specify a valid NIE number."),r.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23))},"Please specify a valid NIF number."),r.validator.addMethod("nipPL",function(e){"use strict";if(10!==(e=e.replace(/[^0-9]/g,"")).length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],i=0,n=0;n<9;n++)i+=t[n]*e[n];var s=i%11;return(10==s?0:s)===parseInt(e[9],10)},"Please specify a valid NIP number."),r.validator.addMethod("nisBR",function(e){var t,i,n,s,o=0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;for(i=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),n=2;n<12;n++)10===(s=n)&&(s=2),o+=t%10*(s=11===n?3:s),t=parseInt(t/10,10);return i===(i=1<(i=o%11)?11-i:0)},"Please specify a valid NIS/PIS number"),r.validator.addMethod("notEqualTo",function(e,t,i){return this.optional(t)||!r.validator.methods.equalTo.call(this,e,t,i)},"Please enter a different value, values must not be the same."),r.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),r.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||(i="string"==typeof i?new RegExp("^(?:"+i+")$"):i).test(e)},"Invalid format."),r.validator.addMethod("regex",function(e,t,i){return(i="string"==typeof i?new RegExp("^(?:"+i+")$"):i).test(e)},"Invalid format."),r.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),r.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(e)},"Please specify a valid phone number"),r.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),r.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),r.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||9<e.length&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),r.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP vÃ¡lido."),r.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),r.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),r.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),r.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),r.validator.addMethod("require_from_group",function(e,t,i){var n=r(i[1],t.form),s=n.eq(0),o=s.data("valid_req_grp")?s.data("valid_req_grp"):r.extend({},this),i=n.filter(function(){return o.elementValue(this)}).length>=i[0];return s.data("valid_req_grp",o),r(t).data("being_validated")||(n.data("being_validated",!0),n.each(function(){o.element(this)}),n.data("being_validated",!1)),i},r.validator.format("Please fill at least {0} of these fields.")),r.validator.addMethod("skip_or_fill_minimum",function(e,t,i){var n=r(i[1],t.form),s=n.eq(0),o=s.data("valid_skip")?s.data("valid_skip"):r.extend({},this),a=n.filter(function(){return o.elementValue(this)}).length,i=0===a||a>=i[0];return s.data("valid_skip",o),r(t).data("being_validated")||(n.data("being_validated",!0),n.each(function(){o.element(this)}),n.data("being_validated",!1)),i},r.validator.format("Please either skip these fields or fill at least {0} of them.")),r.validator.addMethod("stateUS",function(e,t,i){var n=void 0===i,s=!n&&void 0!==i.caseSensitive&&i.caseSensitive,o=!n&&void 0!==i.includeTerritories&&i.includeTerritories,i=!n&&void 0!==i.includeMilitary&&i.includeMilitary,o=o||i?o&&i?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":o?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$";return o=s?new RegExp(o):new RegExp(o,"i"),this.optional(t)||o.test(e)},"Please specify a valid state"),r.validator.addMethod("strippedminlength",function(e,t,i){return r(e).text().length>=i},r.validator.format("Please enter at least {0} characters")),r.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),r.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),r.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},r.validator.messages.url),r.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;for(var t,i,n,s,o,a=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],r=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],l=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],u=0,c=0;c<17;c++){if(n=l[c],i=e.slice(c,c+1),8===c&&(o=i),isNaN(i)){for(t=0;t<a.length;t++)if(i.toUpperCase()===a[t]){i=r[t],i*=n,isNaN(o)&&8===t&&(o=a[t]);break}}else i*=n;u+=i}return(s=10===(s=u%11)?"X":s)===o},"The specified vehicle identification number (VIN) is invalid."),r.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),r.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),r.validator.addMethod("validpassword",function(e,t){return this.optional(t)||/^[a-z0-9A-Z_ `~,!@#$%^&*()\-+{}:<>"'?|\/\\\[\]\.-]+$/.test(e)},"Enter only Alphanumeric, dash or underscore"),r.validator.addMethod("greaterthanzero",function(e,t){return this.optional(t)||0<parseFloat(e)},"* Amount must be greater than zero"),r.validator.addMethod("datecompare",function(e,t,i){var n=i[0].toLowerCase(),s=new Date(i[1]),o=new Date(i[2]);switch(n){case"gt":return o<s;case"ge":return o<=s;case"eq":return o;case"le":return s<=o;case"lt":return s<o;default:return!1}},"Please select valid date"),r.validator.addMethod("notequalTo",function(e,t,i){return e!==r(i).val()},"Value cannot be same"),r.validator.addMethod("alphanumberspace",function(e,t){return this.optional(t)||/^[a-z0-9\-\s]+$/i.test(e)},"Letters, numbers, and space only please"),r}),function(){var s=jQuery;s.bootstrapGrowl=function(e,t){var i,n;switch(t=s.extend({},s.bootstrapGrowl.default_options,t),(i=s("<div>")).attr("class","bootstrap-growl alert"),t.type&&i.addClass("alert-"+t.type),t.allow_dismiss&&i.append('<a class="close" data-dismiss="alert" href="#">&times;</a>'),""!=t.icon&&(e='<i class="'+t.icon+'"></i> '+e),i.append(e),t.top_offset&&(t.offset={from:"top",amount:t.top_offset}),n=t.offset.amount,s(".bootstrap-growl").each(function(){return n=Math.max(n,parseInt(s(this).css(t.offset.from))+s(this).outerHeight()+t.stackup_spacing)}),(e={position:"body"===t.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none","text-align":"center"})[t.offset.from]=n+"px","body"==t.ele&&i.css(e),"auto"!==t.width&&i.css("width",t.width),s(t.ele).append(i),t.align){case"center":i.css({left:"50%","margin-left":"-"+i.outerWidth()/2+"px"});break;case"left":break;default:i.css("right","20px")}return i.fadeIn(),0<t.delay&&i.delay(t.delay).fadeOut(function(){return s(this).alert("close")}),i},s.bootstrapGrowl.default_options={ele:"body",type:"success",offset:{from:"top",amount:20},align:"center",width:"auto",delay:6e3,allow_dismiss:!0,stackup_spacing:10,icon:"icon-info-sign"}}.call(this),function(global){!function(r){"use strict";var l,s=["uploaderType","endpointType"];function a(e){var t,i,a,n=c(e||{}),i=(i=n,t=o("uploaderType"),e=o("endpointType"),t?(t=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),new(e?qq[e]:qq)["FineUploader"+t](i)):new(e?qq[e]:qq).FineUploader(i));return u(i),i=i,a=n.callbacks={},r.each(i._options.callbacks,function(e,n){var s,o=/^on(\w+)/.exec(e)[1];o=o.substring(0,1).toLowerCase()+o.substring(1),s=l,a[e]=function(){var e,t=Array.prototype.slice.call(arguments),i=[];r.each(t,function(e,t){i.push(d(t))}),t=n.apply(this,t);try{e=s.triggerHandler(o,i)}catch(e){qq.log("Caught error in Fine Uploader jQuery event handler: "+e.message,"error")}return null!=t?t:e}}),i._options.callbacks=a,l}function i(e,t){var i=l.data("fineuploader");if(!t)return void 0===i?null:i[e];(i=void 0===i?{}:i)[e]=t,l.data("fineuploader",i)}function u(e){return i("uploader",e)}function o(e,t){return i(e,t)}function c(e,t){var n,i=void 0===t?"basic"!==e.uploaderType?{element:l[0]}:{}:t;if(r.each(e,function(e,t){0<=r.inArray(e,s)?o(e,t):t instanceof r?i[e]=t[0]:r.isPlainObject(t)?(i[e]={},c(t,i[e])):r.isArray(t)?(n=[],r.each(t,function(e,t){var i={};t instanceof r?r.merge(n,t):r.isPlainObject(t)?(c(t,i),n.push(i)):n.push(t)}),i[e]=n):i[e]=t}),void 0===t)return i}function d(e){var t=e;return t=null!=e&&"object"==typeof e&&(1===e.nodeType||9===e.nodeType)&&e.cloneNode?r(e):t}r.fn.fineUploader=function(i){var n=this,s=arguments,o=[];return this.each(function(e,t){if(l=r(t),u()&&(t=i,"string"===r.type(t)&&!t.match(/^_/)&&void 0!==u()[t])){if(o.push(function(e){var t=[];return c(Array.prototype.slice.call(arguments,1),t),d(u()[e].apply(u(),t))}.apply(n,s)),1===n.length)return!1}else"object"!=typeof i&&i?r.error("Method "+i+" does not exist on jQuery.fineUploader"):a.apply(n,s)}),1===o.length?o[0]:1<o.length?o:this}}(jQuery),function(a){"use strict";var r,n="fineUploaderDnd";function l(e){(e=e||{}).dropZoneElements=[r];var s,e=c(e);return s=e.callbacks={},a.each(new qq.DragAndDrop.callbacks,function(e,t){var i=e,n=r;s[e]=function(){var e=Array.prototype.slice.call(arguments);return n.triggerHandler(i,e)}}),u(new qq.DragAndDrop(e)),r}function u(e){return function(e,t){var i=r.data(n);if(!t)return void 0===i?null:i[e];(i=void 0===i?{}:i)[e]=t,r.data(n,i)}("dndInstance",e)}function c(e,t){var i,n=void 0===t?{}:t;if(a.each(e,function(e,t){t instanceof a?n[e]=t[0]:a.isPlainObject(t)?(n[e]={},c(t,n[e])):a.isArray(t)?(i=[],a.each(t,function(e,t){t instanceof a?a.merge(i,t):i.push(t)}),n[e]=i):n[e]=t}),void 0===t)return n}a.fn.fineUploaderDnd=function(i){var n=this,s=arguments,o=[];return this.each(function(e,t){if(r=a(t),u()&&(t=i,"string"===a.type(t)&&"dispose"===t&&void 0!==u()[t])){if(o.push(function(e){var t=[];return c(Array.prototype.slice.call(arguments,1),t),u()[e].apply(u(),t)}.apply(n,s)),1===n.length)return!1}else"object"!=typeof i&&i?a.error("Method "+i+" does not exist in Fine Uploader's DnD module."):l.apply(n,s)}),1===o.length?o[0]:1<o.length?o:this}}(jQuery);var qq=function(s){"use strict";return{hide:function(){return s.style.display="none",this},attach:function(e,t){return s.addEventListener?s.addEventListener(e,t,!1):s.attachEvent&&s.attachEvent("on"+e,t),function(){qq(s).detach(e,t)}},detach:function(e,t){return s.removeEventListener?s.removeEventListener(e,t,!1):s.attachEvent&&s.detachEvent("on"+e,t),this},contains:function(e){return!!e&&(s===e||(s.contains?s.contains(e):!!(8&e.compareDocumentPosition(s))))},insertBefore:function(e){return e.parentNode.insertBefore(s,e),this},remove:function(){return s.parentNode.removeChild(s),this},css:function(e){if(null==s.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=e.opacity&&"string"!=typeof s.style.opacity&&void 0!==s.filters&&(e.filter="alpha(opacity="+Math.round(100*e.opacity)+")"),qq.extend(s.style,e),this},hasClass:function(e,t){e=new RegExp("(^| )"+e+"( |$)");return e.test(s.className)||!(!t||!e.test(s.parentNode.className))},addClass:function(e){return qq(s).hasClass(e)||(s.className+=" "+e),this},removeClass:function(e){e=new RegExp("(^| )"+e+"( |$)");return s.className=s.className.replace(e," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(i,e){var t,n=[];return e&&s.querySelector?s.querySelector("."+i):s.querySelectorAll?s.querySelectorAll("."+i):(t=s.getElementsByTagName("*"),qq.each(t,function(e,t){qq(t).hasClass(i)&&n.push(t)}),e?n[0]:n)},getFirstByClass:function(e){return qq(s).getByClass(e,!0)},children:function(){for(var e=[],t=s.firstChild;t;)1===t.nodeType&&e.push(t),t=t.nextSibling;return e},setText:function(e){return s.innerText=e,s.textContent=e,this},clearText:function(){return qq(s).setText("")},hasAttribute:function(e){return s.hasAttribute?!!s.hasAttribute(e)&&null==/^false$/i.exec(s.getAttribute(e)):void 0!==(e=s[e])&&null==/^false$/i.exec(e)}}},Zfb;function o1b(h,e,t,i,p){var n,s,o,a,r,l,u,c,d,f,m,g=h.naturalWidth,_=h.naturalHeight,v=i.width,b=i.height,q=t.getContext("2d"),y=new qq.Promise;return q.save(),i.resize?(n={blob:e,canvas:t,image:h,imageHeight:_,imageWidth:g,orientation:i.orientation,resize:i.resize,targetHeight:b,targetWidth:v},s=n.blob,o=n.image,a=n.imageHeight,r=n.imageWidth,l=n.orientation,u=new qq.Promise,c=n.resize,d=document.createElement("canvas"),f=d.getContext("2d"),m=n.canvas,e=n.targetHeight,n=n.targetWidth,q1b(d,r,a,l),m.height=e,m.width=n,f.drawImage(o,0,0),c({blob:s,height:e,image:o,sourceCanvas:d,targetCanvas:m,width:n}).then(function(){m.qqImageRendered&&m.qqImageRendered(),u.success()},u.failure),u):(qq.supportedFeatures.unlimitedScaledImageSize||(n=function(e){if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(5241e3<e.origHeight*e.origWidth)return{newHeight:Math.round(Math.sqrt(e.origHeight/e.origWidth*5241e3)),newWidth:Math.round(Math.sqrt(e.origWidth/e.origHeight*5241e3))}}({origWidth:v,origHeight:b}))&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",v,b,n.newWidth,n.newHeight),"warn"),v=n.newWidth,b=n.newHeight),q1b(t,v,b,i.orientation),qq.ios()?function(){var e,t,i;t=(e=h).naturalWidth,i=e.naturalHeight,r=document.createElement("canvas"),1048576<t*i&&(r.width=r.height=1,(r=r.getContext("2d")).drawImage(e,1-t,0),0===r.getImageData(0,0,1,1).data[3])&&(g/=2,_/=2);var n,s,o,a=document.createElement("canvas"),r=p?function(e,t){var i,n=document.createElement("canvas"),s=0,o=t,a=t;for(n.width=1,n.height=t,(n=n.getContext("2d")).drawImage(e,0,0),i=n.getImageData(0,0,1,t).data;s<a;)0===i[4*(a-1)+3]?o=a:s=a,a=o+s>>1;return 0==(t=a/t)?1:t}(h,_):1,l=Math.ceil(1024*v/g),u=Math.ceil(1024*b/_/r),c=0,d=0;for(a.width=a.height=1024,n=a.getContext("2d");c<_;){for(o=s=0;s<g;)n.clearRect(0,0,1024,1024),n.drawImage(h,-s,-c),q.drawImage(a,0,0,1024,1024,o,d,l,u),s+=1024,o+=l;c+=1024,d+=u}q.restore()}():q.drawImage(h,0,0,v,b),t.qqImageRendered&&t.qqImageRendered(),y.success(),y)}function q1b(e,t,i,n){switch(n){case 5:case 6:case 7:case 8:e.width=i,e.height=t;break;default:e.width=t,e.height=i}var s=e.getContext("2d");switch(n){case 2:s.translate(t,0),s.scale(-1,1);break;case 3:s.translate(t,i),s.rotate(Math.PI);break;case 4:s.translate(0,i),s.scale(1,-1);break;case 5:s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:s.rotate(.5*Math.PI),s.translate(0,-i);break;case 7:s.rotate(.5*Math.PI),s.translate(t,-i),s.scale(-1,1);break;case 8:s.rotate(-.5*Math.PI),s.translate(-t,0)}}function r1b(i,e){var n=this;window.Blob&&i instanceof Blob&&function(){var e=new Image,t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!t)throw Error("No createObjectURL function found to create blob url");e.src=t.createObjectURL(i),n.blob=i,i=e}(),i.naturalWidth||i.naturalHeight||(i.onload=function(){var i=n.imageLoadListeners;i&&(n.imageLoadListeners=null,setTimeout(function(){for(var e=0,t=i.length;e<t;e++)i[e]()},0))},i.onerror=e,this.imageLoadListeners=[]),this.srcImage=i}!function(){"use strict";var YI0;qq.canvasToBlob=function(e,t,i){return qq.dataUriToBlob(e.toDataURL(t,i))},qq.dataUriToBlob=function(e){var t,i,n,s=(0<=e.split(",")[0].indexOf("base64")?atob:decodeURI)(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(s.length),a=new Uint8Array(e);return qq.each(s,function(e,t){a[e]=t.charCodeAt(0)}),t=e,i=o,(n=(n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)&&new n)?(n.append(t),n.getBlob(i)):new Blob([t],{type:i})},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),s=e,o=s.indexOf("{}");return qq.each(t,function(e,t){var i=s.substring(0,o),n=s.substring(o+2);if((o=(s=i+t+n).indexOf("{}",o+t.length))<0)return!1}),s},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){function i(e){return e=e.toLowerCase(),t?"file"!==e:"file"===e}return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&i(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&i(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&0<e.items.length&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,i){return(e.slice||e.mozSlice||e.webkitSlice).call(e,t,i)},qq.arrayBufferToHex=function(e){var i="",e=new Uint8Array(e);return qq.each(e,function(e,t){t=t.toString(16);t.length<2&&(t="0"+t),i+=t}),i},qq.readBlobToHex=function(e,t,i){var i=qq.sliceBlob(e,t,t+i),n=new FileReader,s=new qq.Promise;return n.onload=function(){s.success(qq.arrayBufferToHex(n.result))},n.onerror=s.failure,n.readAsArrayBuffer(i),s},qq.extend=function(i,e,n){return qq.each(e,function(e,t){n&&qq.isObject(t)?(void 0===i[e]&&(i[e]={}),qq.extend(i[e],t,!0)):i[e]=t}),i},qq.override=function(i,e){var n={},e=e(n);return qq.each(e,function(e,t){void 0!==i[e]&&(n[e]=i[e]),i[e]=t}),i},qq.indexOf=function(e,t,i){if(e.indexOf)return e.indexOf(t,i);var n=e.length;for((i=i||0)<0&&(i+=n);i<n;i+=1)if(e.hasOwnProperty(i)&&e[i]===t)return i;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return 0<=navigator.userAgent.indexOf("Edge")},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=(YI0=document.createElement("div"),function(e){YI0.innerHTML=e;e=YI0.firstChild;return YI0.removeChild(e),e}),qq.each=function(e,t){if(e)if(window.Storage&&e.constructor===window.Storage)for(i=0;i<e.length&&!1!==t(e.key(i),e.getItem(e.key(i)));i++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(i=0;i<e.length&&!1!==t(i,e[i]);i++);else if(qq.isString(e))for(i=0;i<e.length&&!1!==t(i,e.charAt(i));i++);else for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!1===t(i,e[i]))break},qq.bind=function(t,i){if(qq.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return function(){var e=qq.extend([],n);return arguments.length&&(e=e.concat(Array.prototype.slice.call(arguments))),t.apply(i,e)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,n,t){function i(e,t){var i=n?/\[\]$/.test(n)?n:n+"["+t+"]":t;"undefined"!==i&&"undefined"!==t&&s.push("object"==typeof e?qq.obj2url(e,i,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(i)+"="+encodeURIComponent(e()):encodeURIComponent(i)+"="+encodeURIComponent(e))}var s=[],o="&";return!t&&n?(o=/\?/.test(n)?/\?$/.test(n)?"":"&":"?",s.push(n),s.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&void 0!==e?qq.each(e,function(e,t){i(t,e)}):null!=e&&"object"==typeof e?qq.each(e,function(e,t){i(t,e)}):s.push(encodeURIComponent(n)+"="+encodeURIComponent(e)),n?s.join(o):s.join(o).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,i,n){return i=i||new FormData,qq.each(e,function(e,t){e=n?n+"["+e+"]":e,qq.isObject(t)?qq.obj2FormData(t,i,e):qq.isFunction(t)?i.append(e,t()):i.append(e,t)}),i},qq.obj2Inputs=function(e,i){var n;return i=i||document.createElement("form"),qq.obj2FormData(e,{append:function(e,t){(n=document.createElement("input")).setAttribute("name",e),n.setAttribute("value",t),i.appendChild(n)}}),i},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(0<t)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var t=[];return{dispose:function(){for(var e;(e=t.shift())&&e(),e;);},attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(e){t.push(e)}}}}(),function(){"use strict";"function"==typeof define&&define.amd?define(function(){return qq}):"undefined"!=typeof module&&module.exports?module.exports=qq:global.qq=qq}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.16.2",qq.supportedFeatures=function(){"use strict";var e,t,i,n,s,o,a,r,l,u,c,d,h,p,f,m;function g(){return!!window.XMLHttpRequest&&void 0!==qq.createXhrInstance().withCredentials}function _(){return void 0!==window.XDomainRequest}return e=function(){var e,t=!0;try{(e=document.createElement("input")).type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}(),t=(n=e&&qq.isXhrUploadSupported())&&!qq.androidStock(),s=(i=n&&(("draggable"in(f=document.createElement("span"))||"ondragstart"in f&&"ondrop"in f)&&!qq.android()&&!qq.ios()))&&((m=document.createElement("input")).type="file",!!("webkitdirectory"in(m||document.querySelectorAll("input[type=file]")[0]))),o=n&&qq.isFileChunkingSupported(),a=n&&o&&function(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}(),r=n&&(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/),l=e&&(void 0!==window.postMessage||n),c=g(),u=_(),d=!!g()||_(),h=void 0!==document.createElement("input").webkitdirectory,p=n&&void 0!==window.FileReader,m=!!n&&!qq.androidStock()&&!qq.iosChrome(),{ajaxUploading:n,blobUploading:t,canDetermineSize:n,chunking:o,deleteFileCors:d,deleteFileCorsXdr:u,deleteFileCorsXhr:c,dialogElement:!!window.HTMLDialogElement,fileDrop:i,folderDrop:s,folderSelection:h,imagePreviews:p,imageValidation:p,itemSizeValidation:n,pause:o,progressBar:m,resume:a,scaling:p&&t,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:e,uploadCors:l,uploadCustomHeaders:n,uploadNonMultipart:n,uploadViaPaste:r}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var i,n,s=[],o=[],t=[],a=0;qq.extend(this,{then:function(e,t){return 0===a?(e&&s.push(e),t&&o.push(t)):-1===a?t&&t.apply(null,n):e&&e.apply(null,i),this},done:function(e){return 0===a?t.push(e):e.apply(null,void 0===n?i:n),this},success:function(){return a=1,i=arguments,s.length&&qq.each(s,function(e,t){t.apply(null,i)}),t.length&&qq.each(t,function(e,t){t.apply(null,i)}),this},failure:function(){return a=-1,n=arguments,o.length&&qq.each(o,function(e,t){t.apply(null,n)}),t.length&&qq.each(t,function(e,t){t.apply(null,n)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";var t,i,n=this,s=new qq.DisposeSupport,o={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};function a(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,i),e.setAttribute("title",o.title),n.setMultiple(o.multiple,e),o.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),o.acceptFiles&&e.setAttribute("accept",o.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",o.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),qq.ie7()||qq(e).css({height:"100%"}),o.element.appendChild(e),s.attach(e,"change",function(){o.onChange(e)}),s.attach(e,"mouseover",function(){qq(o.element).addClass(o.hoverClass)}),s.attach(e,"mouseout",function(){qq(o.element).removeClass(o.hoverClass)}),s.attach(e,"focus",function(){qq(o.element).addClass(o.focusClass)}),s.attach(e,"blur",function(){qq(o.element).removeClass(o.focusClass)}),e}qq.extend(o,e),i=qq.getUniqueId(),qq(o.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return t},getButtonId:function(){return i},setMultiple:function(e,t){t=t||this.getInput();o.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())||e?t.setAttribute("multiple",""):t.removeAttribute("multiple")},setAcceptFiles:function(e){e!==o.acceptFiles&&t.setAttribute("accept",e)},reset:function(){t.parentNode&&qq(t).remove(),qq(o.element).removeClass(o.focusClass),t=null,t=a()}}),t=a()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(s){"use strict";var o=[],n={},a={},r={},l={};function t(e){if(qq.isArray(e)){var i=[];return qq.each(e,function(e,t){i.push(o[t])}),i}return o[e]}qq.extend(this,{addFile:function(e){var t=e.status||qq.status.SUBMITTING,i=o.push({name:e.name,originalName:e.name,uuid:e.uuid,size:null==e.size?-1:e.size,status:t,file:e.file})-1;return e.batchId&&(o[i].batchId=e.batchId,void 0===l[e.batchId]&&(l[e.batchId]=[]),l[e.batchId].push(i)),e.proxyGroupId&&(o[i].proxyGroupId=e.proxyGroupId,void 0===r[e.proxyGroupId]&&(r[e.proxyGroupId]=[]),r[e.proxyGroupId].push(i)),o[i].id=i,n[e.uuid]=i,void 0===a[t]&&(a[t]=[]),a[t].push(i),e.onBeforeStatusChange&&e.onBeforeStatusChange(i),s.onStatusChange(i,null,t),i},retrieve:function(e){return qq.isObject(e)&&o.length?void 0!==e.id?t(e.id):void 0!==e.uuid?function(e){if(qq.isArray(e)){var i=[];return qq.each(e,function(e,t){i.push(o[n[t]])}),i}return o[n[e]]}(e.uuid):e.status?(e=e.status,i=[],e=[].concat(e),qq.each(e,function(e,t){t=a[t];void 0!==t&&qq.each(t,function(e,t){i.push(o[t])})}),i):void 0:qq.extend([],o,!0);var i},removeFileRef:function(e){e=t(e);e&&delete e.file},reset:function(){o=[],n={},a={},l={}},setStatus:function(e,t){var i=o[e].status,n=qq.indexOf(a[i],e);a[i].splice(n,1),o[e].status=t,void 0===a[t]&&(a[t]=[]),a[t].push(e),s.onStatusChange(e,i,t)},uuidChanged:function(e,t){var i=o[e].uuid;o[e].uuid=t,n[t]=e,delete n[i]},updateName:function(e,t){o[e].name=t},updateSize:function(e,t){o[e].size=t},setParentId:function(e,t){o[e].parentId=t},getIdsInProxyGroup:function(e){e=o[e].proxyGroupId;return e?r[e]:[]},getIdsInBatch:function(e){e=o[e].batchId;return l[e]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_FINALIZING:"upload finalizing",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,i){this.addFiles(e,t,i)},addInitialFiles:function(e){var i=this;qq.each(e,function(e,t){i._addCannedFile(t)})},addFiles:function(e,t,i){this._maybeHandleIos8SafariWorkaround();var n=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,s=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},n,c)},this),o=qq.bind(function(e){this._handleNewFile(e,n,c)},this),a=qq.bind(function(e){e=qq.canvasToBlob(e);this._handleNewFile({blob:e,name:this._options.blobs.defaultName+".png"},n,c)},this),r=qq.bind(function(e){var t=e.quality&&e.quality/100,t=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:t,name:e.name},n,c)},this),l=qq.bind(function(e){var t,i;qq.isInput(e)&&qq.supportedFeatures.ajaxUploading?(t=Array.prototype.slice.call(e.files),i=this,qq.each(t,function(e,t){i._handleNewFile(t,n,c)})):this._handleNewFile(e,n,c)},this),u=this,c=[];this._currentBatchId=n,e&&(qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e),qq.each(e,function(e,t){qq.isFileOrInput(t)?l(t):qq.isBlob(t)?s(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&r(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?a(t):u.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+c.length+" files."),this._prepareItemsForUpload(c,t,i))},cancel:function(e){var t=this._uploadData.retrieve({id:e});t&&t.status===qq.status.UPLOAD_FINALIZING?this.log(qq.format("Ignoring cancel for file ID {} ({}).  Finalizing upload.",e,this.getName(e)),"error"):this._handler.cancel(e)},cancelAll:function(){var e=[],i=this;qq.extend(e,this._storedIds),qq.each(e,function(e,t){i.cancel(t)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled)&&(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,i,n,s){var o,a=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],i={customResizeFunction:s,maxSize:0<i?i:null,scale:0<i},null==(o=!n&&qq.supportedFeatures.imagePreviews?this.getFile(e):o)?a.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,i).then(function(e){a.success(e)},function(e,t){a.failure({container:e,error:t||"Problem generating thumbnail"})})):a.failure({container:t,error:"Missing image generator module"}),a},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){var t=this._handler.getFile(e);return t||(e=this._uploadData.retrieve({id:e}))&&(t=e.file),t||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),e=null;return e=t&&void 0!==t.parentId?t.parentId:e},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return 0<e?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},isResumable:function(e){return this._handler.hasResumeRecord(e)},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(0<=qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e),this._uploadData.removeFileRef(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset(),this._customResumeDataStore.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(this.log,this),getFile:qq.bind(this.getFile,this),uploadData:this._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setCustomResumeData:function(e,t){this._customResumeDataStore.set(t,e)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){if(!this.getUploads({id:e}))throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var i="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(i),new qq.Error(i)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(t){var i=this;return this._uploadData.addFile({uuid:t.uuid,name:t.name,size:t.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(e){t.deleteFileEndpoint&&i.setDeleteFileEndpoint(t.deleteFileEndpoint,e),t.deleteFileParams&&i.setDeleteFileParams(t.deleteFileParams,e),t.thumbnailUrl&&(i._thumbnailUrls[e]=t.thumbnailUrl),i._netUploaded++,i._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var n=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(n.log,n),onDelete:function(e){n._onDelete(e),n._options.callbacks.onDelete(e)},onDeleteComplete:function(e,t,i){n._onDeleteComplete(e,t,i),n._options.callbacks.onDeleteComplete(e,t,i)}})},_createPasteHandler:function(){var t=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(t.log,t),pasteReceived:function(e){t._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(t._options.callbacks.onPasteReceived,t,e),onSuccess:qq.bind(t._handlePasteSuccess,t,e),identifier:"pasted image"})}}})},_createStore:function(e,t){function i(e){return qq.isObject(e)?qq.extend({},e):e}function n(e,t){r&&qq.isObject(t)&&qq.extend(t,qq.isFunction(r)?r():r),a[e]&&qq.extend(t,a[e])}var s={},o=e,a={},r=t;return{set:function(e,t){null==t?(s={},o=i(e)):s[t]=i(e)},get:function(e){var t=null!=e&&s[e]?s[e]:i(o);return n(e,t),i(t)},addReadOnly:function(e,t){qq.isObject(s)&&(null===e?qq.isFunction(t)?r=t:(r=r||{},qq.extend(r,t)):(a[e]=a[e]||{},qq.extend(a[e],t)))},remove:function(e){return delete s[e]},reset:function(){s={},a={},o=e}}},_createUploadDataTracker:function(){var n=this;return new qq.UploadData({getName:function(e){return n.getName(e)},getUuid:function(e){return n.getUuid(e)},getSize:function(e){return n.getSize(e)},onStatusChange:function(e,t,i){n._onUploadStatusChange(e,t,i),n._options.callbacks.onStatusChange(e,t,i),n._maybeAllComplete(e,i),n._totalProgress&&setTimeout(function(){n._totalProgress.onStatusChange(e,t,i)},0)}})},_createUploadButton:function(e){var t,i=this,n=e.accept||this._options.validation.acceptFiles;e.allowedExtensions||this._options.validation.allowedExtensions;return t=new qq.UploadButton({acceptFiles:n,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:!!qq.supportedFeatures.ajaxUploading&&(void 0===e.multiple?i._options:e).multiple,name:this._options.request.inputName,onChange:function(e){i._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){t.dispose()}),i._buttons.push(t),t},_createUploadHandler:function(e,t){var o=this,a={},i={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(o.log,o),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,i,n){i<0||n<0||(a[e]&&a[e].loaded===i&&a[e].total===n||(o._onProgress(e,t,i,n),o._options.callbacks.onProgress(e,t,i,n)),a[e]={loaded:i,total:n})},onComplete:function(e,t,i,n){delete a[e];var s=o.getUploads({id:e}).status;s!==qq.status.UPLOAD_SUCCESSFUL&&s!==qq.status.UPLOAD_FAILED&&((s=o._onComplete(e,t,i,n))instanceof qq.Promise?s.done(function(){o._options.callbacks.onComplete(e,t,i,n)}):o._options.callbacks.onComplete(e,t,i,n))},onCancel:function(e,t,i){var n=new qq.Promise;return o._handleCheckedCallback({name:"onCancel",callback:qq.bind(o._options.callbacks.onCancel,o,e,t),onFailure:n.failure,onSuccess:function(){i.then(function(){o._onCancel(e,t)}),n.success()},identifier:e}),n},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){o._onUpload(e,t);t=o._options.callbacks.onUpload(e,t);return qq.isGenericPromise(t)?(o.log(qq.format("onUpload for {} returned a Promise - waiting for resolution.",e)),t):(new qq.Promise).success()},onUploadChunk:function(e,t,i){o._onUploadChunk(e,i);t=o._options.callbacks.onUploadChunk(e,t,i);return qq.isGenericPromise(t)?(o.log(qq.format("onUploadChunk for {}.{} returned a Promise - waiting for resolution.",e,i.partIndex)),t):(new qq.Promise).success()},onUploadChunkSuccess:function(e,t,i,n){o._onUploadChunkSuccess(e,t),o._options.callbacks.onUploadChunkSuccess.apply(o,arguments)},onResume:function(e,t,i,n){return o._options.callbacks.onResume(e,t,i,n)},onAutoRetry:function(e,t,i,n){return o._onAutoRetry.apply(o,arguments)},onUuidChanged:function(e,t){o.log("Server requested UUID change from '"+o.getUuid(e)+"' to '"+t+"'"),o.setUuid(e,t)},getName:qq.bind(o.getName,o),getUuid:qq.bind(o.getUuid,o),getSize:qq.bind(o.getSize,o),setSize:qq.bind(o._setSize,o),getDataByUuid:function(e){return o.getUploads({uuid:e})},isQueued:function(e){e=o.getUploads({id:e}).status;return e===qq.status.QUEUED||e===qq.status.SUBMITTED||e===qq.status.UPLOAD_RETRYING||e===qq.status.PAUSED},getIdsInProxyGroup:o._uploadData.getIdsInProxyGroup,getIdsInBatch:o._uploadData.getIdsInBatch,isInProgress:function(e){return o.getUploads({id:e}).status===qq.status.UPLOADING},getCustomResumeData:qq.bind(o._getCustomResumeData,o),setStatus:function(e,t){o._uploadData.setStatus(e,t)}};return qq.each(this._options.request,function(e,t){i[e]=t}),i.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){i[e]=t}),new qq.UploadHandlerController(i,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];for(var t=-1;t++,999<(e/=1e3););return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var o=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(e,t){var i=t.multiple,n=qq.extend({},o._options.validation,!0),s=qq.extend({},t);void 0===i&&(i=o._options.multiple),s.validation&&qq.extend(n,t.validation,!0),qq.extend(s,{multiple:i,validation:n},!0),o._initExtraButton(s)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var i,e=e;if((e=e instanceof qq.BlobProxy?e.referenceBlob:e)&&!qq.isBlob(e))return qq.isFile(e)?e.qqButtonId:"input"===e.tagName.toLowerCase()&&"file"===e.type.toLowerCase()?e.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME):(e=e.getElementsByTagName("input"),qq.each(e,function(e,t){if("file"===t.getAttribute("type"))return i=t,!1}),i?i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME):void 0)},_getCustomResumeData:function(e){return this._customResumeDataStore.get(e)},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){e=this._extraButtonSpecs[e];return(e||this._options).validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var i=this,n=[];return qq.each(e,function(e,t){n.push(i._getValidationDescriptor(t))}),n},_handleCameraAccess:function(){var e,t,i,n;this._options.camera.ios&&qq.ios()&&(e="image/*;capture=camera",t=this._options.camera.button,i=t?this._getButtonId(t):this._defaultButtonId,n=this._options,(n=i&&i!==this._defaultButtonId?this._extraButtonSpecs[i]:n).multiple=!1,null===n.validation.acceptFiles?n.validation.acceptFiles=e:n.validation.acceptFiles+=","+e,qq.each(this._buttons,function(e,t){if(t.getButtonId()===i)return t.setMultiple(n.multiple),t.setAcceptFiles(n.acceptFiles),!1}))},_handleCheckedCallback:function(t){var i=this,e=t.callback();return qq.isGenericPromise(e)?(this.log(t.name+" - waiting for "+t.name+" promise to be fulfilled for "+t.identifier),e.then(function(e){i.log(t.name+" promise success for "+t.identifier),t.onSuccess(e)},function(){t.onFailure?(i.log(t.name+" promise failure for "+t.identifier),t.onFailure()):i.log(t.name+" promise failure for "+t.identifier)})):(!1!==e?t.onSuccess(e):t.onFailure?(this.log(t.name+" - return value was 'false' for "+t.identifier+".  Invoking failure callback."),t.onFailure()):this.log(t.name+" - return value was 'false' for "+t.identifier+".  Will not proceed."),e)},_handleNewFile:function(e,t,i){var n=this,s=qq.getUniqueId(),o=-1,a=qq.getFilename(e),e=e.blob||e;(this._customNewFileHandler||qq.bind(n._handleNewFileGeneric,n))(e,a,s,o=!qq.isInput(e)&&0<=e.size?e.size:o,i,t,this._options.request.uuidName,{uploadData:n._uploadData,paramsStore:n._paramsStore,addFileToHandler:function(e,t){n._handler.add(e,t),n._netUploadedOrQueued++,n._trackButton(e)}})},_handleNewFileGeneric:function(e,t,i,n,s,o){o=this._uploadData.addFile({uuid:i,name:t,size:n,batchId:o,file:e});this._handler.add(o,e),this._trackButton(o),this._netUploadedOrQueued++,s.push({id:o,file:e})},_handlePasteSuccess:function(e,t){var i=e.type.split("/")[1],t=t;null==t&&(t=this._options.paste.defaultName),this.addFiles({name:t+="."+i,blob:e})},_handleDeleteSuccess:function(e){var t;this.getUploads({id:e}).status!==qq.status.DELETED&&(t=this.getName(e),this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded."))},_handleDeleteFailed:function(e,t){var i=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+i+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,i,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,i,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled)&&(!this._options.cors.expected||(!!qq.supportedFeatures.deleteFileCorsXhr||!(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr)))},_isAllowedExtension:function(e,i){var n=!1;return!e.length||(qq.each(e,function(e,t){if(qq.isString(t)){t=new RegExp("\\."+t+"$","i");if(null!=i.match(t))return!(n=!0)}}),n)},_itemError:function(e,t,i){var n=this._options.messages[e],s=[],o=[].concat(t),e=o[0],t=this._getButtonId(i),i=this._getValidationBase(t);function a(e,t){n=n.replace(e,t)}return qq.each(i.allowedExtensions,function(e,t){qq.isString(t)&&s.push(t)}),t=s.join(", ").toLowerCase(),a("{file}",this._options.formatFileName(e)),a("{extensions}",t),a("{sizeLimit}",this._formatSize(i.sizeLimit)),a("{minSizeLimit}",this._formatSize(i.minSizeLimit)),null!==(i=n.match(/(\{\w+\})/g))&&qq.each(i,function(e,t){a(t,o[e])}),this._options.callbacks.onError(null,e,n,void 0),n},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var i=this,n=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===n&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){i._onAllComplete(i._succeededSinceLastAllComplete,i._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,i,n){i.success||(n&&200!==n.status&&!i.error?this._options.callbacks.onError(e,t,"XHR returned response code "+n.status,n):(i=i.error||this._options.text.defaultResponseError,this._options.callbacks.onError(e,t,i,n)))},_maybeProcessNextItemAfterOnValidateCallback:function(e,i,n,s,o){var a=this;if(i.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=a._getValidationDescriptor(i[n]),t=a._getButtonId(i[n].file),t=a._getButton(t);a._handleCheckedCallback({name:"onValidate",callback:qq.bind(a._options.callbacks.onValidate,a,e,t),onSuccess:qq.bind(a._onValidateCallbackSuccess,a,i,n,s,o),onFailure:qq.bind(a._onValidateCallbackFailure,a,i,n,s,o),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;n<i.length;n++)a._fileOrBlobRejected(i[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,i,n,s){var o=this;if(o._preventRetries[e]=i[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e)){i=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),s?s(e):o._handler.retry(e)},i),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,i=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),!1!==this._options.callbacks.onManualRetry(e,t)&&(0<i&&this._netUploadedOrQueued+1>i?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var i=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&0<=i&&this._storedIds.splice(i,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,i,n){return i.success?(i.thumbnailUrl&&(this._thumbnailUrls[e]=i.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),!0===i[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,i,n),!!i.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,i){this.getName(e);i?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else 0<e.value.length&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,i,n){this._totalProgress&&this._totalProgress.onIndividualProgress(e,i,n)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,i){var n,s=this.getUuid(e);return t&&(n=qq.bind(t,this,e,s,i)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:n||qq.bind(this._deleteHandler.sendDelete,this,e,s,i),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadChunkSuccess:function(e,t){!this._preventRetries[e]&&this._options.retry.enableAuto&&(this._autoRetries[e]=0)},_onUploadStatusChange:function(e,t,i){i===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var i=this;qq.each(e,function(e,t){i._fileOrBlobRejected(t.id)})},_onValidateBatchCallbackSuccess:function(e,t,i,n,s){var o=this._currentItemLimit,a=this._netUploadedOrQueued;0===o||a<=o?0<t.length?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],s),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,i,n),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,i,n),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,a).replace(/\{itemLimit\}/g,o),this._batchError(o))},_onValidateCallbackFailure:function(e,t,i,n){var s=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,s,i,n)},_onValidateCallbackSuccess:function(e,t,i,n){var s=this,o=t+1,a=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],a).then(function(){s._upload(e[t].id,i,n),s._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,i,n)},function(){s._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,i,n)})},_prepareItemsForUpload:function(e,t,i){var n,s;0!==e.length?(n=this._getValidationDescriptors(e),s=this._getButtonId(e[0].file),s=this._getButton(s),this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,n,s),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,n,e,t,i,s),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})):this._itemError("noFilesError")},_preventLeaveInProgress:function(){var t=this;this._disposeSupport.attach(window,"beforeunload",function(e){if(t.getInProgress())return(e=e||window.event).returnValue=t._options.messages.onLeave,t._options.messages.onLeave})},_refreshSessionData:function(){var i=this,e=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(e,{cors:this._options.cors}),e.log=qq.bind(this.log,this),e.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(e)),setTimeout(function(){i._session.refresh().then(function(e,t){i._sessionRequestComplete(),i._options.callbacks.onSessionRequestComplete(e,!0,t)},function(e,t){i._options.callbacks.onSessionRequestComplete(e,!1,t)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e){var t=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&t.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e));t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,i){var n=this.getName(e);t&&this.setParams(t,e),i&&this.setEndpoint(i,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,n),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,n),onFailure:qq.bind(this._fileOrBlobRejected,this,e,n),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,i=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);(t=this.getUploads({status:qq.status.SUBMITTING}).length)&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){i._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var i=this,n=e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file,s=t.name,o=t.size,t=this._getButtonId(e.file),t=this._getValidationBase(t),a=new qq.Promise;return a.then(function(){},function(){i._fileOrBlobRejected(e.id,s)}),qq.isFileOrInput(n)&&!this._isAllowedExtension(t.allowedExtensions,s)?(this._itemError("typeError",s,n),a.failure()):this._options.validation.allowEmpty||0!==o?0<o&&t.sizeLimit&&o>t.sizeLimit?(this._itemError("sizeError",s,n),a.failure()):0<o&&o<t.minSizeLimit?(this._itemError("minSizeError",s,n),a.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(n)?new qq.ImageValidation(n,qq.bind(i.log,i)).validate(t.image).then(a.success,function(e){i._itemError(e+"ImageError",s,n),a.failure()}):a.success(),a):(this._itemError("emptyError",s,n),a.failure())},_wrapCallbacks:function(){var i,n=this,s=function(t,e,i){try{return e.apply(n,i)}catch(e){i=e.message||e.toString(),n.log("Caught exception in '"+t+"' callback - "+i,"error")}};for(i in this._options.callbacks)!function(){var e=i,t=n._options.callbacks[e];n._options.callbacks[e]=function(){return s(e,t,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,warnBeforeUnload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",omitDefaultParams:!1,params:{},paramsInBody:!0,requireSuccessJson:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,i,n){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,i){},onUploadChunkSuccess:function(e,t,i,n){},onResume:function(e,t,i,n){},onProgress:function(e,t,i,n){},onTotalProgress:function(e,t){},onError:function(e,t,i,n){},onAutoRetry:function(e,t,i){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,i){},onPasteReceived:function(e){},onStatusChange:function(e,t,i){},onSessionRequestComplete:function(e,t,i){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:function(e){return 2e6},success:{endpoint:null,headers:function(e){return null},jsonPayload:!1,method:"POST",params:function(e){return null},resetOnStatus:[]}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"},customKeys:function(e){return[]}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._options.warnBeforeUnload&&this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){e=t._uploadData.retrieve({id:e});return e&&e.size||0})),this._currentItemLimit=this._options.validation.itemLimit,this._customResumeDataStore=this._createStore()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";var _,v,l=[],b={},q={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,i){},onProgress:null};if(qq.extend(q,e),_=q.log,qq.indexOf(q.validMethods,q.method)<0)throw new Error("'"+q.method+"' is not a supported method for this type of request!");function y(e){return q.cors.expected&&void 0===e.withCredentials}function w(e,t){var i,n=b[e]&&b[e].xhr;return n||(n=t||(q.cors.expected?((window.XMLHttpRequest||window.ActiveXObject)&&void 0===(i=qq.createXhrInstance()).withCredentials&&((i=new XDomainRequest).onload=function(){},i.onerror=function(){},i.ontimeout=function(){},i.onprogress=function(){}),i):qq.createXhrInstance()),b[e].xhr=n),n}function o(e){var t=qq.indexOf(l,e),i=q.maxConnections;delete b[e],l.splice(t,1),l.length>=i&&t<i&&u(l[i-1])}function x(e,t){var i=w(e),n=q.method,s=!0===t;o(e),s?_(n+" request for "+e+" has failed","error"):y(i)||(t=i.status,0<=qq.indexOf(q.successfulResponseCodes[q.method],t))||(s=!0,_(n+" request for "+e+" has failed - response code "+i.status,"error")),q.onComplete(e,i,s)}function u(e,t){var i,n,s,o,a,r,l,u,c,d,h,p=w(e,t),f=q.method,m=(c=b[u=e].additionalParams,d=q.mandatedParams,q.paramsStore.get&&(i=q.paramsStore.get(u)),c&&qq.each(c,function(e,t){(i=i||{})[e]=t}),d&&qq.each(d,function(e,t){(i=i||{})[e]=t}),i),g=b[e].payload;return q.onSend(e),h=function(e,t,i){var n=q.endpointStore.get(e),e=b[e].addToPath;null!=e&&(n+="/"+e);v&&t&&(n=qq.obj2url(t,n));i&&(n=qq.obj2url(i,n));return n}(e,m,b[e].additionalQueryParams),y(p)?(p.onload=(o=e,function(){x(o)}),p.onerror=(s=e,function(){x(s,!0)})):p.onreadystatechange=(n=e,function(){4===w(n).readyState&&x(n)}),a=e,(r=q.onProgress)&&(w(a).upload.onprogress=function(e){e.lengthComputable&&r(a,e.loaded,e.total)}),p.open(f,h,!0),q.cors.expected&&q.cors.sendCredentials&&!y(p)&&(p.withCredentials=!0),l=w(t=e),u=q.customHeaders,c=b[t].additionalHeaders||{},d=q.method,h={},y(l)||(q.acceptHeader&&l.setRequestHeader("Accept",q.acceptHeader),q.allowXRequestedWithAndCacheControl&&(q.cors.expected&&0<=qq.indexOf(["GET","POST","HEAD"],q.method)&&!function(){var i=!1;return qq.each(i,function(e,t){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],t)<0)return!(i=!0)}),i}()||(l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Cache-Control","no-cache"))),!q.contentType||"POST"!==d&&"PUT"!==d||l.setRequestHeader("Content-Type",q.contentType),qq.extend(h,qq.isFunction(u)?u(t):u),qq.extend(h,c),qq.each(h,function(e,t){l.setRequestHeader(e,t)})),_("Sending "+f+" request for "+e),g?p.send(g):v||!m?p.send():m&&q.contentType&&0<=q.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")?p.send(qq.obj2url(m,"")):m&&q.contentType&&0<=q.contentType.toLowerCase().indexOf("application/json")?p.send(JSON.stringify(m)):p.send(m),p}v="GET"===q.method||"DELETE"===q.method,qq.extend(this,{initTransport:function(t){var i,n,s,o,a,r;return{withPath:function(e){return i=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return r=e,this},withHeaders:function(e){return s=e,this},withPayload:function(e){return o=e,this},withCacheBuster:function(){return a=!0,this},send:function(e){return a&&0<=qq.indexOf(["GET","DELETE"],q.method)&&(n.qqtimestamp=(new Date).getTime()),function(e,t,i,n,s,o,a){if(b[e]={addToPath:i,additionalParams:n,additionalQueryParams:s,additionalHeaders:o,payload:a},l.push(e)<=q.maxConnections)return u(e,t)}(t,e,i,n,r,s,o)}}},canceled:function(e){o(e)}})},qq.UploadHandler=function(e){"use strict";var e=e.proxy,n={},s=e.onCancel,o=e.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,i=new qq.Promise;s(e,o(e),i).then(function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),i.success()})},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,i){"use strict";var n,l,u,s=this,o=!1,c=!1,d={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,i,n){},onComplete:function(e,t,i,n){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,i){},onUploadChunkSuccess:function(e,t,i,n){},onAutoRetry:function(e,t,i,n){},onResume:function(e,t,i,n){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){},isInProgress:function(e){}},h={done:function(e,t,i,n){var s=u._getChunkData(e,t);u._getFileState(e).attemptingResume=!1,delete u._getFileState(e).temp.chunkProgress[t],u._getFileState(e).loaded+=s.size,d.onUploadChunkSuccess(e,u._getChunkDataForCallback(s),i,n)},finalize:function(i){var n=d.getSize(i),s=d.getName(i);l("All chunks have been uploaded for "+i+" - finalizing...."),u.finalizeChunks(i).then(function(e,t){l("Finalize successful for "+i);e=f.normalizeResponse(e,!0);d.onProgress(i,s,n,n),u._maybeDeletePersistedChunkData(i),f.cleanup(i,e,t)},function(e,t){e=f.normalizeResponse(e,!1);l("Problem finalizing chunks for file ID "+i+" - "+e.error,"error"),(e.reset||t&&0<=d.chunking.success.resetOnStatus.indexOf(t.status))&&h.reset(i),d.onAutoRetry(i,s,e,t)||f.cleanup(i,e,t)})},handleFailure:function(e,i,t,n){var s=d.getName(i);l("Chunked upload request failed for "+i+", chunk "+e),u.clearCachedChunk(i,e);var o=f.normalizeResponse(t,!1);o.reset?h.reset(i):0<=(t=(t=u._getFileState(i).chunking.inProgress)?qq.indexOf(t,e):-1)&&(u._getFileState(i).chunking.inProgress.splice(t,1),u._getFileState(i).chunking.remaining.unshift(e)),u._getFileState(i).temp.ignoreFailure||(c&&(u._getFileState(i).temp.ignoreFailure=!0,l(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(u._getXhrs(i))),JSON.stringify(u._getFileState(i).chunking.inProgress))),qq.each(u._getXhrs(i),function(e,t){l(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",i,e,t.readyState)),t.abort(),t._cancelled=!0}),u.moveInProgressToRemaining(i),p.free(i,!0)),d.onAutoRetry(i,s,o,n)||f.cleanup(i,o,n))},hasMoreParts:function(e){return!!u._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=u._getFileState(e).chunking.remaining.shift();return t=t>=u._getTotalChunks(e)?null:t},reset:function(e){l("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),u._maybeDeletePersistedChunkData(e),u.reevaluateChunking(e),u._getFileState(e).loaded=0,u._getFileState(e).attemptingResume=!1},sendNext:function(s){var t=d.getSize(s),e=d.getName(s),o=h.nextPart(s),i=u._getChunkData(s,o),n=u._getFileState(s),a=n.attemptingResume,r=n.chunking.inProgress||[];null==n.loaded&&(n.loaded=0),a&&!1===d.onResume(s,e,i,n.customResumeData)&&(h.reset(s),o=h.nextPart(s),i=u._getChunkData(s,o),a=!1),null==o&&0===r.length?h.finalize(s):(r.push(o),u._getFileState(s).chunking.inProgress=r,c&&p.open(s,o),c&&p.available()&&u._getFileState(s).chunking.remaining.length&&h.sendNext(s),0===i.blob.size&&(l(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,s),"error"),h.handleFailure(o,s,"File is no longer available",null)),d.onUploadChunk(s,e,u._getChunkDataForCallback(i)).then(function(e){d.isInProgress(s)?(l(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",s,o,i.start+1,i.end,t)),e={chunkIdx:o,id:s,overrides:e,resuming:a},u.uploadChunk(e).then(function(e,t){l("Chunked upload request succeeded for "+s+", chunk "+o),u.clearCachedChunk(s,o);var i=u._getFileState(s).chunking.inProgress||[],n=f.normalizeResponse(e,!0),e=qq.indexOf(i,o);l(qq.format("Chunk {} for file {} uploaded successfully.",o,s)),h.done(s,o,n,t),0<=e&&i.splice(e,1),u._maybePersistChunkedState(s),h.hasMoreParts(s)||0!==i.length?h.hasMoreParts(s)?h.sendNext(s):l(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",s,JSON.stringify(i))):h.finalize(s)},function(e,t){h.handleFailure(o,s,e,t)}).done(function(){u.clearXhr(s,o)})):l(qq.format("Not sending chunked upload request for item {}.{} - no longer in progress.",s,o))},function(e){h.handleFailure(o,s,e,null)}))}},p={_open:[],_openChunks:{},_waiting:[],available:function(){var e=d.maxConnections,i=0,n=0;return qq.each(p._openChunks,function(e,t){i++,n+=t.length}),e-(p._open.length-i+n)},free:function(e,t){var i=!t,n=qq.indexOf(p._waiting,e),t=qq.indexOf(p._open,e);delete p._openChunks[e],f.getProxyOrBlob(e)instanceof qq.BlobProxy&&(l("Generated blob upload has ended for "+e+", disposing generated blob."),delete u._getFileState(e).file),0<=n?p._waiting.splice(n,1):i&&0<=t&&(p._open.splice(t,1),0<=(t=p._waiting.shift())&&(p._open.push(t),f.start(t)))},getWaitingOrConnected:function(){var i=[];return qq.each(p._openChunks,function(e,t){t&&t.length&&i.push(parseInt(e))}),qq.each(p._open,function(e,t){p._openChunks[t]||i.push(parseInt(t))}),i=i.concat(p._waiting)},isUsingConnection:function(e){return 0<=qq.indexOf(p._open,e)},open:function(e,t){return null==t&&p._waiting.push(e),!!p.available()&&(null==t?(p._waiting.pop(),p._open.push(e)):((i=p._openChunks[e]||[]).push(t),p._openChunks[e]=i),!0);var i},reset:function(){p._waiting=[],p._open=[]}},a=function(n,s){var e=u._getFileState(n);e?(e.loaded=0,l("Sending simple upload request for "+n),u.uploadFile(n).then(function(e,t){l("Simple upload request succeeded for "+n);var i=f.normalizeResponse(e,!0),e=d.getSize(n);d.onProgress(n,s,e,e),f.maybeNewUuid(n,i),f.cleanup(n,i,t)},function(e,t){l("Simple upload request failed for "+n);e=f.normalizeResponse(e,!1);d.onAutoRetry(n,s,e,t)||f.cleanup(n,e,t)})):l("Ignoring send request as this upload may have been cancelled, File ID "+n,"warn")},f={cancel:function(e){l("Cancelling "+e),d.paramsStore.remove(e),p.free(e)},cleanup:function(e,t,i){var n=d.getName(e);d.onComplete(e,n,t,i),u._getFileState(e)&&u._clearXhrs&&u._clearXhrs(e),p.free(e)},getProxyOrBlob:function(e){return u.getProxy&&u.getProxy(e)||u.getFile&&u.getFile(e)},initHandler:function(){var e=i?qq[i]:qq.traditional,t=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";(u=new e[t+"UploadHandler"](d,{getCustomResumeData:d.getCustomResumeData,getDataByUuid:d.getDataByUuid,getName:d.getName,getSize:d.getSize,getUuid:d.getUuid,log:l,onCancel:d.onCancel,onProgress:d.onProgress,onUuidChanged:d.onUuidChanged,onFinalizing:function(e){d.setStatus(e,qq.status.UPLOAD_FINALIZING)}}))._removeExpiredChunkingRecords&&u._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return d.isQueued(e)},maybeDefer:function(i,e){return e&&!u.getFile(i)&&e instanceof qq.BlobProxy?(d.onUploadPrep(i),l("Attempting to generate a blob on-demand for "+i),e.create().then(function(e){l("Generated an on-demand blob for "+i),u.updateBlob(i,e),d.setSize(i,e.size),u.reevaluateChunking(i),f.maybeSendDeferredFiles(i)},function(e){var t={};e&&(t.error=e),l(qq.format("Failed to generate blob for ID {}.  Error message: {}.",i,e),"error"),d.onComplete(i,d.getName(i),qq.extend(t,n),null),f.maybeSendDeferredFiles(i),p.free(i)}),!1):f.maybeSendDeferredFiles(i)},maybeSendDeferredFiles:function(i){var e=d.getIdsInProxyGroup(i),n=!1;return e&&e.length?(l("Maybe ready to upload proxy group file "+i),qq.each(e,function(e,t){if(f.isDeferredEligibleForUpload(t)&&u.getFile(t))n=t===i,f.now(t);else if(f.isDeferredEligibleForUpload(t))return!1})):(n=!0,f.now(i)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&d.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var i=e;return qq.isObject(e)||(i={},qq.isString(e)&&!t&&(i.error=e)),i.success=t,i},now:function(t){var i=d.getName(t);if(!s.isValid(t))throw new qq.Error(t+" is not a valid file ID to upload!");d.onUpload(t,i).then(function(e){e&&e.pause?(d.setStatus(t,qq.status.PAUSED),u.pause(t),p.free(t)):o&&u._shouldChunkThisFile(t)?h.sendNext(t):a(t,i)},function(e){l(t+" upload start aborted due to rejected onUpload Promise - details: "+(e=e||{}),"error"),d.onAutoRetry(t,i,e.responseJSON||{})||(e=f.normalizeResponse(e.responseJSON,!1),f.cleanup(t,e))})},start:function(e){var t=f.getProxyOrBlob(e);return t?f.maybeDefer(e,t):(f.now(e),!0)}};qq.extend(this,{add:function(e,t){u.add.apply(this,arguments)},upload:function(e){return!!p.open(e)&&f.start(e)},retry:function(e){return c&&(u._getFileState(e).temp.ignoreFailure=!1),p.isUsingConnection(e)?f.start(e):s.upload(e)},cancel:function(e){var t=u.cancel(e);qq.isGenericPromise(t)?t.then(function(){f.cancel(e)}):!1!==t&&f.cancel(e)},cancelAll:function(){var e,t=p.getWaitingOrConnected();if(t.length)for(e=t.length-1;0<=e;e--)s.cancel(t[e]);p.reset()},getFile:function(e){return u.getProxy&&u.getProxy(e)?u.getProxy(e).referenceBlob:u.getFile&&u.getFile(e)},isProxied:function(e){return!(!u.getProxy||!u.getProxy(e))},getInput:function(e){if(u.getInput)return u.getInput(e)},reset:function(){l("Resetting upload handler"),s.cancelAll(),p.reset(),u.reset()},expunge:function(e){if(s.isValid(e))return u.expunge(e)},isValid:function(e){return u.isValid(e)},hasResumeRecord:function(e){e=u.isValid(e)&&u._getLocalStorageId&&u._getLocalStorageId(e);return!!e&&!!localStorage.getItem(e)},getResumableFilesData:function(){return u.getResumableFilesData?u.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(s.isValid(e))return u.getThirdPartyFileId(e)},pause:function(e){return!!(s.isResumable(e)&&u.pause&&s.isValid(e)&&u.pause(e))&&(p.free(e),u.moveInProgressToRemaining(e),!0)},isAttemptingResume:function(e){return!!u.isAttemptingResume&&u.isAttemptingResume(e)},isResumable:function(e){return!!u.isResumable&&u.isResumable(e)}}),qq.extend(d,e),l=d.log,o=d.chunking.enabled&&qq.supportedFeatures.chunking,c=o&&d.chunking.concurrent.enabled,(e={})[d.preventRetryParam]=!0,n=e,f.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var i={};qq.extend({log:function(e,t){}},e),qq.extend(this,{receiveMessage:function(e,t){window.postMessage?i[e]=qq(window).attach("message",function(e){t(e.data)}):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){!window.postMessage||(e=i[e])&&e()}})},qq.FormUploadHandler=function(e){"use strict";var t=e.options,l=this,i=e.proxy,n=qq.getUniqueId(),u={},c={},d={},h=t.isCors,s=t.inputName,p=i.getUuid,f=i.log,m=new qq.WindowReceiveMessage({log:f});function g(e){return e.split("_")[0]}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(i){return{add:function(e,t){i.add(e,{input:t}),t.setAttribute("name",s),t.parentNode&&qq(t).remove()},expunge:function(e){var t;delete c[t=e],h&&(clearTimeout(d[t]),delete d[t],m.stopReceivingMessages(t)),(t=document.getElementById(l._getIframeName(t)))&&(t.setAttribute("src","javascript:false;"),qq(t).remove()),i.expunge(e)},isValid:function(e){return i.isValid(e)&&void 0!==l._getFileState(e).input}}}),qq.extend(this,{getInput:function(e){return l._getFileState(e).input},_attachLoadEvent:function(e,t){var i,n,s,o,a,r;h?(s=t,o=(n=e).id,a=g(o),r=p(a),u[r]=s,c[a]=qq(n).attach("load",function(){l.getInput(a)&&(f("Received iframe load event for CORS upload request (iframe name "+o+")"),d[o]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+o;f(e,"error"),s({error:e})},1e3))}),m.receiveMessage(o,function(e){f("Received the following window message: '"+e+"'");g(o);var t,i=l._parseJsonResponse(e),n=i.uuid;n&&u[n]?(f("Handling response for iframe name "+o),clearTimeout(d[o]),delete d[o],l._detachLoadEvent(o),t=u[n],delete u[n],m.stopReceivingMessages(o),t(i)):n||f("'"+e+"' does not contain a UUID - ignoring.")})):c[e.id]=qq(e).attach("load",function(){if(f("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){f("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),i={success:!1}}t(i)}})},_createIframe:function(e){var t=l._getIframeName(e);return e=t,(t=qq.toElement("<iframe src='javascript:false;' name='"+e+"' />")).setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t},_detachLoadEvent:function(e){void 0!==c[e]&&(c[e](),delete c[e])},_getIframeName:function(e){return e+"_"+n},_initFormForUpload:function(e){var t=e.method,i=e.endpoint,n=e.params,s=e.paramsInBody,o=e.targetName,e=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),t=i;return s?qq.obj2Inputs(n,e):t=qq.obj2url(n,i),e.setAttribute("action",t),e.setAttribute("target",o),e.style.display="none",document.body.appendChild(e),e},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){f("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function a(e){var t=c._getFileState(e);if(t.chunkSize)return t.chunkSize;var i=s.partSize;return qq.isFunction(i)&&(i=i(e,h(e))),t.chunkSize=i}var c=this,r=e.options.namespace,t=e.proxy,s=e.options.chunking,l=e.options.resume,i=s&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,o=l&&e.options.resume.enabled&&i&&qq.supportedFeatures.resume,d=t.getName,h=t.getSize,u=t.getUuid,p=t.getEndpoint,n=t.getDataByUuid,f=t.onUuidChanged,m=t.onProgress,g=t.log,_=t.getCustomResumeData;function v(i){qq.each(c._getXhrs(i),function(e,t){e=c._getAjaxRequester(i,e);t.onreadystatechange=null,t.upload.onprogress=null,t.abort(),e&&e.canceled&&e.canceled(i)})}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(i){return{add:function(e,t){if(qq.isFile(t)||qq.isBlob(t))i.add(e,{file:t});else{if(!(t instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");i.add(e,{proxy:t})}c._initTempState(e),o&&c._maybePrepareForResume(e)},expunge:function(e){v(e),c._maybeDeletePersistedChunkData(e),c._clearXhrs(e),i.expunge(e)}}}),qq.extend(this,{clearCachedChunk:function(e,t){e=c._getFileState(e);e&&delete e.temp.cachedChunks[t]},clearXhr:function(e,t){e=c._getFileState(e).temp;e.xhrs&&delete e.xhrs[t],e.ajaxRequesters&&delete e.ajaxRequesters[t]},finalizeChunks:function(e,t){var i=c._getTotalChunks(e)-1,i=c._getXhr(e,i);return t?(new qq.Promise).success(t(i),i):(new qq.Promise).success({},i)},getFile:function(e){return c.isValid(e)&&c._getFileState(e).file},getProxy:function(e){return c.isValid(e)&&c._getFileState(e).proxy},getResumableFilesData:function(){var n=[];return c._iterateResumeRecords(function(e,t){c.moveInProgressToRemaining(null,t.chunking.inProgress,t.chunking.remaining);var i={name:t.name,remaining:t.chunking.remaining,size:t.size,uuid:t.uuid};t.key&&(i.key=t.key),t.customResumeData&&(i.customResumeData=t.customResumeData),n.push(i)}),n},isAttemptingResume:function(e){return c._getFileState(e).attemptingResume},isResumable:function(e){return!!s&&c.isValid(e)&&!c._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,i){var e=(c._getFileState(e)||{}).chunking||{},t=t||e.inProgress,n=i||e.remaining;t&&(g(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(t))),t.reverse(),qq.each(t,function(e,t){n.unshift(t)}),t.length=0)},pause:function(e){if(c.isValid(e))return g(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,d(e))),c._getFileState(e).paused=!0,v(e),!0},reevaluateChunking:function(e){if(s&&c.isValid(e)){var t,i,n=c._getFileState(e);if(delete n.chunking,n.chunking={},1<(t=c._getTotalChunks(e))||s.mandatory){for(n.chunking.enabled=!0,n.chunking.parts=t,n.chunking.remaining=[],i=0;i<t;i++)n.chunking.remaining.push(i);c._initTempState(e)}else n.chunking.enabled=!1}},updateBlob:function(e,t){c.isValid(e)&&(c._getFileState(e).file=t)},_clearXhrs:function(e){var t=c._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return c._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){t=null==t?-1:t;return c._getFileState(e).temp.ajaxRequesters[t]},_getChunkData:function(e,t){var i=a(e),n=h(e),s=c.getFile(e),o=i*t,n=n<=o+i?n:o+i,i=c._getTotalChunks(e),e=this._getFileState(e).temp.cachedChunks,s=e[t]||qq.sliceBlob(s,o,n);return{part:t,start:o,end:n,count:i,blob:e[t]=s,size:n-o}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t=d(e),i=h(e),n=a(e),s=p(e),e=l.customKeys(e),o=qq.format("qq{}resume{}-{}-{}-{}-{}",r,"5.0",t,i,n,s);return e.forEach(function(e){o+="-"+e}),o},_getMimeType:function(e){return c.getFile(e).type},_getPersistableData:function(e){return c._getFileState(e).chunking},_getTotalChunks:function(e){if(s){var t=h(e),e=a(e);return Math.ceil(t/e)}},_getXhr:function(e,t){t=null==t?-1:t;return c._getFileState(e).temp.xhrs[t]},_getXhrs:function(e){return c._getFileState(e).temp.xhrs},_iterateResumeRecords:function(i){o&&qq.each(localStorage,function(e,t){0===e.indexOf(qq.format("qq{}resume",r))&&(t=JSON.parse(t),i(e,t))})},_initTempState:function(e){c._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){c._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return!!(o&&c.isResumable(e)&&(t=c._getLocalStorageId(e))&&localStorage.getItem(t))&&(localStorage.removeItem(t),!0)},_maybePrepareForResume:function(e){var t,i=c._getFileState(e);o&&void 0===i.key&&(t=c._getLocalStorageId(e),(t=localStorage.getItem(t))&&(t=JSON.parse(t),n(t.uuid)?c._markNotResumable(e):(g(qq.format("Identified file with ID {} and name of {} as resumable.",e,d(e))),f(e,t.uuid),i.key=t.key,i.chunking=t.chunking,i.loaded=t.loaded,i.customResumeData=t.customResumeData,i.attemptingResume=!0,c.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(t){var e=c._getFileState(t);if(o&&c.isResumable(t)){var i=_(t),n=c._getLocalStorageId(t),e={name:d(t),size:h(t),uuid:u(t),key:e.key,chunking:e.chunking,loaded:e.loaded,lastUpdated:Date.now()};i&&(e.customResumeData=i);try{localStorage.setItem(n,JSON.stringify(e))}catch(e){g(qq.format("Unable to save resume data for '{}' due to error: '{}'.",t,e.toString()),"warn")}}},_registerProgressHandler:function(a,r,l){var e=c._getXhr(a,r),u=d(a),t={simple:function(e,t){var i=h(a);m(a,u,e===t?i:i<=e?i-1:e,i)},chunked:function(e,t){var i=c._getFileState(a).temp.chunkProgress,n=c._getFileState(a).loaded,s=e,e=t,t=h(a),o=n;i[r]=s-(e-l),qq.each(i,function(e,t){o+=t}),m(a,u,o,t)}};e.upload.onprogress=function(e){e.lengthComputable&&t[null==l?"simple":"chunked"](e.loaded,e.total)}},_registerXhr:function(e,t,i,n){t=null==t?-1:t,e=c._getFileState(e).temp;return e.xhrs=e.xhrs||{},e.ajaxRequesters=e.ajaxRequesters||{},e.xhrs[t]=i,n&&(e.ajaxRequesters[t]=n),i},_removeExpiredChunkingRecords:function(){var i=l.recordsExpireIn;c._iterateResumeRecords(function(e,t){t=new Date(t.lastUpdated);t.setDate(t.getDate()+i),t.getTime()<=Date.now()&&(g("Removing expired resume record with key "+e),localStorage.removeItem(e))})},_shouldChunkThisFile:function(e){var t=c._getFileState(e);if(t)return t.chunking||c.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";var n,s={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,i){}};qq.extend(s,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:s.method,endpointStore:s.endpointStore,paramsStore:s.paramsStore,mandatedParams:"POST"===s.method.toUpperCase()?{_method:"DELETE"}:{},maxConnections:s.maxConnections,customHeaders:function(e){return s.customHeaders.get(e)},log:s.log,onSend:s.onDelete,onComplete:s.onDeleteComplete,cors:s.cors})),qq.extend(this,{sendDelete:function(e,t,i){i=i||{};s.log("Submitting delete file request for "+e),"DELETE"===s.method?n.initTransport(e).withPath(t).withParams(i).send():(i[s.uuidParamName]=t,n.initTransport(e).withParams(i).send())}})},r1b.prototype.render=function(t,e){e=e||{};var i,n,s,o,a,r,l=this,u=this.srcImage.naturalWidth,c=this.srcImage.naturalHeight,d=e.width,h=e.height,p=e.maxWidth,f=e.maxHeight,m=!this.blob||"image/jpeg"===this.blob.type,g=t.tagName.toLowerCase();this.imageLoadListeners?this.imageLoadListeners.push(function(){l.render(t,e)}):(d&&!h?h=c*d/u<<0:h&&!d?d=u*h/c<<0:(d=u,h=c),p&&p<d&&(h=c*(d=p)/u<<0),f&&f<h&&(d=u*(h=f)/c<<0),i={width:d,height:h},qq.each(e,function(e,t){i[e]=t}),"img"===g?(r=t.src,c=l.srcImage,d=l.blob,n=i,h=m,s=document.createElement("canvas"),o=n.mime||"image/jpeg",a=new qq.Promise,o1b(c,d,s,n,h).then(function(){a.success(s.toDataURL(o,n.quality||.8))}),a.then(function(e){t.src=e,r===t.src&&t.onload()})):"canvas"===g&&o1b(this.srcImage,this.blob,t,i,m),"function"==typeof this.onrender&&this.onrender(t))},qq.MegaPixImage=r1b,qq.ImageGenerator=function(c){"use strict";function r(e){return"img"===e.tagName.toLowerCase()}function l(e){return"canvas"===e.tagName.toLowerCase()}function u(e){e=e.split("/"),e=e[e.length-1].split("?")[0],e=qq.getExtension(e);switch(e=e&&e.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function d(e){var t,i=document.createElement("a");return i.href=e,t=i.protocol,e=i.port,i=i.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||(i.toLowerCase()!==window.location.hostname.toLowerCase()||e!==window.location.port&&!qq.ie())}function h(e,t){var i,n,s,o,a=r(e)||l(e);return r(e)?(o=t,(s=e).onload=function(){s.onload=null,s.onerror=null,o.success(s)},s.onerror=function(){s.onload=null,s.onerror=null,c("Problem drawing thumbnail!","error"),o.failure(s,"Problem drawing thumbnail!")}):l(e)?(n=t,(i=e).qqImageRendered=function(){n.success(i)}):(t.failure(e),c(qq.format("Element container of type {} is not supported!",e.tagName),"error")),a}function o(e,t,i,n,s){var o=new Image,a=new qq.Promise;h(o,a),d(e)&&(o.crossOrigin="anonymous"),o.src=e,a.then(function(){h(t,i),new qq.MegaPixImage(o).render(t,{maxWidth:n,maxHeight:n,mime:u(e),resize:s})},i.failure)}function a(e,t,i,n){h(t,i),qq(t).css({maxWidth:n+"px",maxHeight:n+"px"}),t.src=e}function p(e,t,i){var n=new qq.Promise,s=i.scale,i=s?i.maxSize:null;return s&&r(t)?(!(s=document.createElement("canvas")).getContext||!s.getContext("2d")||d(e)&&void 0===(new Image).crossOrigin?a:o)(e,t,n,i):l(t)?o(e,t,n,i):h(t,n)&&(t.src=e),n}qq.extend(this,{generate:function(e,t,i){return qq.isString(e)?(c("Attempting to update thumbnail based on server response."),p(e,t,i||{})):(c("Attempting to draw client-side image preview."),s=e,o=t,a=i||{},r=new qq.Promise,i=new qq.Identify(s,c),l=a.maxSize,u=null==a.orient||a.orient,i.isPreviewable().then(function(t){var e={parse:function(){return(new qq.Promise).success()}},e=u?new qq.Exif(s,c):e,i=new qq.MegaPixImage(s,n);h(o,r)&&e.parse().then(function(e){e=e&&e.Orientation;i.render(o,{maxWidth:l,maxHeight:l,orientation:e,mime:t,resize:a.customResizeFunction})},function(e){c(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",e)),i.render(o,{maxWidth:l,maxHeight:l,mime:t,resize:a.customResizeFunction})})},function(){c("Not previewable"),r.failure(o,"Not previewable")}),r);function n(){o.onerror=null,o.onload=null,c("Could not render preview, file may be too large!","error"),r.failure(o,"Browser cannot render image!")}var s,o,a,r,l,u}}),this._testing={},this._testing.isImg=r,this._testing.isCanvas=l,this._testing.isCrossOrigin=d,this._testing.determineMimeOfFileName=u},qq.Exif=function(a,u){"use strict";var c=[274],d={274:{name:"Orientation",bytes:2}};function h(e){for(var t=0,i=0;0<e.length;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,i),e=e.substring(2,e.length),i+=8;return t}function e(){var t=new qq.Promise;return qq.readBlobToHex(a,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):function i(e,t){var n=e,s=t;return void 0===n&&(n=2,s=new qq.Promise),qq.readBlobToHex(a,n,4).then(function(e){var t=/^ffe([0-9])/.exec(e);t?"1"!==t[1]?(e=parseInt(e.slice(4,8),16),i(n+e+2,s)):s.success(n):s.failure("No EXIF header to be found!")}),s}().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}qq.extend(this,{parse:function(){function o(e){u(qq.format("EXIF header parse failed: '{}' ",e)),l.failure(e)}var l=new qq.Promise;return e().then(function(s){var e,t;u(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===a.name?"blob":a.name)),e=s,t=new qq.Promise,qq.readBlobToHex(a,e+10,2).then(function(e){t.success("4949"===e)}),t.then(function(t){var e,i,n;u(qq.format("EXIF Byte order is {} endian",t?"little":"big")),e=s,i=t,n=new qq.Promise,qq.readBlobToHex(a,e+18,2).then(function(e){return i?n.success(h(e)):void n.success(parseInt(e,16))}),n.then(function(e){u(qq.format("Found {} APP1 directory entries",e)),qq.readBlobToHex(a,s+20,12*e).then(function(e){var o,a,r,e=function(e){for(var t=[],i=0;i+24<=e.length;)t.push(e.slice(i,i+24)),i+=24;return t}(e),e=(o=t,e=e,a=qq.extend([],c),r={},qq.each(e,function(e,t){var i=t.slice(0,4),n=o?h(i):parseInt(i,16),s=a.indexOf(n);if(0<=s&&(i=d[n].name,n=d[n].bytes,n=t.slice(16,16+2*n),r[i]=o?h(n):parseInt(n,16),a.splice(s,1)),0===a.length)return!1}),r);u("Successfully parsed some EXIF tags"),l.success(e)},o)},o)},o)},o),l}}),this._testing={},this._testing.parseLittleEndian=h},qq.Identify=function(s,r){"use strict";qq.extend(this,{isPreviewable:function(){var e=this,o=new qq.Promise,a=!1,t=void 0===s.name?"blob":s.name;return r(qq.format("Attempting to determine if {} can be rendered in this browser",t)),r("First pass: check type attribute of blob object."),this.isPreviewableSync()?(r("Second pass: check for magic bytes in file header."),qq.readBlobToHex(s,0,4).then(function(s){qq.each(e.PREVIEWABLE_MIME_TYPES,function(e,t){if(i=s,n=!1,t=[].concat(t=t),qq.each(t,function(e,t){if(0===i.indexOf(t))return!(n=!0)}),n)return"image/tiff"===e&&!qq.supportedFeatures.tiffPreviews||(a=!0,o.success(e)),!1;var i,n}),r(qq.format("'{}' is {} able to be rendered in this browser",t,a?"":"NOT")),a||o.failure()},function(){r("Error reading file w/ name '"+t+"'.  Not able to be rendered in this browser."),o.failure()})):o.failure(),o},isPreviewableSync:function(){var e=s.type,t=0<=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),e),i=!1,n=void 0===s.name?"blob":s.name;return(i=t?"image/tiff"!==e||qq.supportedFeatures.tiffPreviews:i)||r(n+" is not previewable in this browser per the blob's type attr"),i}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(o,a){"use strict";this.validate=function(t){var i,n,s=new qq.Promise;return a("Attempting to validate image."),n=!1,qq.each(t,function(e,t){if(0<t)return!(n=!0)}),n?(i=new qq.Promise,new qq.Identify(o,a).isPreviewable().then(function(){var e=new Image,t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;t?(e.onerror=function(){a("Cannot determine dimensions for image.  May be too large.","error"),i.failure()},e.onload=function(){i.success({width:this.width,height:this.height})},e.src=t.createObjectURL(o)):(a("No createObjectURL function available to generate image URL!","error"),i.failure())},i.failure),i.then(function(e){var o,a,e=(o=e,qq.each(t,function(e,t){if(0<t){var i=/(max|min)(Width|Height)/.exec(e),n=i[2].charAt(0).toLowerCase()+i[2].slice(1),s=o[n];switch(i[1]){case"min":if(s<t)return a=e,!1;break;case"max":if(t<s)return a=e,!1}}}),a);e?s.failure(e):s.success()},s.success)):s.success(),s}},qq.Session=function(e){"use strict";var o={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};function s(e,t,i,n){var s=!1;(t=t&&function(e){if(qq.isArray(e))return!0;o.log("Session response is not an array.","error")}(e))&&qq.each(e,function(e,t){if(null==t.uuid)s=!0,o.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)s=!0,o.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return o.addFileRecord(t),!0}catch(e){s=!0,o.log(e.message,"error")}return!1}),n[t&&!s?"success":"failure"](e,i)}qq.extend(o,e,!0),this.refresh=function(){var n=new qq.Promise,e=qq.extend({},o);return new qq.SessionAjaxRequester(qq.extend(e,{onComplete:function(e,t,i){s(e,t,i,n)}})).queryServer(),n}},qq.SessionAjaxRequester=function(e){"use strict";var t,s={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,i){},log:function(e,t){}};qq.extend(s,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return s.endpoint}},customHeaders:s.customHeaders,log:s.log,onComplete:function(e,t,i){var n=null;if(null!=t.responseText)try{n=qq.parseJson(t.responseText)}catch(e){s.log("Problem parsing session response: "+e.message,"error"),i=!0}s.onComplete(n,!i,t)},cors:s.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},s.params);s.log("Session query request."),t.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,r){"use strict";var l=e.customResizer,i=e.sendOriginal,u=e.orient,c=e.defaultType,d=e.defaultQuality/100,h=e.failureText,p=e.includeExif,f=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&0<f.length,getFileRecords:function(e,n,t){var s=this,o=[],a=t.blob||t;return new qq.Identify(a,r).isPreviewableSync()?(qq.each(f,function(e,t){var i=s._determineOutputType({defaultType:c,requestedType:t.type,refType:a.type});o.push({uuid:qq.getUniqueId(),name:s._getName(n,{name:t.name,type:i,refType:a.type}),blob:new qq.BlobProxy(a,qq.bind(s._generateScaledImage,s,{customResizeFunction:l,maxSize:t.maxSize,orient:u,type:i,quality:d,failedText:h,includeExif:p,log:r}))})}),o.push({uuid:e,name:n,size:a.size,blob:i?a:null})):o.push({uuid:e,name:n,size:a.size,blob:a}),o},handleNewFile:function(e,t,i,n,s,o,a,r){e.qqButtonId||e.blob&&e.blob.qqButtonId;var l=[],u=null,c=r.addFileToHandler,d=r.uploadData,h=r.paramsStore,p=qq.getUniqueId();qq.each(this.getFileRecords(i,t,e),function(e,t){var i=t.size;t.blob instanceof qq.BlobProxy&&(i=-1),i=d.addFile({uuid:t.uuid,name:t.name,size:i,batchId:o,proxyGroupId:p}),t.blob instanceof qq.BlobProxy?l.push(i):u=i,t.blob?(c(i,t.blob),s.push({id:i,file:t.blob})):d.setStatus(i,qq.status.REJECTED)}),null!==u&&(qq.each(l,function(e,t){var i={qqparentuuid:d.retrieve({id:u}).uuid,qqparentsize:d.retrieve({id:u}).size};i[a]=d.retrieve({id:t}).uuid,d.setParentId(t,u),h.addReadOnly(t,i)}),l.length&&((e={})[a]=d.retrieve({id:u}).uuid,h.addReadOnly(u,e)))}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(t,e,i){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var n=new qq.Promise,s=i.log,o=i.getFile(t),i=i.uploadData.retrieve({id:t}),a=i&&i.name,r=i&&i.uuid,e={customResizer:e.customResizer,sendOriginal:!1,orient:e.orient,defaultType:e.type||null,defaultQuality:e.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:e.maxSize}]},l=new qq.Scaler(e,s);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var e=l.getFileRecords(r,a,o)[0];e&&e.blob instanceof qq.BlobProxy?e.blob.create().then(n.success,n.failure):(s(t+" is not a scalable image!","error"),n.failure())},this)():(n.failure(),s("Could not generate requested scaled image for "+t+".  Scaling is either not possible in this browser, or the file could not be located.","error")),n},_determineOutputType:function(e){"use strict";var t=e.requestedType,i=e.defaultType,e=e.refType;return i||t?t&&0<=qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)&&("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)?t:i:"image/jpeg"!==e?"image/png":e},_getName:function(e,t){"use strict";var i=e.lastIndexOf("."),n=t.type||"image/png",s=t.refType,o="",a=qq.getExtension(e),r="";return t.name&&t.name.trim().length&&(r=" ("+t.name+")"),0<=i?(o=e.substr(0,i),o+=r+"."+(a=s!==n?n.split("/")[1]:a)):o=e+r,o},_getSortedSizes:function(e){"use strict";return(e=qq.extend([],e)).sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,n){"use strict";var s=this,t=e.customResizeFunction,o=e.log,i=e.maxSize,a=e.orient,r=e.type,l=e.quality,u=e.failedText,c=e.includeExif&&"image/jpeg"===n.type&&"image/jpeg"===r,d=new qq.Promise,e=new qq.ImageGenerator(o),h=document.createElement("canvas");return o("Attempting to generate scaled version for "+n.name),e.generate(n,h,{maxSize:i,orient:a,customResizeFunction:t}).then(function(){function t(){o("Success generating scaled version for "+n.name);var e=qq.dataUriToBlob(i);d.success(e)}var i=h.toDataURL(r,l);c?s._insertExifHeader(n,i,o).then(function(e){i=e,t()},function(){o("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),t()}):t()},function(){o("Failed attempt to generate scaled version for "+n.name,"error"),d.failure(u)}),d},_insertExifHeader:function(e,t,i){"use strict";var n,s=new FileReader,o=new qq.Promise;return s.onload=function(){n=s.result,o.success(qq.ExifRestorer.restore(n,t))},s.onerror=function(){i("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),o.failure()},s.readAsDataURL(e),o},_dataUriToBlob:function(e){"use strict";var t=(0<=e.split(",")[0].indexOf("base64")?atob:decodeURI)(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),n=new Uint8Array(e);return qq.each(t,function(e,t){n[e]=t.charCodeAt(0)}),this._createBlob(e,i)},_createBlob:function(e,t){"use strict";var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=i&&new i;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=(Zfb={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){for(var t,i,n,s,o,a="",r="",l="",u=0;n=(t=e[u++])>>2,s=(3&t)<<4|(i=e[u++])>>4,o=(15&i)<<2|(r=e[u++])>>6,l=63&r,isNaN(i)?o=l=64:isNaN(r)&&(l=64),a=a+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),o=l=r="",u<e.length;);return a},restore:function(e,t){var i="data:image/jpeg;base64,";if(!e.match(i))return t;e=this.decode64(e.replace(i,"")),e=this.slice2Segments(e),e=this.exifManipulation(t,e);return i+this.encode64(e)},exifManipulation:function(e,t){t=this.getExifArray(t),t=this.insertExif(e,t);return new Uint8Array(t)},getExifArray:function(e){for(var t,i=0;i<e.length;i++)if(255==(t=e[i])[0]&225==t[1])return t;return[]},insertExif:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),e=n.indexOf(255,3),i=n.slice(0,e),e=n.slice(e);return i.concat(t).concat(e)},slice2Segments:function(e){for(var t,i,n=0,s=[];;){if(255==e[n]&218==e[n+1])break;if(255==e[n]&216==e[n+1]?n+=2:(t=n+(256*e[n+2]+e[n+3])+2,i=e.slice(n,t),s.push(i),n=t),n>e.length)break}return s},decode64:function(e){var t,i,n,s,o,a="",r=0,l=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");i=this.KEY_STR.indexOf(e.charAt(r++)),t=(15&(n=this.KEY_STR.indexOf(e.charAt(r++))))<<4|(s=this.KEY_STR.indexOf(e.charAt(r++)))>>2,a=(3&s)<<6|(o=this.KEY_STR.indexOf(e.charAt(r++))),l.push(i<<2|n>>4),64!=s&&l.push(t),64!=o&&l.push(a),t=a="",r<e.length;);return l}},Zfb),qq.TotalProgress=function(i,n){"use strict";function s(e){var t=n(e);0<t&&(o(e,0,t),a[e]={loaded:0,total:t})}function o(e,t,i){var n=a[e]?a[e].loaded:0,e=a[e]?a[e].total:0;-1===t&&-1===i?(r-=n,l-=e):(t&&(r+=t-n),i&&(l+=i-e)),d(r,l)}var a={},r=0,l=0,u=-1,c=-1,d=function(e,t){e===u&&t===c||i(e,t),u=e,c=t};qq.extend(this,{onAllComplete:function(e,t,i){var n,s;0!==t.length&&(n=i,s=!0,qq.each(t,function(e,t){if(0<=qq.indexOf(n,t))return s=!1}),!s)||(d(l,l),this.reset())},onStatusChange:function(e,t,i){var n;i===qq.status.CANCELED||i===qq.status.REJECTED?(o(n=e,-1,-1),delete a[n]):i===qq.status.SUBMITTING&&s(e)},onIndividualProgress:function(e,t,i){o(e,t,i),a[e]={loaded:t,total:i}},onNewSize:function(e){s(e)},reset:function(){a={},l=r=0}})},qq.PasteSupport=function(e){"use strict";var n,t;n={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(n,e),t=qq(n.targetElement).attach("paste",function(e){e=e.clipboardData;e&&qq.each(e.items,function(e,t){var i;(i=t).type&&0===i.type.indexOf("image/")&&(t=t.getAsFile(),n.callbacks.pasteReceived(t))})}),qq.extend(this,{reset:function(){t&&t()}})},qq.FormSupport=function(e,t,i){"use strict";var n,s,o,a,r=this,l=e.interceptSubmit,u=e.element,e=e.autoUpload;function c(e,t){if(!e.checkValidity||e.checkValidity())return 1;i("Form did not pass validation checks - will not upload.","error"),t()}qq.extend(this,{newEndpoint:null,newAutoUpload:e,attachedToForm:!1,getFormInputsAsObject:function(){return null==u?null:r._form2Obj(u)}}),(n=(n=u)&&(qq.isString(n)?document.getElementById(n):n))&&(i("Attaching to form element."),(a=n).getAttribute("action")&&(r.newEndpoint=a.getAttribute("action")),l&&(o=(s=n).submit,qq(s).attach("submit",function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,c(s,o)&&t()}),s.submit=function(){c(s,o)&&t()})),u=n,this.attachedToForm=!!u},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";function s(e){return t=e.type,0<=qq.indexOf(["checkbox","radio"],t.toLowerCase())&&!e.checked||e.disabled&&"hidden"!==e.type.toLowerCase();var t}var o={};return qq.each(e.elements,function(e,t){var i,n;(qq.isInput(t,!0)||"textarea"===t.tagName.toLowerCase())&&(n=t.type,qq.indexOf(["button","image","reset","submit"],n.toLowerCase())<0)&&!s(t)?o[t.name]=t.value:"select"!==t.tagName.toLowerCase()||s(t)||(i=null,qq.each(qq(t).children(),function(e,t){if("option"===t.tagName.toLowerCase()&&t.selected)return i=t.value,!1}),null!==(n=i)&&(o[t.name]=n))}),o}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(c,e){"use strict";var d=this,h=e.getName,p=e.getUuid,f=e.log;this.uploadFile=function(t){var e,i,n,s,o,a,r=d.getInput(t),l=d._createIframe(t),u=new qq.Promise;return e=t,i=l,n=c.paramsStore.get(e),s="get"===c.method.toLowerCase()?"GET":"POST",o=c.endpointStore.get(e),a=h(e),n[c.uuidName]=p(e),n[c.filenameParam]=a,(i=d._initFormForUpload({method:s,endpoint:o,params:n,paramsInBody:c.paramsInBody,targetName:i.name})).appendChild(r),d._attachLoadEvent(l,function(e){f("iframe loaded");e=e||function(e){var t,i,n;try{n=(i=e.contentDocument||e.contentWindow.document).body.innerHTML,f("converting iframe's innerHTML to JSON"),f("innerHTML = "+n),n&&n.match(/^<pre/i)&&(n=i.body.firstChild.firstChild.nodeValue),t=d._parseJsonResponse(n)}catch(e){f("Error when attempting to parse form upload response ("+e.message+")","error"),t={success:!1}}return t}(l);d._detachLoadEvent(t),c.cors.expected||qq(l).remove(),e.success?u.success(e):u.failure(e)}),f("Sending upload request for "+t),i.submit(),qq(i).remove(),u},qq.extend(this,new qq.FormUploadHandler({options:{isCors:c.cors.expected,inputName:c.inputName},proxy:{onCancel:c.onCancel,getName:h,getUuid:p,log:f}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(h,s){"use strict";function p(t,i){var n=new qq.Promise;return i.onreadystatechange=function(){var e;4===i.readyState&&((e=r(t,i)).success?n.success(e.response,i):n.failure(e.response,i))},n}function f(e){var t,i=e.fileOrBlob,n=e.id,s=e.xhr,o=e.xhrOverrides||{},a=e.customParams||{},r=e.params||{},l=o.params||{},u=q?new FormData:null,c=o.method||h.method,d=o.endpoint||h.endpointStore.get(n),e=_(n),o=v(n);return h.omitDefaultParams?(t=qq.extend({},a),qq.extend(t,l)):(t=qq.extend({},a),qq.extend(t,l),qq.extend(t,r),t[h.uuidName]=b(n),t[h.filenameParam]=e,q?t[h.totalFileSizeName]=o:h.paramsInBody||(t[h.inputName]=e)),h.paramsInBody||(d=qq.obj2url(t,d)),s.open(c,d,!0),h.cors.expected&&h.cors.sendCredentials&&(s.withCredentials=!0),q?(h.paramsInBody&&qq.obj2FormData(t,u),u.append(h.inputName,i),u):i}function m(e){var t=e.headerOverrides,i=e.id,n=e.xhr;t?qq.each(t,function(e,t){n.setRequestHeader(e,t)}):(t=h.customHeaders.get(i),i=g.getFile(i),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Cache-Control","no-cache"),q||(n.setRequestHeader("Content-Type","application/octet-stream"),n.setRequestHeader("X-Mime-Type",i.type)),qq.each(t,function(e,t){n.setRequestHeader(e,t)}))}var g=this,_=s.getName,v=s.getSize,b=s.getUuid,n=s.log,q=h.forceMultipart||h.paramsInBody,o=new qq.traditional.AllChunksDoneAjaxRequester({cors:h.cors,endpoint:h.chunking.success.endpoint,headers:h.chunking.success.headers,jsonPayload:h.chunking.success.jsonPayload,log:n,method:h.chunking.success.method,params:h.chunking.success.params}),a=function(e){var t=h.paramsStore.get(e),i=_(e),n=v(e);return t[h.uuidName]=b(e),t[h.filenameParam]=i,t[h.totalFileSizeName]=n,t[h.chunking.paramNames.totalParts]=g._getTotalChunks(e),t},i=function(e,t){return qq.indexOf([200,201,202,203,204],e.status)<0||h.requireSuccessJson&&!t.success||t.reset},r=function(e,t){return n("xhr - server response received for "+e),n("responseText = "+t.responseText),e=l(!0,t),{success:!i(t,e),response:e}},l=function(t,e){var i={};try{n(qq.format("Received response status {} with body: {}",e.status,e.responseText)),i=qq.parseJson(e.responseText)}catch(e){t&&h.requireSuccessJson&&n("Error when attempting to parse xhr response text ("+e.message+")","error")}return i};qq.extend(this,{uploadChunk:function(e){var t,i,n,s=e.id,o=e.chunkIdx,a=e.overrides||{},r=e.resuming,l=g._getChunkData(s,o),u=g._createXhr(s,o),c={},d=p(s,u);return g._registerProgressHandler(s,o,l.size),t=h.paramsStore.get(s),i=c,n=l,o=v(e=s),e=_(e),h.omitDefaultParams||(i[h.chunking.paramNames.partIndex]=n.part,i[h.chunking.paramNames.partByteOffset]=n.start,i[h.chunking.paramNames.chunkSize]=n.size,i[h.chunking.paramNames.totalParts]=n.count,i[h.totalFileSizeName]=o),q&&!h.omitDefaultParams&&(i[h.filenameParam]=e),r&&(c[h.resume.paramNames.resuming]=!0),c=f({fileOrBlob:l.blob,id:s,customParams:t,params:c,xhr:u,xhrOverrides:a}),m({headerOverrides:a.headers,id:s,xhr:u}),u.send(c),d},uploadFile:function(e){var t,i,n=g.getFile(e),s=g._createXhr(e);return g._registerProgressHandler(e),t=p(e,s),i=h.paramsStore.get(e),i=f({fileOrBlob:n,id:e,customParams:i,xhr:s}),m({id:e,xhr:s}),s.send(i),t}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},h),proxy:qq.extend({getEndpoint:h.endpointStore.get},s)})),qq.override(this,function(n){return{finalizeChunks:function(e){return s.onFinalizing(e),h.chunking.success.endpoint?(t=e,i=new qq.Promise,o.complete(t,g._createXhr(t),a(t),h.customHeaders.get(t)).then(function(e){i.success(l(!1,e),e)},function(e){i.failure(l(!1,e),e)}),i):n.finalizeChunks(e,qq.bind(l,this,!0));var t,i}}})},qq.traditional.AllChunksDoneAjaxRequester=function(e){"use strict";var o,a={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(e,t){},method:"POST"},r={},t={get:function(e){return qq.isFunction(a.endpoint)?a.endpoint(e):a.endpoint}};qq.extend(a,e),o=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",contentType:a.jsonPayload?"application/json":"application/x-www-form-urlencoded",validMethods:[a.method],method:a.method,endpointStore:t,allowXRequestedWithAndCacheControl:!1,cors:a.cors,log:a.log,onComplete:function(e,t,i){var n=r[e];delete r[e],i?n.failure(t):n.success(t)}})),qq.extend(this,{complete:function(e,t,i,n){var s=new qq.Promise;return a.log("Submitting All Chunks Done request for "+e),r[e]=s,o.initTransport(e).withParams(a.params(e)||i).withHeaders(a.headers(e)||n).send(t),s}})},qq.DragAndDrop=function(e){"use strict";var a,n,i="qq-hidezones",s="qq-hide-dropzone",r=[],l=[],u=new qq.DisposeSupport;function c(t){var n=new qq.Promise;return t.isFile?t.file(function(e){e.qqPath=o(t),l.push(e),n.success()},function(e){a.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),n.failure()}):t.isDirectory&&function i(n,e,s,t){var o=t||new qq.Promise,a=e||n.createReader();a.readEntries(function(e){var t=s?s.concat(e):e;e.length?setTimeout(function(){i(n,a,t,o)},0):o.success(t)},o.failure);return o}(t).then(function(e){var i=e.length;qq.each(e,function(e,t){c(t).done(function(){0===--i&&n.success()})}),e.length||n.success()},function(e){a.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),n.failure()}),n}function o(e){var t=e.name,e=e.fullPath,t=e.lastIndexOf(t);return e="/"===(e=e.substr(0,t)).charAt(0)?e.substr(1):e}function d(t){var o=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:i,element:t,onEnter:function(e){qq(t).addClass(a.classes.dropActive),e.stopPropagation()},onLeaveNotDescendants:function(e){qq(t).removeClass(a.classes.dropActive)},onDrop:function(e){var t,n,s;t=e.dataTransfer,e=o,n=[],s=new qq.Promise,a.callbacks.processingDroppedFiles(),e.dropDisabled(!0),1<t.files.length&&!a.allowMultipleItems?(a.callbacks.processingDroppedFilesComplete([]),a.callbacks.dropError("tooManyFilesError",""),e.dropDisabled(!1),s.failure()):(l=[],qq.isFolderDropSupported(t)?qq.each(t.items,function(e,t){var i=t.webkitGetAsEntry();i&&(i.isFile?l.push(t.getAsFile()):n.push(c(i).done(function(){n.pop(),0===n.length&&s.success()})))}):l=t.files,0===n.length&&s.success()),s.then(function(){var e,t,i;e=l,t=o,i=Array.prototype.slice.call(e),a.callbacks.dropLog("Grabbed "+e.length+" dropped files."),t.dropDisabled(!1),a.callbacks.processingDroppedFilesComplete(i,t.getElement())},function(){a.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return u.addDisposer(function(){o.dispose()}),qq(t).hasAttribute(s)&&qq(t).hide(),r.push(o),o}function h(e){var i;return qq.each(e.dataTransfer.types,function(e,t){if("Files"===t)return!(i=!0)}),i}function t(){setTimeout(function(){qq.each(n,function(e,t){qq(t).hasAttribute(s)&&qq(t).hide(),qq(t).removeClass(a.classes.dropActive)})},10)}a={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(a,e,!0),n=a.dropZoneElements,qq.each(n,function(e,t){var i=d(t);n.length&&qq.supportedFeatures.fileDrop&&u.attach(document,"dragenter",function(e){!i.dropDisabled()&&h(e)&&qq.each(n,function(e,t){t instanceof HTMLElement&&qq(t).hasAttribute(s)&&qq(t).css({display:"block"})})})}),u.attach(document,"dragleave",function(e){e=e,(qq.safari()?e.x<0||e.y<0:0===e.x&&0===e.y)&&t()}),u.attach(qq(document).children()[0],"mouseenter",function(e){t()}),u.attach(document,"drop",function(e){h(e)&&(e.preventDefault(),t())}),u.attach(document,i,t),qq.extend(this,{setupExtraDropzone:function(e){a.dropZoneElements.push(e),d(e)},removeDropzone:function(e){var t,i=a.dropZoneElements;for(t in i)if(i[t]===e)return i.splice(t,1)},dispose:function(){u.dispose(),qq.each(r,function(e,t){t.dispose()})}}),this._testing={},this._testing.extractDirectoryPath=o},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e,t){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";var i,t,n,s,o=new qq.DisposeSupport;function a(e){if(!qq.supportedFeatures.fileDrop)return!1;var t=e.dataTransfer,i=qq.safari(),e=!(!qq.ie()||!qq.supportedFeatures.fileDrop)||"none"!==t.effectAllowed;return t&&e&&(t.files&&t.files.length||!i&&t.types.contains&&t.types.contains("Files")||t.types.includes&&t.types.includes("Files"))}function r(e){return n=void 0!==e?e:n}i={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(i,e),t=i.element,s||(o.attach(document,"dragover",function(e){e.preventDefault()}),s=!0),o.attach(t,"dragover",function(e){var t;a(e)&&(t=qq.ie()&&qq.supportedFeatures.fileDrop?null:e.dataTransfer.effectAllowed,e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault())}),o.attach(t,"dragenter",function(e){r()||a(e)&&i.onEnter(e)}),o.attach(t,"dragleave",function(e){var t;a(e)&&(i.onLeave(e),t=document.elementFromPoint(e.clientX,e.clientY),qq(this).contains(t)||i.onLeaveNotDescendants(e))}),o.attach(t,"drop",function(e){r()||a(e)&&(e.preventDefault(),e.stopPropagation(),i.onDrop(e),function(){var e;function t(){(e=document.createEvent("Event")).initEvent(i.HIDE_ZONES_EVENT_NAME,!0,!0)}if(window.CustomEvent)try{e=new CustomEvent(i.HIDE_ZONES_EVENT_NAME)}catch(e){t()}else t();document.dispatchEvent(e)}())}),qq.extend(this,{dropDisabled:r,dispose:function(){o.dispose()},getElement:function(){return t}}),this._testing={},this._testing.isValidFileDrag=a},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(e){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){if(this._dnd)return this._dnd.removeDropzone(e)},getItemByFileId:function(e){if(!this._templating.isHiddenForever(e))return this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(e,t){t=this._options.formatFileName(t);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(e,t)},pauseUpload:function(e){var t=this._parent.prototype.pauseUpload.apply(this,arguments);return t&&this._templating.uploadPaused(e),t},continueUpload:function(e){var t=this._parent.prototype.continueUpload.apply(this,arguments);return t&&this._templating.uploadContinued(e),t},getId:function(e){return this._templating.getFileId(e)},getDropTarget:function(e){return this.getFile(e).qqDropTarget}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var n=this,e=this._options.dragAndDrop.extraDropzones,t=this._templating,i=t.getDropZone();return i&&e.push(i),new qq.DragAndDrop({dropZoneElements:e,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){t.showDropProcessing()},processingDroppedFilesComplete:function(e,i){t.hideDropProcessing(),qq.each(e,function(e,t){t.qqDropTarget=i}),e.length&&n.addFiles(e,null,null)},dropError:function(e,t){n._itemError(e,t)},dropLog:function(e,t){n.log(e,t)}}})},_bindFileButtonsClickEvent:function(){var i=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(e,t){i.log(e,t)},onDeleteFile:function(e){i.deleteFile(e)},onCancel:function(e){i.cancel(e)},onRetry:function(e){i.retry(e)},onPause:function(e){i.pauseUpload(e)},onContinue:function(e){i.continueUpload(e)},onGetName:function(e){return i.getName(e)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var i=this,s=this._templating;return{templating:s,log:function(e,t){i.log(e,t)},onGetUploadStatus:function(e){return i.getUploads({id:e}).status},onGetName:function(e){return i.getName(e)},onSetName:function(e,t){i.setName(e,t)},onEditingStatusChange:function(e,t){var i=qq(s.getEditInput(e)),n=qq(s.getFileContainer(e));t?(i.addClass("qq-editing"),s.hideFilename(e),s.hideEditIcon(e)):(i.removeClass("qq-editing"),s.showFilename(e),s.showEditIcon(e)),n.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(e,t,i){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&i!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e)),t===qq.status.UPLOAD_RETRYING&&i===qq.status.UPLOADING?(this._templating.hideRetry(e),this._templating.setStatusText(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)):i===qq.status.UPLOAD_FAILED&&this._templating.hidePause(e)},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onAllComplete:function(e,t){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(e,t){var i=this.getFile(e);i&&i.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(e,{qqpath:i.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,i,n){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,i,n),0===n||100===Math.round(i/n*100)?(this._templating.hideCancel(e),this._templating.hidePause(e),this._templating.hideProgress(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,i,n)},_onTotalProgress:function(e,t){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(e,t)},_onComplete:function(t,e,i,n){var s=this._parent.prototype._onComplete.apply(this,arguments),o=this._templating,a=o.getFileContainer(t),r=this;function l(e){a&&(o.setStatusText(t),qq(a).removeClass(r._classes.retrying),o.hideProgress(t),r.getUploads({id:t}).status!==qq.status.UPLOAD_FAILED&&o.hideCancel(t),o.hideSpinner(t),e.success?r._markFileAsSuccessful(t):(qq(a).addClass(r._classes.fail),o.showCancel(t),o.isRetryPossible()&&!r._preventRetries[t]&&(qq(a).addClass(r._classes.retryable),o.showRetry(t)),r._controlFailureTextDisplay(t,e)))}return s instanceof qq.Promise?s.done(function(e){l(e)}):l(i),s},_markFileAsSuccessful:function(e){var t=this._templating;this._isDeletePossible()&&t.showDeleteButton(e),qq(t.getFileContainer(e)).addClass(this._classes.success),this._maybeUpdateThumbnail(e)},_onUploadPrep:function(e){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(e)},_onUpload:function(e,t){var i=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),i},_onUploadChunk:function(e,t){this._parent.prototype._onUploadChunk.apply(this,arguments),0<t.partIndex&&this._handler.isResumable(e)&&this._templating.allowPause(e)},_onCancel:function(e,t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(e){var t,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._options.retry.showAutoRetryNote&&(i=this._autoRetries[e],t=this._options.retry.maxAutoAttempts,i=(i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,i)).replace(/\{maxAuto\}/g,t),this._templating.setStatusText(e,i),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),this._templating.showRetry(e),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(e,t,i){(this._options.deleteFile.forceConfirm?this._showDeleteConfirm:this._sendDeleteRequest).apply(this,arguments)},_onDeleteComplete:function(e,t,i){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),i?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e,t,i){this._templating.hideDeleteButton(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e,t,i){var n=this.getName(e),n=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,n),s=(this.getUuid(e),arguments),o=this,n=this._options.showConfirm(n);qq.isGenericPromise(n)?n.then(function(){o._sendDeleteRequest.apply(o,s)}):!1!==n&&o._sendDeleteRequest.apply(o,s)},_addToList:function(e,t,i){var n,s=0,o=this._handler.isProxied(e)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(n={index:s=1<this._totalFilesInBatch&&0<this._filesInBatchAddedToUi?this._filesInBatchAddedToUi-1:s}),i||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(s=this.getUploads({id:e}),this._handledProxyGroup=this._handledProxyGroup||s.proxyGroupId,s.proxyGroupId===this._handledProxyGroup&&s.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),i?(this._templating.addFileToCache(e,this._options.formatFileName(t),n,o),this._templating.updateThumbnail(e,this._thumbnailUrls[e],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(e,this._options.formatFileName(t),n,o),this._templating.generatePreview(e,this.getFile(e),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(i||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,i){var n=this.getSize(e),s=this._formatSize(n);0<=n&&(void 0!==t&&void 0!==i&&(s=this._formatProgress(t,i)),this._templating.updateSize(e,s))},_formatProgress:function(e,t){var i=this._options.text.formatProgress;function n(e,t){i=i.replace(e,t)}return n("{percent}",Math.round(e/t*100)),n("{total_size}",this._formatSize(t)),i},_controlFailureTextDisplay:function(e,t){var i=this._options.failedUploadTextDisplay.mode,n=this._options.failedUploadTextDisplay.responseProperty;"custom"===i?(n=(n=t[n])||this._options.text.failUpload,this._templating.setStatusText(e,n),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,n)):"default"===i?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==i&&this.log("failedUploadTextDisplay.mode value of '"+i+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(e)},_itemError:function(e,t,i){var n=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(n)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var i=this;this._options.callbacks.onPasteReceived=function(){var e=i._options.paste.namePromptMessage,t=i._options.paste.defaultName;return i._options.showPrompt(e,t)}},_fileOrBlobRejected:function(e,t){--this._totalFilesInBatch,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e,t,i){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e];this.getUploads({id:e}).status===qq.status.DELETED||!t&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(e,t,this._options.thumbnails.customResizer)},_addCannedFile:function(e){var t=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(t,this.getName(t),!0),this._templating.hideSpinner(t),this._templating.hideCancel(t),this._markFileAsSuccessful(t),t},_setSize:function(e,t){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(e,this._formatSize(t))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(e,t){"use strict";var i=this;this._parent=(t?qq[t]:qq).FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(e){if(i._templating.hasDialog("alert"))return i._templating.showDialog("alert",e);setTimeout(function(){window.alert(e)},0)},showConfirm:function(e){return i._templating.hasDialog("confirm")?i._templating.showDialog("confirm",e):window.confirm(e)},showPrompt:function(e,t){return i._templating.hasDialog("prompt")?i._templating.showDialog("prompt",e,t):window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";function t(e){return $(V(e),H.cancel)}function c(e){return $(V(e),H.continueButton)}function d(e){return $(_,H[e+"Dialog"])}function h(e){return $(V(e),H.deleteButton)}function i(){return $(_,H.dropProcessing)}function n(e){return $(V(e),H.editNameIcon)}function s(e){return $(V(e),H.file)}function p(e){return $(V(e),H.pause)}function f(e){return $(V(e),H.retry)}function m(e){return $(V(e),H.size)}function o(e){return $(V(e),H.spinner)}function a(e,t){var i=G(e),e=null==e?H.totalProgressBar:H.progressBar;(i=i&&!qq(i).hasClass(e)?qq(i).getFirstByClass(e):i)&&(qq(i).css({width:t+"%"}),i.setAttribute("aria-valuenow",t))}var r,l,u,g,_,v,b,q,y,w,x,S="qq-file-id",C="qq-file-id-",D="qq-max-size",k="qq-server-scale",E="qq-hide-dropzone",T="qq-drop-area-text",I="qq-in-progress",P="qq-hidden-forever",A={content:document.createDocumentFragment(),map:{}},F=!1,O=0,M=!1,N=[],R=-1,L={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},H={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},U={},B=new qq.Promise,z=new qq.Promise,j=function(t){var i=new qq.Promise;return z.then(function(e){Z(e,t),t.src?i.success():(t.src=e.src,t.onload=function(){t.onload=null,te(t),i.success()})},function(){K(t),i.success()}),i},W=function(e,t,i){var n=X(e);return r("Generating new thumbnail for "+e),t.qqThumbnailId=e,L.imageGenerator.generate(t,n,i).then(function(){O++,te(n),U[e].success()},function(){U[e].failure(),L.placeholders.waitUntilUpdate||Q(e,n)})},Y=function(){var e;N.length?(M=!0,((e=N.shift()).update?ee:J)(e)):M=!1},V=function(e){return A.map[e]||qq(v).getFirstByClass(C+e)},G=function(e){return null==e?$(_,H.totalProgressBarContainer)||$(_,H.totalProgressBar):$(V(e),H.progressBarContainer)||$(V(e),H.progressBar)},$=function(e,t){return e&&qq(e).getFirstByClass(t)},X=function(e){return b&&$(V(e),H.thumbnail)},K=function(e){e&&qq(e).addClass(L.classes.hide)},Z=function(e,t){var i=e.style.maxWidth,e=e.style.maxHeight;e&&i&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:i,maxHeight:e})},Q=function(e,t){var i=U[e]||(new qq.Promise).failure(),n=new qq.Promise;return B.then(function(e){i.then(function(){n.success()},function(){Z(e,t),t.onload=function(){t.onload=null,n.success()},t.src=e.src,te(t)})}),n},J=function(e){var t=e.id,i=e.optFileOrBlob,n=i&&i.qqThumbnailId,s=X(t),o={customResizeFunction:e.customResizeFunction,maxSize:R,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?s?L.limits.maxThumbs&&L.limits.maxThumbs<=O?(Q(t,s),Y()):j(s).done(function(){U[t]=new qq.Promise,U[t].done(function(){setTimeout(Y,L.limits.timeBetweenThumbs)}),null!=n?ie(t,n):W(t,i,o)}):Y():s&&(j(s),Y())},ee=function(e){var t=e.id,i=e.thumbnailUrl,n=e.showWaitingImg,s=X(t),e={customResizeFunction:e.customResizeFunction,scale:q,maxSize:R};if(s)if(i){if(!(L.limits.maxThumbs&&L.limits.maxThumbs<=O))return n&&j(s),L.imageGenerator.generate(i,s,e).then(function(){te(s),O++,setTimeout(Y,L.limits.timeBetweenThumbs)},function(){Q(t,s),setTimeout(Y,L.limits.timeBetweenThumbs)});Q(t,s),Y()}else Q(t,s),Y()},te=function(e){e&&qq(e).removeClass(L.classes.hide)},ie=function(e,t){var i=X(e),n=X(t);r(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",e,t,t)),U[t].then(function(){O++,U[e].success(),r(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",t,e)),i.src=n.src,te(i)},function(){U[e].failure(),L.placeholders.waitUntilUpdate||Q(e,i)})};qq.extend(L,e),r=L.log,qq.supportedFeatures.imagePreviews||(L.limits.timeBetweenThumbs=0,L.limits.maxThumbs=0),_=L.containerEl,b=void 0!==L.imageGenerator,g=function(){var e,t,i,n,s;if(r("Parsing template"),null==L.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(L.templateIdOrEl)){if(null===(e=document.getElementById(L.templateIdOrEl)))throw new Error(qq.format("Cannot find template script at ID '{}'!",L.templateIdOrEl));s=e.innerHTML}else{if(void 0===L.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");s=L.templateIdOrEl.innerHTML}if(s=qq.trimStr(s),(e=document.createElement("div")).appendChild(qq.toElement(s)),s=qq(e).getFirstByClass(H.uploader),L.button&&(t=qq(e).getFirstByClass(H.button))&&qq(t).remove(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(i=qq(e).getFirstByClass(H.dropProcessing))&&qq(i).remove(),(i=qq(e).getFirstByClass(H.drop))&&!qq.DragAndDrop&&(r("DnD module unavailable.","info"),qq(i).remove()),qq.supportedFeatures.fileDrop?qq(s).hasAttribute(T)&&i&&(n=qq(i).getFirstByClass(H.dropText))&&qq(n).remove():(s.removeAttribute(T),i&&qq(i).hasAttribute(E)&&qq(i).css({display:"none"})),s=qq(e).getFirstByClass(H.thumbnail),b?s&&(R=0<(R=parseInt(s.getAttribute(D)))?R:null,q=qq(s).hasAttribute(k)):s&&qq(s).remove(),b=b&&s,l=0<qq(e).getByClass(H.editFilenameInput).length,u=0<qq(e).getByClass(H.retry).length,null==(i=qq(e).getFirstByClass(H.list)))throw new Error("Could not find the file list container in the template!");return s=i.children[0].cloneNode(!0),i.innerHTML="",e.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),r("Template parsing complete"),{template:e,fileTemplate:s}}(),y=L.placeholders.thumbnailNotAvailable,w=L.placeholders.waitingForThumbnail,x={maxSize:R,scale:q},b&&(y?L.imageGenerator.generate(y,new Image,x).then(function(e){B.success(e)},function(){B.failure(),r("Problem loading 'not available' placeholder image at "+y,"error")}):B.failure(),w?L.imageGenerator.generate(w,new Image,x).then(function(e){z.success(e)},function(){z.failure(),r("Problem loading 'waiting for thumbnail' placeholder image at "+w,"error")}):z.failure()),qq.extend(this,{render:function(){r("Rendering template in DOM."),O=0,_.appendChild(g.template.cloneNode(!0)),K(i()),this.hideTotalProgress(),v=L.fileContainerEl||$(_,H.list),r("Template rendering complete")},renderFailure:function(e){e=qq.toElement(e);_.innerHTML="",_.appendChild(e)},reset:function(){_.innerHTML="",this.render()},clearFiles:function(){v.innerHTML=""},disableCancel:function(){F=!0},addFile:function(e,t,i,n,s){var o,a=g.fileTemplate.cloneNode(!0),r=$(a,H.file),l=$(_,H.uploader),u=s?A.content:v;s&&(A.map[e]=a),qq(a).addClass(C+e),l.removeAttribute(T),r&&(qq(r).setText(t),r.setAttribute("title",t)),a.setAttribute(S,e),i?(l=a,r=i.index,t=(i=t=u).firstChild,0<r&&(t=qq(i).children()[r].nextSibling),i.insertBefore(l,t)):u.appendChild(a),n?(a.style.display="none",qq(a).addClass(P)):(K(G(e)),K(m(e)),K(h(e)),K(f(e)),K(p(e)),K(c(e)),F&&this.hideCancel(e),(o=X(e))&&!o.src&&z.then(function(e){o.src=e.src,e.style.maxHeight&&e.style.maxWidth&&qq(o).css({maxHeight:e.style.maxHeight,maxWidth:e.style.maxWidth}),te(o)}))},addFileToCache:function(e,t,i,n){this.addFile(e,t,i,n,!0)},addCacheToDom:function(){v.appendChild(A.content),A.content=document.createDocumentFragment(),A.map={}},removeFile:function(e){qq(V(e)).remove()},getFileId:function(e){var t=e;if(t){for(;null==t.getAttribute(S);)t=t.parentNode;return parseInt(t.getAttribute(S))}},getFileList:function(){return v},markFilenameEditable:function(e){e=s(e);e&&qq(e).addClass(L.classes.editable)},updateFilename:function(e,t){e=s(e);e&&(qq(e).setText(t),e.setAttribute("title",t))},hideFilename:function(e){K(s(e))},showFilename:function(e){te(s(e))},isFileName:function(e){return qq(e).hasClass(H.file)},getButton:function(){return L.button||$(_,H.button)},hideDropProcessing:function(){K(i())},showDropProcessing:function(){te(i())},getDropZone:function(){return $(_,H.drop)},isEditFilenamePossible:function(){return l},hideRetry:function(e){K(f(e))},isRetryPossible:function(){return u},showRetry:function(e){te(f(e))},getFileContainer:function(e){return V(e)},showEditIcon:function(e){e=n(e);e&&qq(e).addClass(L.classes.editable)},isHiddenForever:function(e){return qq(V(e)).hasClass(P)},hideEditIcon:function(e){e=n(e);e&&qq(e).removeClass(L.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(H.editNameIcon,!0)},getEditInput:function(e){return $(V(e),H.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(H.editFilenameInput,!0)},updateProgress:function(e,t,i){var n=G(e);n&&0<i&&((100===(i=Math.round(t/i*100))?K:te)(n),a(e,i))},updateTotalProgress:function(e,t){this.updateProgress(null,e,t)},hideProgress:function(e){e=G(e);e&&K(e)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(e){a(e,0),this.hideTotalProgress(e)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(e){F||(e=t(e))&&qq(e).removeClass(L.classes.hide)},hideCancel:function(e){K(t(e))},isCancel:function(e){return qq(e).hasClass(H.cancel,!0)},allowPause:function(e){te(p(e)),K(c(e))},uploadPaused:function(e){this.setStatusText(e,L.text.paused),this.allowContinueButton(e),K(o(e))},hidePause:function(e){K(p(e))},isPause:function(e){return qq(e).hasClass(H.pause,!0)},isContinueButton:function(e){return qq(e).hasClass(H.continueButton,!0)},allowContinueButton:function(e){te(c(e)),K(p(e))},uploadContinued:function(e){this.setStatusText(e,""),this.allowPause(e),te(o(e))},showDeleteButton:function(e){te(h(e))},hideDeleteButton:function(e){K(h(e))},isDeleteButton:function(e){return qq(e).hasClass(H.deleteButton,!0)},isRetry:function(e){return qq(e).hasClass(H.retry,!0)},updateSize:function(e,t){e=m(e);e&&(te(e),qq(e).setText(t))},setStatusText:function(e,t){e=$(V(e),H.statusText);e&&(null==t?qq(e).clearText():qq(e).setText(t))},hideSpinner:function(e){qq(V(e)).removeClass(I),K(o(e))},showSpinner:function(e){qq(V(e)).addClass(I),te(o(e))},generatePreview:function(e,t,i){this.isHiddenForever(e)||(N.push({id:e,customResizeFunction:i,optFileOrBlob:t}),M||Y())},updateThumbnail:function(e,t,i,n){this.isHiddenForever(e)||(N.push({customResizeFunction:n,update:!0,id:e,thumbnailUrl:t,showWaitingImg:i}),M||Y())},hasDialog:function(e){return qq.supportedFeatures.dialogElement&&!!d(e)},showDialog:function(e,t,i){var n=d(e),e=$(n,H.dialogMessage),s=n.getElementsByTagName("INPUT")[0],o=$(n,H.dialogCancelButton),a=$(n,H.dialogOkButton),r=new qq.Promise,l=function(){o.removeEventListener("click",u),a&&a.removeEventListener("click",c),r.failure()},u=function(){o.removeEventListener("click",u),n.close()},c=function(){n.removeEventListener("close",l),a.removeEventListener("click",c),n.close(),r.success(s&&s.value)};return n.addEventListener("close",l),o.addEventListener("click",u),a&&a.addEventListener("click",c),s&&(s.value=i),e.textContent=t,n.showModal(),r}})},qq.UiEventHandler=function(e,t){"use strict";var i=new qq.DisposeSupport,n={eventType:"click",attachTo:null,onHandled:function(e,t){}};function s(e){i.attach(e,n.eventType,function(e){var t=(e=e||window.event).target||e.srcElement;n.onHandled(t,e)})}qq.extend(this,{addHandler:function(e){s(e)},dispose:function(){i.dispose()}}),qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return i}}),qq.extend(n,e),n.attachTo&&s(n.attachTo)},qq.FileButtonsClickHandler=function(e){"use strict";var s={templating:null,log:function(e,t){},onDeleteFile:function(e){},onCancel:function(e){},onRetry:function(e){},onPause:function(e){},onContinue:function(e){},onGetName:function(e){}},t={cancel:function(e){s.onCancel(e)},retry:function(e){s.onRetry(e)},deleteButton:function(e){s.onDeleteFile(e)},pause:function(e){s.onPause(e)},continueButton:function(e){s.onContinue(e)}};qq.extend(s,e),s.eventType="click",s.onHandled=function(i,n){qq.each(t,function(e,t){e=e.charAt(0).toUpperCase()+e.slice(1);if(s.templating["is"+e](i))return e=s.templating.getFileId(i),qq.preventDefault(n),s.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",s.onGetName(e),e)),t(e),!1})},s.attachTo=s.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(s,{}))},qq.FilenameClickHandler=function(e){"use strict";var n={},s={templating:null,log:function(e,t){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(e){},onGetName:function(e){}};qq.extend(s,e),s.eventType="click",s.onHandled=function(e,t){var i;(s.templating.isFileName(e)||s.templating.isEditIcon(e))&&(i=s.templating.getFileId(e),s.onGetUploadStatus(i)===qq.status.SUBMITTED&&(s.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",s.onGetName(i),i)),qq.preventDefault(t),n.handleFilenameEdit(i,e,!0)))},qq.extend(this,new qq.FilenameEditHandler(s,n))},qq.FilenameInputFocusInHandler=function(e,n){"use strict";var s={templating:null,onGetUploadStatus:function(e){},log:function(e,t){}};n=n||{},s.eventType="focusin",s.onHandled=function(e,t){var i;s.templating.isEditInput(e)&&(i=s.templating.getFileId(e),s.onGetUploadStatus(i)===qq.status.SUBMITTED&&(s.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",s.onGetName(i),i)),n.handleFilenameEdit(i,e)))},qq.extend(s,e),qq.extend(this,new qq.FilenameEditHandler(s,n))},qq.FilenameInputFocusHandler=function(e){"use strict";e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))},qq.FilenameEditHandler=function(e,c){"use strict";var d={templating:null,log:function(e,t){},onGetUploadStatus:function(e){},onGetName:function(e){},onSetName:function(e,t){},onEditingStatusChange:function(e,t){}};function h(e,t){var i=e.value;void 0!==i&&0<qq.trimStr(i).length&&(e=t,e=d.onGetName(t),e=qq.getExtension(e),d.onSetName(t,i=void 0!==e?i+"."+e:i)),d.onEditingStatusChange(t,!1)}qq.extend(d,e),d.attachTo=d.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(d,c)),qq.extend(c,{handleFilenameEdit:function(e,t,i){var n,s,o,a,r,l,u=d.templating.getEditInput(e);d.onEditingStatusChange(e,!0),u.value=(n=e,s=d.onGetName(n),s=0<(n=s.lastIndexOf("."))?s.substr(0,n):s),i&&u.focus(),o=u,a=e,c.getDisposeSupport().attach(o,"blur",function(){h(o,a)}),r=u,l=e,c.getDisposeSupport().attach(r,"keyup",function(e){13===(e.keyCode||e.which)&&h(r,l)})}})}}(window),function(global,global){var qq=function(s){"use strict";return{hide:function(){return s.style.display="none",this},attach:function(e,t){return s.addEventListener?s.addEventListener(e,t,!1):s.attachEvent&&s.attachEvent("on"+e,t),function(){qq(s).detach(e,t)}},detach:function(e,t){return s.removeEventListener?s.removeEventListener(e,t,!1):s.attachEvent&&s.detachEvent("on"+e,t),this},contains:function(e){return!!e&&(s===e||(s.contains?s.contains(e):!!(8&e.compareDocumentPosition(s))))},insertBefore:function(e){return e.parentNode.insertBefore(s,e),this},remove:function(){return s.parentNode.removeChild(s),this},css:function(e){if(null==s.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=e.opacity&&"string"!=typeof s.style.opacity&&void 0!==s.filters&&(e.filter="alpha(opacity="+Math.round(100*e.opacity)+")"),qq.extend(s.style,e),this},hasClass:function(e,t){e=new RegExp("(^| )"+e+"( |$)");return e.test(s.className)||!(!t||!e.test(s.parentNode.className))},addClass:function(e){return qq(s).hasClass(e)||(s.className+=" "+e),this},removeClass:function(e){e=new RegExp("(^| )"+e+"( |$)");return s.className=s.className.replace(e," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(i,e){var t,n=[];return e&&s.querySelector?s.querySelector("."+i):s.querySelectorAll?s.querySelectorAll("."+i):(t=s.getElementsByTagName("*"),qq.each(t,function(e,t){qq(t).hasClass(i)&&n.push(t)}),e?n[0]:n)},getFirstByClass:function(e){return qq(s).getByClass(e,!0)},children:function(){for(var e=[],t=s.firstChild;t;)1===t.nodeType&&e.push(t),t=t.nextSibling;return e},setText:function(e){return s.innerText=e,s.textContent=e,this},clearText:function(){return qq(s).setText("")},hasAttribute:function(e){return s.hasAttribute?!!s.hasAttribute(e)&&null==/^false$/i.exec(s.getAttribute(e)):void 0!==(e=s[e])&&null==/^false$/i.exec(e)}}},za1,Aa1,j_b,p_b,l_b,m_b,o_b,R$b,T$b,V$b,r$b,t$b,VYb,XYb,YYb,ZYb,$Yb,_Yb,aZb,bZb,cZb,dZb,eZb,uWb;function fZb(){}function WOb(h,e,t,i,p){var n,s,o,a,r,l,u,c,d,f,m,g=h.naturalWidth,_=h.naturalHeight,v=i.width,b=i.height,q=t.getContext("2d"),y=new qq.Promise;return q.save(),i.resize?(n={blob:e,canvas:t,image:h,imageHeight:_,imageWidth:g,orientation:i.orientation,resize:i.resize,targetHeight:b,targetWidth:v},s=n.blob,o=n.image,a=n.imageHeight,r=n.imageWidth,l=n.orientation,u=new qq.Promise,c=n.resize,d=document.createElement("canvas"),f=d.getContext("2d"),m=n.canvas,e=n.targetHeight,n=n.targetWidth,YOb(d,r,a,l),m.height=e,m.width=n,f.drawImage(o,0,0),c({blob:s,height:e,image:o,sourceCanvas:d,targetCanvas:m,width:n}).then(function(){m.qqImageRendered&&m.qqImageRendered(),u.success()},u.failure),u):(qq.supportedFeatures.unlimitedScaledImageSize||(n=function(e){if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(5241e3<e.origHeight*e.origWidth)return{newHeight:Math.round(Math.sqrt(e.origHeight/e.origWidth*5241e3)),newWidth:Math.round(Math.sqrt(e.origWidth/e.origHeight*5241e3))}}({origWidth:v,origHeight:b}))&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",v,b,n.newWidth,n.newHeight),"warn"),v=n.newWidth,b=n.newHeight),YOb(t,v,b,i.orientation),qq.ios()?function(){var e,t,i;t=(e=h).naturalWidth,i=e.naturalHeight,r=document.createElement("canvas"),1048576<t*i&&(r.width=r.height=1,(r=r.getContext("2d")).drawImage(e,1-t,0),0===r.getImageData(0,0,1,1).data[3])&&(g/=2,_/=2);var n,s,o,a=document.createElement("canvas"),r=p?function(e,t){var i,n=document.createElement("canvas"),s=0,o=t,a=t;for(n.width=1,n.height=t,(n=n.getContext("2d")).drawImage(e,0,0),i=n.getImageData(0,0,1,t).data;s<a;)0===i[4*(a-1)+3]?o=a:s=a,a=o+s>>1;return 0==(t=a/t)?1:t}(h,_):1,l=Math.ceil(1024*v/g),u=Math.ceil(1024*b/_/r),c=0,d=0;for(a.width=a.height=1024,n=a.getContext("2d");c<_;){for(o=s=0;s<g;)n.clearRect(0,0,1024,1024),n.drawImage(h,-s,-c),q.drawImage(a,0,0,1024,1024,o,d,l,u),s+=1024,o+=l;c+=1024,d+=u}q.restore()}():q.drawImage(h,0,0,v,b),t.qqImageRendered&&t.qqImageRendered(),y.success(),y)}function YOb(e,t,i,n){switch(n){case 5:case 6:case 7:case 8:e.width=i,e.height=t;break;default:e.width=t,e.height=i}var s=e.getContext("2d");switch(n){case 2:s.translate(t,0),s.scale(-1,1);break;case 3:s.translate(t,i),s.rotate(Math.PI);break;case 4:s.translate(0,i),s.scale(1,-1);break;case 5:s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:s.rotate(.5*Math.PI),s.translate(0,-i);break;case 7:s.rotate(.5*Math.PI),s.translate(t,-i),s.scale(-1,1);break;case 8:s.rotate(-.5*Math.PI),s.translate(-t,0)}}function ZOb(i,e){var n=this;window.Blob&&i instanceof Blob&&function(){var e=new Image,t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!t)throw Error("No createObjectURL function found to create blob url");e.src=t.createObjectURL(i),n.blob=i,i=e}(),i.naturalWidth||i.naturalHeight||(i.onload=function(){var i=n.imageLoadListeners;i&&(n.imageLoadListeners=null,setTimeout(function(){for(var e=0,t=i.length;e<t;e++)i[e]()},0))},i.onerror=e,this.imageLoadListeners=[]),this.srcImage=i}!function(){"use strict";var btb;qq.canvasToBlob=function(e,t,i){return qq.dataUriToBlob(e.toDataURL(t,i))},qq.dataUriToBlob=function(e){var t,i,n,s=(0<=e.split(",")[0].indexOf("base64")?atob:decodeURI)(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(s.length),a=new Uint8Array(e);return qq.each(s,function(e,t){a[e]=t.charCodeAt(0)}),t=e,i=o,(n=(n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)&&new n)?(n.append(t),n.getBlob(i)):new Blob([t],{type:i})},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),i=e,n=i.indexOf("{}");return qq.each(t,function(e,t){if(i=i.substring(0,n)+t+i.substring(n+2),(n=i.indexOf("{}",n+t.length))<0)return!1}),i},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){function i(e){return e=e.toLowerCase(),t?"file"!==e:"file"===e}return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&i(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&i(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&0<e.items.length&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,i){return(e.slice||e.mozSlice||e.webkitSlice).call(e,t,i)},qq.arrayBufferToHex=function(e){var i="",e=new Uint8Array(e);return qq.each(e,function(e,t){t=t.toString(16);t.length<2&&(t="0"+t),i+=t}),i},qq.readBlobToHex=function(e,t,i){var i=qq.sliceBlob(e,t,t+i),n=new FileReader,s=new qq.Promise;return n.onload=function(){s.success(qq.arrayBufferToHex(n.result))},n.onerror=s.failure,n.readAsArrayBuffer(i),s},qq.extend=function(i,e,n){return qq.each(e,function(e,t){n&&qq.isObject(t)?(void 0===i[e]&&(i[e]={}),qq.extend(i[e],t,!0)):i[e]=t}),i},qq.override=function(i,e){var n={},e=e(n);return qq.each(e,function(e,t){void 0!==i[e]&&(n[e]=i[e]),i[e]=t}),i},qq.indexOf=function(e,t,i){if(e.indexOf)return e.indexOf(t,i);var n=e.length;for((i=i||0)<0&&(i+=n);i<n;i+=1)if(e.hasOwnProperty(i)&&e[i]===t)return i;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return 0<=navigator.userAgent.indexOf("Edge")},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=(btb=document.createElement("div"),function(e){btb.innerHTML=e;e=btb.firstChild;return btb.removeChild(e),e}),qq.each=function(e,t){var i,n;if(e)if(window.Storage&&e.constructor===window.Storage)for(i=0;i<e.length&&!1!==(n=t(e.key(i),e.getItem(e.key(i))));i++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(i=0;i<e.length&&!1!==(n=t(i,e[i]));i++);else if(qq.isString(e))for(i=0;i<e.length&&!1!==(n=t(i,e.charAt(i)));i++);else for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&(n=t(i,e[i]),!1===n))break},qq.bind=function(t,i){if(qq.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return function(){var e=qq.extend([],n);return arguments.length&&(e=e.concat(Array.prototype.slice.call(arguments))),t.apply(i,e)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,n,t){function i(e,t){var i=n?/\[\]$/.test(n)?n:n+"["+t+"]":t;"undefined"!==i&&"undefined"!==t&&s.push("object"==typeof e?qq.obj2url(e,i,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(i)+"="+encodeURIComponent(e()):encodeURIComponent(i)+"="+encodeURIComponent(e))}var s=[],o="&";return!t&&n?(o=/\?/.test(n)?/\?$/.test(n)?"":"&":"?",s.push(n),s.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&void 0!==e?qq.each(e,function(e,t){i(t,e)}):null!=e&&"object"==typeof e?qq.each(e,function(e,t){i(t,e)}):s.push(encodeURIComponent(n)+"="+encodeURIComponent(e)),n?s.join(o):s.join(o).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,i,n){return i=i||new FormData,qq.each(e,function(e,t){e=n?n+"["+e+"]":e,qq.isObject(t)?qq.obj2FormData(t,i,e):qq.isFunction(t)?i.append(e,t()):i.append(e,t)}),i},qq.obj2Inputs=function(e,i){var n;return i=i||document.createElement("form"),qq.obj2FormData(e,{append:function(e,t){(n=document.createElement("input")).setAttribute("name",e),n.setAttribute("value",t),i.appendChild(n)}}),i},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(0<t)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var t=[];return{dispose:function(){for(var e;(e=t.shift())&&e(),e;);},attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(e){t.push(e)}}}}(),function(){"use strict";"function"==typeof define&&define.amd?define(function(){return qq}):"undefined"!=typeof module&&module.exports?module.exports=qq:global.qq=qq}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.16.2",qq.supportedFeatures=function(){"use strict";function e(){return!!window.XMLHttpRequest&&void 0!==qq.createXhrInstance().withCredentials}function t(){return void 0!==window.XDomainRequest}var i,n,s=function(){var e,t=!0;try{(e=document.createElement("input")).type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}(),o=s&&qq.isXhrUploadSupported(),a=o&&!qq.androidStock(),r=o&&(("draggable"in(n=document.createElement("span"))||"ondragstart"in n&&"ondrop"in n)&&!qq.android()&&!qq.ios()),l=r&&((i=document.createElement("input")).type="file",!!("webkitdirectory"in(i||document.querySelectorAll("input[type=file]")[0]))),u=o&&qq.isFileChunkingSupported(),c=o&&u&&function(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}(),d=o&&(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/),h=s&&(void 0!==window.postMessage||o),p=e(),f=t(),m=!!e()||t(),g=void 0!==document.createElement("input").webkitdirectory,_=o&&void 0!==window.FileReader,i=!!o&&!qq.androidStock()&&!qq.iosChrome();return{ajaxUploading:o,blobUploading:a,canDetermineSize:o,chunking:u,deleteFileCors:m,deleteFileCorsXdr:f,deleteFileCorsXhr:p,dialogElement:!!window.HTMLDialogElement,fileDrop:r,folderDrop:l,folderSelection:g,imagePreviews:_,imageValidation:_,itemSizeValidation:o,pause:u,progressBar:i,resume:c,scaling:_&&a,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:s,uploadCors:h,uploadCustomHeaders:o,uploadNonMultipart:o,uploadViaPaste:d}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var i,n,s=[],o=[],t=[],a=0;qq.extend(this,{then:function(e,t){return 0===a?(e&&s.push(e),t&&o.push(t)):-1===a?t&&t.apply(null,n):e&&e.apply(null,i),this},done:function(e){return 0===a?t.push(e):e.apply(null,void 0===n?i:n),this},success:function(){return a=1,i=arguments,s.length&&qq.each(s,function(e,t){t.apply(null,i)}),t.length&&qq.each(t,function(e,t){t.apply(null,i)}),this},failure:function(){return a=-1,n=arguments,o.length&&qq.each(o,function(e,t){t.apply(null,n)}),t.length&&qq.each(t,function(e,t){t.apply(null,n)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,n),e.setAttribute("title",a.title),s.setMultiple(a.multiple,e),a.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),a.acceptFiles&&e.setAttribute("accept",a.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",a.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),qq.ie7()||qq(e).css({height:"100%"}),a.element.appendChild(e),o.attach(e,"change",function(){a.onChange(e)}),o.attach(e,"mouseover",function(){qq(a.element).addClass(a.hoverClass)}),o.attach(e,"mouseout",function(){qq(a.element).removeClass(a.hoverClass)}),o.attach(e,"focus",function(){qq(a.element).addClass(a.focusClass)}),o.attach(e,"blur",function(){qq(a.element).removeClass(a.focusClass)}),e}var i,n,s=this,o=new qq.DisposeSupport,a={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};qq.extend(a,e),n=qq.getUniqueId(),qq(a.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return i},getButtonId:function(){return n},setMultiple:function(e,t){t=t||this.getInput();a.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())||e?t.setAttribute("multiple",""):t.removeAttribute("multiple")},setAcceptFiles:function(e){e!==a.acceptFiles&&i.setAttribute("accept",e)},reset:function(){i.parentNode&&qq(i).remove(),qq(a.element).removeClass(a.focusClass),i=null,i=t()}}),i=t()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(s){"use strict";function t(e){if(qq.isArray(e)){var i=[];return qq.each(e,function(e,t){i.push(o[t])}),i}return o[e]}var o=[],n={},a={},r={},l={};qq.extend(this,{addFile:function(e){var t=e.status||qq.status.SUBMITTING,i=o.push({name:e.name,originalName:e.name,uuid:e.uuid,size:null==e.size?-1:e.size,status:t,file:e.file})-1;return e.batchId&&(o[i].batchId=e.batchId,void 0===l[e.batchId]&&(l[e.batchId]=[]),l[e.batchId].push(i)),e.proxyGroupId&&(o[i].proxyGroupId=e.proxyGroupId,void 0===r[e.proxyGroupId]&&(r[e.proxyGroupId]=[]),r[e.proxyGroupId].push(i)),o[i].id=i,n[e.uuid]=i,void 0===a[t]&&(a[t]=[]),a[t].push(i),e.onBeforeStatusChange&&e.onBeforeStatusChange(i),s.onStatusChange(i,null,t),i},retrieve:function(e){return qq.isObject(e)&&o.length?void 0!==e.id?t(e.id):void 0!==e.uuid?function(e){if(qq.isArray(e)){var i=[];return qq.each(e,function(e,t){i.push(o[n[t]])}),i}return o[n[e]]}(e.uuid):e.status?(e=e.status,i=[],e=[].concat(e),qq.each(e,function(e,t){t=a[t];void 0!==t&&qq.each(t,function(e,t){i.push(o[t])})}),i):void 0:qq.extend([],o,!0);var i},removeFileRef:function(e){e=t(e);e&&delete e.file},reset:function(){o=[],n={},a={},l={}},setStatus:function(e,t){var i=o[e].status,n=qq.indexOf(a[i],e);a[i].splice(n,1),o[e].status=t,void 0===a[t]&&(a[t]=[]),a[t].push(e),s.onStatusChange(e,i,t)},uuidChanged:function(e,t){var i=o[e].uuid;o[e].uuid=t,n[t]=e,delete n[i]},updateName:function(e,t){o[e].name=t},updateSize:function(e,t){o[e].size=t},setParentId:function(e,t){o[e].parentId=t},getIdsInProxyGroup:function(e){e=o[e].proxyGroupId;return e?r[e]:[]},getIdsInBatch:function(e){return l[o[e].batchId]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_FINALIZING:"upload finalizing",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,i){this.addFiles(e,t,i)},addInitialFiles:function(e){var i=this;qq.each(e,function(e,t){i._addCannedFile(t)})},addFiles:function(e,t,i){this._maybeHandleIos8SafariWorkaround();var n=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,s=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},n,c)},this),o=qq.bind(function(e){this._handleNewFile(e,n,c)},this),a=qq.bind(function(e){e=qq.canvasToBlob(e);this._handleNewFile({blob:e,name:this._options.blobs.defaultName+".png"},n,c)},this),r=qq.bind(function(e){var t=e.quality&&e.quality/100,t=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:t,name:e.name},n,c)},this),l=qq.bind(function(e){var t,i;qq.isInput(e)&&qq.supportedFeatures.ajaxUploading?(t=Array.prototype.slice.call(e.files),i=this,qq.each(t,function(e,t){i._handleNewFile(t,n,c)})):this._handleNewFile(e,n,c)},this),u=this,c=[];this._currentBatchId=n,e&&(qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e),qq.each(e,function(e,t){qq.isFileOrInput(t)?l(t):qq.isBlob(t)?s(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&r(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?a(t):u.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+c.length+" files."),this._prepareItemsForUpload(c,t,i))},cancel:function(e){var t=this._uploadData.retrieve({id:e});t&&t.status===qq.status.UPLOAD_FINALIZING?this.log(qq.format("Ignoring cancel for file ID {} ({}).  Finalizing upload.",e,this.getName(e)),"error"):this._handler.cancel(e)},cancelAll:function(){var e=[],i=this;qq.extend(e,this._storedIds),qq.each(e,function(e,t){i.cancel(t)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled||(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),1)))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,i,n,s){var o,a=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],i={customResizeFunction:s,maxSize:0<i?i:null,scale:0<i},null==(o=!n&&qq.supportedFeatures.imagePreviews?this.getFile(e):o)?a.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,i).then(function(e){a.success(e)},function(e,t){a.failure({container:e,error:t||"Problem generating thumbnail"})})):a.failure({container:t,error:"Missing image generator module"}),a},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){var t=this._handler.getFile(e);return t||(e=this._uploadData.retrieve({id:e}))&&(t=e.file),t||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),e=null;return e=t&&void 0!==t.parentId?t.parentId:e},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return 0<e?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},isResumable:function(e){return this._handler.hasResumeRecord(e)},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(0<=qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e),this._uploadData.removeFileRef(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset(),this._customResumeDataStore.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(this.log,this),getFile:qq.bind(this.getFile,this),uploadData:this._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setCustomResumeData:function(e,t){this._customResumeDataStore.set(t,e)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){if(!this.getUploads({id:e}))throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var i="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(i),new qq.Error(i)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(t){var i=this;return this._uploadData.addFile({uuid:t.uuid,name:t.name,size:t.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(e){t.deleteFileEndpoint&&i.setDeleteFileEndpoint(t.deleteFileEndpoint,e),t.deleteFileParams&&i.setDeleteFileParams(t.deleteFileParams,e),t.thumbnailUrl&&(i._thumbnailUrls[e]=t.thumbnailUrl),i._netUploaded++,i._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var n=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(n.log,n),onDelete:function(e){n._onDelete(e),n._options.callbacks.onDelete(e)},onDeleteComplete:function(e,t,i){n._onDeleteComplete(e,t,i),n._options.callbacks.onDeleteComplete(e,t,i)}})},_createPasteHandler:function(){var t=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(t.log,t),pasteReceived:function(e){t._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(t._options.callbacks.onPasteReceived,t,e),onSuccess:qq.bind(t._handlePasteSuccess,t,e),identifier:"pasted image"})}}})},_createStore:function(e,t){function i(e){return qq.isObject(e)?qq.extend({},e):e}function n(e,t){r&&qq.isObject(t)&&qq.extend(t,qq.isFunction(r)?r():r),a[e]&&qq.extend(t,a[e])}var s={},o=e,a={},r=t;return{set:function(e,t){null==t?(s={},o=i(e)):s[t]=i(e)},get:function(e){var t=null!=e&&s[e]?s[e]:i(o);return n(e,t),i(t)},addReadOnly:function(e,t){qq.isObject(s)&&(null===e?qq.isFunction(t)?r=t:(r=r||{},qq.extend(r,t)):(a[e]=a[e]||{},qq.extend(a[e],t)))},remove:function(e){return delete s[e]},reset:function(){s={},a={},o=e}}},_createUploadDataTracker:function(){var n=this;return new qq.UploadData({getName:function(e){return n.getName(e)},getUuid:function(e){return n.getUuid(e)},getSize:function(e){return n.getSize(e)},onStatusChange:function(e,t,i){n._onUploadStatusChange(e,t,i),n._options.callbacks.onStatusChange(e,t,i),n._maybeAllComplete(e,i),n._totalProgress&&setTimeout(function(){n._totalProgress.onStatusChange(e,t,i)},0)}})},_createUploadButton:function(e){var t=this,i=e.accept||this._options.validation.acceptFiles,n=e.allowedExtensions||this._options.validation.allowedExtensions,s=new qq.UploadButton({acceptFiles:i,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:!!qq.supportedFeatures.ajaxUploading&&!(t._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&t._isAllowedExtension(n,".mov"))&&(void 0===e.multiple?t._options:e).multiple,name:this._options.request.inputName,onChange:function(e){t._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title});return this._disposeSupport.addDisposer(function(){s.dispose()}),t._buttons.push(s),s},_createUploadHandler:function(e,t){var o=this,a={},i={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(o.log,o),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,i,n){i<0||n<0||(a[e]&&a[e].loaded===i&&a[e].total===n||(o._onProgress(e,t,i,n),o._options.callbacks.onProgress(e,t,i,n)),a[e]={loaded:i,total:n})},onComplete:function(e,t,i,n){delete a[e];var s=o.getUploads({id:e}).status;s!==qq.status.UPLOAD_SUCCESSFUL&&s!==qq.status.UPLOAD_FAILED&&((s=o._onComplete(e,t,i,n))instanceof qq.Promise?s.done(function(){o._options.callbacks.onComplete(e,t,i,n)}):o._options.callbacks.onComplete(e,t,i,n))},onCancel:function(e,t,i){var n=new qq.Promise;return o._handleCheckedCallback({name:"onCancel",callback:qq.bind(o._options.callbacks.onCancel,o,e,t),onFailure:n.failure,onSuccess:function(){i.then(function(){o._onCancel(e,t)}),n.success()},identifier:e}),n},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){o._onUpload(e,t);t=o._options.callbacks.onUpload(e,t);return qq.isGenericPromise(t)?(o.log(qq.format("onUpload for {} returned a Promise - waiting for resolution.",e)),t):(new qq.Promise).success()},onUploadChunk:function(e,t,i){o._onUploadChunk(e,i);t=o._options.callbacks.onUploadChunk(e,t,i);return qq.isGenericPromise(t)?(o.log(qq.format("onUploadChunk for {}.{} returned a Promise - waiting for resolution.",e,i.partIndex)),t):(new qq.Promise).success()},onUploadChunkSuccess:function(e,t,i,n){o._onUploadChunkSuccess(e,t),o._options.callbacks.onUploadChunkSuccess.apply(o,arguments)},onResume:function(e,t,i,n){return o._options.callbacks.onResume(e,t,i,n)},onAutoRetry:function(e,t,i,n){return o._onAutoRetry.apply(o,arguments)},onUuidChanged:function(e,t){o.log("Server requested UUID change from '"+o.getUuid(e)+"' to '"+t+"'"),o.setUuid(e,t)},getName:qq.bind(o.getName,o),getUuid:qq.bind(o.getUuid,o),getSize:qq.bind(o.getSize,o),setSize:qq.bind(o._setSize,o),getDataByUuid:function(e){return o.getUploads({uuid:e})},isQueued:function(e){e=o.getUploads({id:e}).status;return e===qq.status.QUEUED||e===qq.status.SUBMITTED||e===qq.status.UPLOAD_RETRYING||e===qq.status.PAUSED},getIdsInProxyGroup:o._uploadData.getIdsInProxyGroup,getIdsInBatch:o._uploadData.getIdsInBatch,isInProgress:function(e){return o.getUploads({id:e}).status===qq.status.UPLOADING},getCustomResumeData:qq.bind(o._getCustomResumeData,o),setStatus:function(e,t){o._uploadData.setStatus(e,t)}};return qq.each(this._options.request,function(e,t){i[e]=t}),i.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){i[e]=t}),new qq.UploadHandlerController(i,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];for(var t=-1;t++,999<(e/=1e3););return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var o=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(e,t){var i=t.multiple,n=qq.extend({},o._options.validation,!0),s=qq.extend({},t);void 0===i&&(i=o._options.multiple),s.validation&&qq.extend(n,t.validation,!0),qq.extend(s,{multiple:i,validation:n},!0),o._initExtraButton(s)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var i,e=e;if((e=e instanceof qq.BlobProxy?e.referenceBlob:e)&&!qq.isBlob(e))return qq.isFile(e)?e.qqButtonId:"input"===e.tagName.toLowerCase()&&"file"===e.type.toLowerCase()?e.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME):(e=e.getElementsByTagName("input"),qq.each(e,function(e,t){if("file"===t.getAttribute("type"))return i=t,!1}),i?i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME):void 0)},_getCustomResumeData:function(e){return this._customResumeDataStore.get(e)},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){e=this._extraButtonSpecs[e];return(e||this._options).validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var i=this,n=[];return qq.each(e,function(e,t){n.push(i._getValidationDescriptor(t))}),n},_handleCameraAccess:function(){var e,i,n;this._options.camera.ios&&qq.ios()&&(e=this._options.camera.button,i=e?this._getButtonId(e):this._defaultButtonId,n=this._options,(n=i&&i!==this._defaultButtonId?this._extraButtonSpecs[i]:n).multiple=!1,null===n.validation.acceptFiles?n.validation.acceptFiles="image/*;capture=camera":n.validation.acceptFiles+=",image/*;capture=camera",qq.each(this._buttons,function(e,t){if(t.getButtonId()===i)return t.setMultiple(n.multiple),t.setAcceptFiles(n.acceptFiles),!1}))},_handleCheckedCallback:function(t){var i=this,e=t.callback();return qq.isGenericPromise(e)?(this.log(t.name+" - waiting for "+t.name+" promise to be fulfilled for "+t.identifier),e.then(function(e){i.log(t.name+" promise success for "+t.identifier),t.onSuccess(e)},function(){t.onFailure?(i.log(t.name+" promise failure for "+t.identifier),t.onFailure()):i.log(t.name+" promise failure for "+t.identifier)})):(!1!==e?t.onSuccess(e):t.onFailure?(this.log(t.name+" - return value was 'false' for "+t.identifier+".  Invoking failure callback."),t.onFailure()):this.log(t.name+" - return value was 'false' for "+t.identifier+".  Will not proceed."),e)},_handleNewFile:function(e,t,i){var n=this,s=qq.getUniqueId(),o=-1,a=qq.getFilename(e),e=e.blob||e;(this._customNewFileHandler||qq.bind(n._handleNewFileGeneric,n))(e,a,s,o=!qq.isInput(e)&&0<=e.size?e.size:o,i,t,this._options.request.uuidName,{uploadData:n._uploadData,paramsStore:n._paramsStore,addFileToHandler:function(e,t){n._handler.add(e,t),n._netUploadedOrQueued++,n._trackButton(e)}})},_handleNewFileGeneric:function(e,t,i,n,s,o){o=this._uploadData.addFile({uuid:i,name:t,size:n,batchId:o,file:e});this._handler.add(o,e),this._trackButton(o),this._netUploadedOrQueued++,s.push({id:o,file:e})},_handlePasteSuccess:function(e,t){var i=e.type.split("/")[1],t=t;null==t&&(t=this._options.paste.defaultName),this.addFiles({name:t+="."+i,blob:e})},_handleDeleteSuccess:function(e){var t;this.getUploads({id:e}).status!==qq.status.DELETED&&(t=this.getName(e),this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded."))},_handleDeleteFailed:function(e,t){var i=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+i+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,i,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,i,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled||this._options.cors.expected&&!qq.supportedFeatures.deleteFileCorsXhr&&(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr))},_isAllowedExtension:function(e,i){var n=!1;return!e.length||(qq.each(e,function(e,t){if(qq.isString(t)){t=new RegExp("\\."+t+"$","i");if(null!=i.match(t))return!(n=!0)}}),n)},_itemError:function(e,t,i){function n(e,t){s=s.replace(e,t)}var s=this._options.messages[e],o=[],a=[].concat(t),e=a[0],t=this._getButtonId(i),i=this._getValidationBase(t);return qq.each(i.allowedExtensions,function(e,t){qq.isString(t)&&o.push(t)}),t=o.join(", ").toLowerCase(),n("{file}",this._options.formatFileName(e)),n("{extensions}",t),n("{sizeLimit}",this._formatSize(i.sizeLimit)),n("{minSizeLimit}",this._formatSize(i.minSizeLimit)),null!==(i=s.match(/(\{\w+\})/g))&&qq.each(i,function(e,t){n(t,a[e])}),this._options.callbacks.onError(null,e,s,void 0),s},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var i=this,n=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===n&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){i._onAllComplete(i._succeededSinceLastAllComplete,i._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,i,n){i.success||(n&&200!==n.status&&!i.error?this._options.callbacks.onError(e,t,"XHR returned response code "+n.status,n):(i=i.error||this._options.text.defaultResponseError,this._options.callbacks.onError(e,t,i,n)))},_maybeProcessNextItemAfterOnValidateCallback:function(e,i,n,s,o){var a=this;if(i.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=a._getValidationDescriptor(i[n]),t=a._getButtonId(i[n].file),t=a._getButton(t);a._handleCheckedCallback({name:"onValidate",callback:qq.bind(a._options.callbacks.onValidate,a,e,t),onSuccess:qq.bind(a._onValidateCallbackSuccess,a,i,n,s,o),onFailure:qq.bind(a._onValidateCallbackFailure,a,i,n,s,o),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;n<i.length;n++)a._fileOrBlobRejected(i[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,i,n,s){var o=this;if(o._preventRetries[e]=i[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e)){i=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),s?s(e):o._handler.retry(e)},i),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,i=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),!1!==this._options.callbacks.onManualRetry(e,t)&&(0<i&&this._netUploadedOrQueued+1>i?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var i=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&0<=i&&this._storedIds.splice(i,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,i,n){return i.success?(i.thumbnailUrl&&(this._thumbnailUrls[e]=i.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),!0===i[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,i,n),!!i.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,i){this.getName(e),i?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else 0<e.value.length&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,i,n){this._totalProgress&&this._totalProgress.onIndividualProgress(e,i,n)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,i){var n,s=this.getUuid(e);return t&&(n=qq.bind(t,this,e,s,i)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:n||qq.bind(this._deleteHandler.sendDelete,this,e,s,i),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadChunkSuccess:function(e,t){!this._preventRetries[e]&&this._options.retry.enableAuto&&(this._autoRetries[e]=0)},_onUploadStatusChange:function(e,t,i){i===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var i=this;qq.each(e,function(e,t){i._fileOrBlobRejected(t.id)})},_onValidateBatchCallbackSuccess:function(e,t,i,n,s){var o=this._currentItemLimit,a=this._netUploadedOrQueued;0===o||a<=o?0<t.length?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],s),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,i,n),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,i,n),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,a).replace(/\{itemLimit\}/g,o),this._batchError(o))},_onValidateCallbackFailure:function(e,t,i,n){var s=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,s,i,n)},_onValidateCallbackSuccess:function(e,t,i,n){var s=this,o=t+1,a=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],a).then(function(){s._upload(e[t].id,i,n),s._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,i,n)},function(){s._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,i,n)})},_prepareItemsForUpload:function(e,t,i){var n,s;0!==e.length?(n=this._getValidationDescriptors(e),s=this._getButtonId(e[0].file),s=this._getButton(s),this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,n,s),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,n,e,t,i,s),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})):this._itemError("noFilesError")},_preventLeaveInProgress:function(){var t=this;this._disposeSupport.attach(window,"beforeunload",function(e){if(t.getInProgress())return(e=e||window.event).returnValue=t._options.messages.onLeave,t._options.messages.onLeave})},_refreshSessionData:function(){var i=this,e=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(e,{cors:this._options.cors}),e.log=qq.bind(this.log,this),e.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(e)),setTimeout(function(){i._session.refresh().then(function(e,t){i._sessionRequestComplete(),i._options.callbacks.onSessionRequestComplete(e,!0,t)},function(e,t){i._options.callbacks.onSessionRequestComplete(e,!1,t)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e){var t=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&t.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e));t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,i){var n=this.getName(e);t&&this.setParams(t,e),i&&this.setEndpoint(i,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,n),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,n),onFailure:qq.bind(this._fileOrBlobRejected,this,e,n),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,i=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);(t=this.getUploads({status:qq.status.SUBMITTING}).length)&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){i._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var i=this,n=e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file,s=t.name,o=t.size,t=this._getButtonId(e.file),t=this._getValidationBase(t),a=new qq.Promise;return a.then(function(){},function(){i._fileOrBlobRejected(e.id,s)}),qq.isFileOrInput(n)&&!this._isAllowedExtension(t.allowedExtensions,s)?(this._itemError("typeError",s,n),a.failure()):this._options.validation.allowEmpty||0!==o?0<o&&t.sizeLimit&&o>t.sizeLimit?(this._itemError("sizeError",s,n),a.failure()):0<o&&o<t.minSizeLimit?(this._itemError("minSizeError",s,n),a.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(n)?new qq.ImageValidation(n,qq.bind(i.log,i)).validate(t.image).then(a.success,function(e){i._itemError(e+"ImageError",s,n),a.failure()}):a.success(),a):(this._itemError("emptyError",s,n),a.failure())},_wrapCallbacks:function(){var i,n=this,s=function(e,t,i){try{return t.apply(n,i)}catch(t){i=t.message||t.toString(),n.log("Caught exception in '"+e+"' callback - "+i,"error")}};for(i in this._options.callbacks)!function(){var e=i,t=n._options.callbacks[e];n._options.callbacks[e]=function(){return s(e,t,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,warnBeforeUnload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",omitDefaultParams:!1,params:{},paramsInBody:!0,requireSuccessJson:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,i,n){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,i){},onUploadChunkSuccess:function(e,t,i,n){},onResume:function(e,t,i,n){},onProgress:function(e,t,i,n){},onTotalProgress:function(e,t){},onError:function(e,t,i,n){},onAutoRetry:function(e,t,i){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,i){},onPasteReceived:function(e){},onStatusChange:function(e,t,i){},onSessionRequestComplete:function(e,t,i){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:function(e){return 2e6},success:{endpoint:null,headers:function(e){return null},jsonPayload:!1,method:"POST",params:function(e){return null},resetOnStatus:[]}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"},customKeys:function(e){return[]}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._options.warnBeforeUnload&&this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){e=t._uploadData.retrieve({id:e});return e&&e.size||0})),this._currentItemLimit=this._options.validation.itemLimit,this._customResumeDataStore=this._createStore()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";function _(e){return x.cors.expected&&void 0===e.withCredentials}function v(e,t){var i,n=w[e]&&w[e].xhr;return n||(n=t||(x.cors.expected?((window.XMLHttpRequest||window.ActiveXObject)&&(void 0===(i=qq.createXhrInstance()).withCredentials&&((i=new XDomainRequest).onload=function(){},i.onerror=function(){},i.ontimeout=function(){},i.onprogress=function(){})),i):qq.createXhrInstance()),w[e].xhr=n),n}function o(e){var t=qq.indexOf(u,e),i=x.maxConnections;delete w[e],u.splice(t,1),u.length>=i&&t<i&&l(u[i-1])}function b(e,t){var i=v(e),n=x.method,s=!0===t;o(e),s?q(n+" request for "+e+" has failed","error"):_(i)||(t=i.status,0<=qq.indexOf(x.successfulResponseCodes[x.method],t))||(s=!0,q(n+" request for "+e+" has failed - response code "+i.status,"error")),x.onComplete(e,i,s)}function l(e,t){var i,n,s,o,a,r,l,u,c,d,h,p=v(e,t),f=x.method,m=(h=w[d=e].additionalParams,s=x.mandatedParams,x.paramsStore.get&&(i=x.paramsStore.get(d)),h&&qq.each(h,function(e,t){(i=i||{})[e]=t}),s&&qq.each(s,function(e,t){(i=i||{})[e]=t}),i),g=w[e].payload;return x.onSend(e),c=m,d=w[t=e].additionalQueryParams,h=x.endpointStore.get(t),null!=(t=w[t].addToPath)&&(h+="/"+t),y&&c&&(h=qq.obj2url(c,h)),s=h=d?qq.obj2url(d,h):h,_(p)?(p.onload=(u=e,function(){b(u)}),p.onerror=(l=e,function(){b(l,!0)})):p.onreadystatechange=(r=e,function(){4===v(r).readyState&&b(r)}),o=e,(a=x.onProgress)&&(v(o).upload.onprogress=function(e){e.lengthComputable&&a(o,e.loaded,e.total)}),p.open(f,s,!0),x.cors.expected&&x.cors.sendCredentials&&!_(p)&&(p.withCredentials=!0),n=v(t=e),c=x.customHeaders,d=w[t].additionalHeaders||{},h=x.method,s={},_(n)||(x.acceptHeader&&n.setRequestHeader("Accept",x.acceptHeader),x.allowXRequestedWithAndCacheControl&&(x.cors.expected&&0<=qq.indexOf(["GET","POST","HEAD"],x.method)&&!function(){var i=!1;return qq.each(i,function(e,t){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],t)<0)return!(i=!0)}),i}()||(n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Cache-Control","no-cache"))),!x.contentType||"POST"!==h&&"PUT"!==h||n.setRequestHeader("Content-Type",x.contentType),qq.extend(s,qq.isFunction(c)?c(t):c),qq.extend(s,d),qq.each(s,function(e,t){n.setRequestHeader(e,t)})),q("Sending "+f+" request for "+e),g?p.send(g):y||!m?p.send():m&&x.contentType&&0<=x.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")?p.send(qq.obj2url(m,"")):m&&x.contentType&&0<=x.contentType.toLowerCase().indexOf("application/json")?p.send(JSON.stringify(m)):p.send(m),p}var q,y,u=[],w={},x={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,i){},onProgress:null};if(qq.extend(x,e),q=x.log,qq.indexOf(x.validMethods,x.method)<0)throw new Error("'"+x.method+"' is not a supported method for this type of request!");y="GET"===x.method||"DELETE"===x.method,qq.extend(this,{initTransport:function(t){var i,n,s,o,a,r;return{withPath:function(e){return i=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return r=e,this},withHeaders:function(e){return s=e,this},withPayload:function(e){return o=e,this},withCacheBuster:function(){return a=!0,this},send:function(e){return a&&0<=qq.indexOf(["GET","DELETE"],x.method)&&(n.qqtimestamp=(new Date).getTime()),function(e,t,i,n,s,o,a){if(w[e]={addToPath:i,additionalParams:n,additionalQueryParams:s,additionalHeaders:o,payload:a},u.push(e)<=x.maxConnections)return l(e,t)}(t,e,i,n,r,s,o)}}},canceled:function(e){o(e)}})},qq.UploadHandler=function(e){"use strict";var e=e.proxy,n={},s=e.onCancel,o=e.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,i=new qq.Promise;s(e,o(e),i).then(function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),i.success()})},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var n,l,u,s=this,o=!1,c=!1,d={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,i,n){},onComplete:function(e,t,i,n){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,i){},onUploadChunkSuccess:function(e,t,i,n){},onAutoRetry:function(e,t,i,n){},onResume:function(e,t,i,n){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){},isInProgress:function(e){}},h={done:function(e,t,i,n){var s=u._getChunkData(e,t);u._getFileState(e).attemptingResume=!1,delete u._getFileState(e).temp.chunkProgress[t],u._getFileState(e).loaded+=s.size,d.onUploadChunkSuccess(e,u._getChunkDataForCallback(s),i,n)},finalize:function(i){var n=d.getSize(i),s=d.getName(i);l("All chunks have been uploaded for "+i+" - finalizing...."),u.finalizeChunks(i).then(function(e,t){l("Finalize successful for "+i);e=f.normalizeResponse(e,!0);d.onProgress(i,s,n,n),u._maybeDeletePersistedChunkData(i),f.cleanup(i,e,t)},function(e,t){e=f.normalizeResponse(e,!1);l("Problem finalizing chunks for file ID "+i+" - "+e.error,"error"),(e.reset||t&&0<=d.chunking.success.resetOnStatus.indexOf(t.status))&&h.reset(i),d.onAutoRetry(i,s,e,t)||f.cleanup(i,e,t)})},handleFailure:function(e,i,t,n){var s=d.getName(i);l("Chunked upload request failed for "+i+", chunk "+e),u.clearCachedChunk(i,e);var o=f.normalizeResponse(t,!1);o.reset?h.reset(i):0<=(t=(t=u._getFileState(i).chunking.inProgress)?qq.indexOf(t,e):-1)&&(u._getFileState(i).chunking.inProgress.splice(t,1),u._getFileState(i).chunking.remaining.unshift(e)),u._getFileState(i).temp.ignoreFailure||(c&&(u._getFileState(i).temp.ignoreFailure=!0,l(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(u._getXhrs(i))),JSON.stringify(u._getFileState(i).chunking.inProgress))),qq.each(u._getXhrs(i),function(e,t){l(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",i,e,t.readyState)),t.abort(),t._cancelled=!0}),u.moveInProgressToRemaining(i),p.free(i,!0)),d.onAutoRetry(i,s,o,n)||f.cleanup(i,o,n))},hasMoreParts:function(e){return!!u._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=u._getFileState(e).chunking.remaining.shift();return t=t>=u._getTotalChunks(e)?null:t},reset:function(e){l("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),u._maybeDeletePersistedChunkData(e),u.reevaluateChunking(e),u._getFileState(e).loaded=0,u._getFileState(e).attemptingResume=!1},sendNext:function(s){var t=d.getSize(s),e=d.getName(s),o=h.nextPart(s),i=u._getChunkData(s,o),n=u._getFileState(s),a=n.attemptingResume,r=n.chunking.inProgress||[];null==n.loaded&&(n.loaded=0),a&&!1===d.onResume(s,e,i,n.customResumeData)&&(h.reset(s),o=h.nextPart(s),i=u._getChunkData(s,o),a=!1),null==o&&0===r.length?h.finalize(s):(r.push(o),u._getFileState(s).chunking.inProgress=r,c&&p.open(s,o),c&&p.available()&&u._getFileState(s).chunking.remaining.length&&h.sendNext(s),0===i.blob.size&&(l(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,s),"error"),h.handleFailure(o,s,"File is no longer available",null)),d.onUploadChunk(s,e,u._getChunkDataForCallback(i)).then(function(e){d.isInProgress(s)?(l(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",s,o,i.start+1,i.end,t)),e={chunkIdx:o,id:s,overrides:e,resuming:a},u.uploadChunk(e).then(function(e,t){l("Chunked upload request succeeded for "+s+", chunk "+o),u.clearCachedChunk(s,o);var i=u._getFileState(s).chunking.inProgress||[],n=f.normalizeResponse(e,!0),e=qq.indexOf(i,o);l(qq.format("Chunk {} for file {} uploaded successfully.",o,s)),h.done(s,o,n,t),0<=e&&i.splice(e,1),u._maybePersistChunkedState(s),h.hasMoreParts(s)||0!==i.length?h.hasMoreParts(s)?h.sendNext(s):l(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",s,JSON.stringify(i))):h.finalize(s)},function(e,t){h.handleFailure(o,s,e,t)}).done(function(){u.clearXhr(s,o)})):l(qq.format("Not sending chunked upload request for item {}.{} - no longer in progress.",s,o))},function(e){h.handleFailure(o,s,e,null)}))}},p={_open:[],_openChunks:{},_waiting:[],available:function(){var e=d.maxConnections,i=0,n=0;return qq.each(p._openChunks,function(e,t){i++,n+=t.length}),e-(p._open.length-i+n)},free:function(e,t){var i=!t,n=qq.indexOf(p._waiting,e),t=qq.indexOf(p._open,e);delete p._openChunks[e],f.getProxyOrBlob(e)instanceof qq.BlobProxy&&(l("Generated blob upload has ended for "+e+", disposing generated blob."),delete u._getFileState(e).file),0<=n?p._waiting.splice(n,1):i&&0<=t&&(p._open.splice(t,1),0<=(t=p._waiting.shift())&&(p._open.push(t),f.start(t)))},getWaitingOrConnected:function(){var i=[];return qq.each(p._openChunks,function(e,t){t&&t.length&&i.push(parseInt(e))}),qq.each(p._open,function(e,t){p._openChunks[t]||i.push(parseInt(t))}),i=i.concat(p._waiting)},isUsingConnection:function(e){return 0<=qq.indexOf(p._open,e)},open:function(e,t){return null==t&&p._waiting.push(e),!!p.available()&&(null==t?(p._waiting.pop(),p._open.push(e)):((i=p._openChunks[e]||[]).push(t),p._openChunks[e]=i),!0);var i},reset:function(){p._waiting=[],p._open=[]}},a=function(n,s){var e=u._getFileState(n);e?(e.loaded=0,l("Sending simple upload request for "+n),u.uploadFile(n).then(function(e,t){l("Simple upload request succeeded for "+n);var i=f.normalizeResponse(e,!0),e=d.getSize(n);d.onProgress(n,s,e,e),f.maybeNewUuid(n,i),f.cleanup(n,i,t)},function(e,t){l("Simple upload request failed for "+n);e=f.normalizeResponse(e,!1);d.onAutoRetry(n,s,e,t)||f.cleanup(n,e,t)})):l("Ignoring send request as this upload may have been cancelled, File ID "+n,"warn")},f={cancel:function(e){l("Cancelling "+e),d.paramsStore.remove(e),p.free(e)},cleanup:function(e,t,i){var n=d.getName(e);d.onComplete(e,n,t,i),u._getFileState(e)&&u._clearXhrs&&u._clearXhrs(e),p.free(e)},getProxyOrBlob:function(e){return u.getProxy&&u.getProxy(e)||u.getFile&&u.getFile(e)},initHandler:function(){(u=new(t?qq[t]:qq.traditional)[(qq.supportedFeatures.ajaxUploading?"Xhr":"Form")+"UploadHandler"](d,{getCustomResumeData:d.getCustomResumeData,getDataByUuid:d.getDataByUuid,getName:d.getName,getSize:d.getSize,getUuid:d.getUuid,log:l,onCancel:d.onCancel,onProgress:d.onProgress,onUuidChanged:d.onUuidChanged,onFinalizing:function(e){d.setStatus(e,qq.status.UPLOAD_FINALIZING)}}))._removeExpiredChunkingRecords&&u._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return d.isQueued(e)},maybeDefer:function(i,e){return e&&!u.getFile(i)&&e instanceof qq.BlobProxy?(d.onUploadPrep(i),l("Attempting to generate a blob on-demand for "+i),e.create().then(function(e){l("Generated an on-demand blob for "+i),u.updateBlob(i,e),d.setSize(i,e.size),u.reevaluateChunking(i),f.maybeSendDeferredFiles(i)},function(e){var t={};e&&(t.error=e),l(qq.format("Failed to generate blob for ID {}.  Error message: {}.",i,e),"error"),d.onComplete(i,d.getName(i),qq.extend(t,n),null),f.maybeSendDeferredFiles(i),p.free(i)}),!1):f.maybeSendDeferredFiles(i)},maybeSendDeferredFiles:function(i){var e=d.getIdsInProxyGroup(i),n=!1;return e&&e.length?(l("Maybe ready to upload proxy group file "+i),qq.each(e,function(e,t){if(f.isDeferredEligibleForUpload(t)&&u.getFile(t))n=t===i,f.now(t);else if(f.isDeferredEligibleForUpload(t))return!1})):(n=!0,f.now(i)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&d.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var i=e;return qq.isObject(e)||(i={},qq.isString(e)&&!t&&(i.error=e)),i.success=t,i},now:function(t){var i=d.getName(t);if(!s.isValid(t))throw new qq.Error(t+" is not a valid file ID to upload!");d.onUpload(t,i).then(function(e){e&&e.pause?(d.setStatus(t,qq.status.PAUSED),u.pause(t),p.free(t)):o&&u._shouldChunkThisFile(t)?h.sendNext(t):a(t,i)},function(e){l(t+" upload start aborted due to rejected onUpload Promise - details: "+(e=e||{}),"error"),d.onAutoRetry(t,i,e.responseJSON||{})||(e=f.normalizeResponse(e.responseJSON,!1),f.cleanup(t,e))})},start:function(e){var t=f.getProxyOrBlob(e);return t?f.maybeDefer(e,t):(f.now(e),!0)}};qq.extend(this,{add:function(e,t){u.add.apply(this,arguments)},upload:function(e){return!!p.open(e)&&f.start(e)},retry:function(e){return c&&(u._getFileState(e).temp.ignoreFailure=!1),p.isUsingConnection(e)?f.start(e):s.upload(e)},cancel:function(e){var t=u.cancel(e);qq.isGenericPromise(t)?t.then(function(){f.cancel(e)}):!1!==t&&f.cancel(e)},cancelAll:function(){var e,t=p.getWaitingOrConnected();if(t.length)for(e=t.length-1;0<=e;e--)s.cancel(t[e]);p.reset()},getFile:function(e){return u.getProxy&&u.getProxy(e)?u.getProxy(e).referenceBlob:u.getFile&&u.getFile(e)},isProxied:function(e){return!(!u.getProxy||!u.getProxy(e))},getInput:function(e){if(u.getInput)return u.getInput(e)},reset:function(){l("Resetting upload handler"),s.cancelAll(),p.reset(),u.reset()},expunge:function(e){if(s.isValid(e))return u.expunge(e)},isValid:function(e){return u.isValid(e)},hasResumeRecord:function(e){e=u.isValid(e)&&u._getLocalStorageId&&u._getLocalStorageId(e);return!!e&&!!localStorage.getItem(e)},getResumableFilesData:function(){return u.getResumableFilesData?u.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(s.isValid(e))return u.getThirdPartyFileId(e)},pause:function(e){return!!(s.isResumable(e)&&u.pause&&s.isValid(e)&&u.pause(e))&&(p.free(e),u.moveInProgressToRemaining(e),!0)},isAttemptingResume:function(e){return!!u.isAttemptingResume&&u.isAttemptingResume(e)},isResumable:function(e){return!!u.isResumable&&u.isResumable(e)}}),qq.extend(d,e),l=d.log,o=d.chunking.enabled&&qq.supportedFeatures.chunking,c=o&&d.chunking.concurrent.enabled,(e={})[d.preventRetryParam]=!0,n=e,f.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var i={};qq.extend({log:function(e,t){}},e),qq.extend(this,{receiveMessage:function(e,t){window.postMessage?i[e]=qq(window).attach("message",function(e){t(e.data)}):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){!window.postMessage||(e=i[e])&&e()}})},qq.FormUploadHandler=function(e){"use strict";function r(e){return e.split("_")[0]}var t=e.options,l=this,i=e.proxy,n=qq.getUniqueId(),u={},c={},d={},h=t.isCors,s=t.inputName,p=i.getUuid,f=i.log,m=new qq.WindowReceiveMessage({log:f});qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(i){return{add:function(e,t){i.add(e,{input:t}),t.setAttribute("name",s),t.parentNode&&qq(t).remove()},expunge:function(e){var t;delete c[t=e],h&&(clearTimeout(d[t]),delete d[t],m.stopReceivingMessages(t)),(t=document.getElementById(l._getIframeName(t)))&&(t.setAttribute("src","javascript:false;"),qq(t).remove()),i.expunge(e)},isValid:function(e){return i.isValid(e)&&void 0!==l._getFileState(e).input}}}),qq.extend(this,{getInput:function(e){return l._getFileState(e).input},_attachLoadEvent:function(e,t){var i,n,s,o,a;h?(s=t,o=(n=e).id,a=r(o),u[p(a)]=s,c[a]=qq(n).attach("load",function(){l.getInput(a)&&(f("Received iframe load event for CORS upload request (iframe name "+o+")"),d[o]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+o;f(e,"error"),s({error:e})},1e3))}),m.receiveMessage(o,function(e){f("Received the following window message: '"+e+"'");var t,i=(r(o),l._parseJsonResponse(e)),n=i.uuid;n&&u[n]?(f("Handling response for iframe name "+o),clearTimeout(d[o]),delete d[o],l._detachLoadEvent(o),t=u[n],delete u[n],m.stopReceivingMessages(o),t(i)):n||f("'"+e+"' does not contain a UUID - ignoring.")})):c[e.id]=qq(e).attach("load",function(){if(f("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){f("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),i={success:!1}}t(i)}})},_createIframe:function(e){return t=l._getIframeName(e),(e=qq.toElement("<iframe src='javascript:false;' name='"+t+"' />")).setAttribute("id",t),e.style.display="none",document.body.appendChild(e),e;var t},_detachLoadEvent:function(e){void 0!==c[e]&&(c[e](),delete c[e])},_getIframeName:function(e){return e+"_"+n},_initFormForUpload:function(e){var t=e.method,i=e.endpoint,n=e.params,s=e.paramsInBody,o=e.targetName,e=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),t=i;return s?qq.obj2Inputs(n,e):t=qq.obj2url(n,i),e.setAttribute("action",t),e.setAttribute("target",o),e.style.display="none",document.body.appendChild(e),e},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){f("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function t(i){qq.each(c._getXhrs(i),function(e,t){e=c._getAjaxRequester(i,e);t.onreadystatechange=null,t.upload.onprogress=null,t.abort(),e&&e.canceled&&e.canceled(i)})}function a(e){var t=c._getFileState(e);if(t.chunkSize)return t.chunkSize;var i=s.partSize;return qq.isFunction(i)&&(i=i(e,h(e))),t.chunkSize=i}var c=this,r=e.options.namespace,i=e.proxy,s=e.options.chunking,l=e.options.resume,n=s&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,o=l&&e.options.resume.enabled&&n&&qq.supportedFeatures.resume,d=i.getName,h=i.getSize,u=i.getUuid,p=i.getEndpoint,f=i.getDataByUuid,m=i.onUuidChanged,g=i.onProgress,_=i.log,v=i.getCustomResumeData;qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(i){return{add:function(e,t){if(qq.isFile(t)||qq.isBlob(t))i.add(e,{file:t});else{if(!(t instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");i.add(e,{proxy:t})}c._initTempState(e),o&&c._maybePrepareForResume(e)},expunge:function(e){t(e),c._maybeDeletePersistedChunkData(e),c._clearXhrs(e),i.expunge(e)}}}),qq.extend(this,{clearCachedChunk:function(e,t){e=c._getFileState(e);e&&delete e.temp.cachedChunks[t]},clearXhr:function(e,t){e=c._getFileState(e).temp;e.xhrs&&delete e.xhrs[t],e.ajaxRequesters&&delete e.ajaxRequesters[t]},finalizeChunks:function(e,t){var i=c._getTotalChunks(e)-1,i=c._getXhr(e,i);return t?(new qq.Promise).success(t(i),i):(new qq.Promise).success({},i)},getFile:function(e){return c.isValid(e)&&c._getFileState(e).file},getProxy:function(e){return c.isValid(e)&&c._getFileState(e).proxy},getResumableFilesData:function(){var n=[];return c._iterateResumeRecords(function(e,t){c.moveInProgressToRemaining(null,t.chunking.inProgress,t.chunking.remaining);var i={name:t.name,remaining:t.chunking.remaining,size:t.size,uuid:t.uuid};t.key&&(i.key=t.key),t.customResumeData&&(i.customResumeData=t.customResumeData),n.push(i)}),n},isAttemptingResume:function(e){return c._getFileState(e).attemptingResume},isResumable:function(e){return!!s&&c.isValid(e)&&!c._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,i){var e=(c._getFileState(e)||{}).chunking||{},t=t||e.inProgress,n=i||e.remaining;t&&(_(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(t))),t.reverse(),qq.each(t,function(e,t){n.unshift(t)}),t.length=0)},pause:function(e){if(c.isValid(e))return _(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,d(e))),c._getFileState(e).paused=!0,t(e),!0},reevaluateChunking:function(e){if(s&&c.isValid(e)){var t,i,n=c._getFileState(e);if(delete n.chunking,n.chunking={},1<(t=c._getTotalChunks(e))||s.mandatory){for(n.chunking.enabled=!0,n.chunking.parts=t,n.chunking.remaining=[],i=0;i<t;i++)n.chunking.remaining.push(i);c._initTempState(e)}else n.chunking.enabled=!1}},updateBlob:function(e,t){c.isValid(e)&&(c._getFileState(e).file=t)},_clearXhrs:function(e){var t=c._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return c._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){t=null==t?-1:t;return c._getFileState(e).temp.ajaxRequesters[t]},_getChunkData:function(e,t){var i=a(e),n=h(e),s=c.getFile(e),o=i*t,n=n<=o+i?n:o+i,i=c._getTotalChunks(e),e=this._getFileState(e).temp.cachedChunks,s=e[t]||qq.sliceBlob(s,o,n);return{part:t,start:o,end:n,count:i,blob:e[t]=s,size:n-o}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t=d(e),i=h(e),n=a(e),s=p(e),e=l.customKeys(e),o=qq.format("qq{}resume{}-{}-{}-{}-{}",r,"5.0",t,i,n,s);return e.forEach(function(e){o+="-"+e}),o},_getMimeType:function(e){return c.getFile(e).type},_getPersistableData:function(e){return c._getFileState(e).chunking},_getTotalChunks:function(e){if(s){var t=h(e),e=a(e);return Math.ceil(t/e)}},_getXhr:function(e,t){t=null==t?-1:t;return c._getFileState(e).temp.xhrs[t]},_getXhrs:function(e){return c._getFileState(e).temp.xhrs},_iterateResumeRecords:function(i){o&&qq.each(localStorage,function(e,t){0===e.indexOf(qq.format("qq{}resume",r))&&i(e,JSON.parse(t))})},_initTempState:function(e){c._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){c._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return!!(o&&c.isResumable(e)&&((t=c._getLocalStorageId(e))&&localStorage.getItem(t)))&&(localStorage.removeItem(t),!0)},_maybePrepareForResume:function(e){var t,i=c._getFileState(e);o&&void 0===i.key&&(t=c._getLocalStorageId(e),(t=localStorage.getItem(t))&&(t=JSON.parse(t),f(t.uuid)?c._markNotResumable(e):(_(qq.format("Identified file with ID {} and name of {} as resumable.",e,d(e))),m(e,t.uuid),i.key=t.key,i.chunking=t.chunking,i.loaded=t.loaded,i.customResumeData=t.customResumeData,i.attemptingResume=!0,c.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var t=c._getFileState(e);if(o&&c.isResumable(e)){var i=v(e),n=c._getLocalStorageId(e),t={name:d(e),size:h(e),uuid:u(e),key:t.key,chunking:t.chunking,loaded:t.loaded,lastUpdated:Date.now()};i&&(t.customResumeData=i);try{localStorage.setItem(n,JSON.stringify(t))}catch(n){_(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,n.toString()),"warn")}}},_registerProgressHandler:function(a,r,l){var e=c._getXhr(a,r),u=d(a),t={simple:function(e,t){var i=h(a);g(a,u,e===t?i:i<=e?i-1:e,i)},chunked:function(e,t){var i=c._getFileState(a).temp.chunkProgress,n=c._getFileState(a).loaded,s=e,e=t,t=h(a),o=n;i[r]=s-(e-l),qq.each(i,function(e,t){o+=t}),g(a,u,o,t)}};e.upload.onprogress=function(e){e.lengthComputable&&t[null==l?"simple":"chunked"](e.loaded,e.total)}},_registerXhr:function(e,t,i,n){t=null==t?-1:t,e=c._getFileState(e).temp;return e.xhrs=e.xhrs||{},e.ajaxRequesters=e.ajaxRequesters||{},e.xhrs[t]=i,n&&(e.ajaxRequesters[t]=n),i},_removeExpiredChunkingRecords:function(){var i=l.recordsExpireIn;c._iterateResumeRecords(function(e,t){t=new Date(t.lastUpdated);t.setDate(t.getDate()+i),t.getTime()<=Date.now()&&(_("Removing expired resume record with key "+e),localStorage.removeItem(e))})},_shouldChunkThisFile:function(e){var t=c._getFileState(e);if(t)return t.chunking||c.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";var n,s={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,i){}};qq.extend(s,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:s.method,endpointStore:s.endpointStore,paramsStore:s.paramsStore,mandatedParams:"POST"===s.method.toUpperCase()?{_method:"DELETE"}:{},maxConnections:s.maxConnections,customHeaders:function(e){return s.customHeaders.get(e)},log:s.log,onSend:s.onDelete,onComplete:s.onDeleteComplete,cors:s.cors})),qq.extend(this,{sendDelete:function(e,t,i){i=i||{};s.log("Submitting delete file request for "+e),"DELETE"===s.method?n.initTransport(e).withPath(t).withParams(i).send():(i[s.uuidParamName]=t,n.initTransport(e).withParams(i).send())}})},ZOb.prototype.render=function(t,e){e=e||{};var i,n,s,o,a,r,l=this,u=this.srcImage.naturalWidth,c=this.srcImage.naturalHeight,d=e.width,h=e.height,p=e.maxWidth,f=e.maxHeight,m=!this.blob||"image/jpeg"===this.blob.type,g=t.tagName.toLowerCase();this.imageLoadListeners?this.imageLoadListeners.push(function(){l.render(t,e)}):(d&&!h?h=c*d/u<<0:h&&!d?d=u*h/c<<0:(d=u,h=c),p&&p<d&&(h=c*(d=p)/u<<0),f&&f<h&&(d=u*(h=f)/c<<0),i={width:d,height:h},qq.each(e,function(e,t){i[e]=t}),"img"===g?(r=t.src,c=l.srcImage,d=l.blob,n=i,h=m,s=document.createElement("canvas"),o=n.mime||"image/jpeg",a=new qq.Promise,WOb(c,d,s,n,h).then(function(){a.success(s.toDataURL(o,n.quality||.8))}),a.then(function(e){t.src=e,r===t.src&&t.onload()})):"canvas"===g&&WOb(this.srcImage,this.blob,t,i,m),"function"==typeof this.onrender&&this.onrender(t))},qq.MegaPixImage=ZOb,qq.ImageGenerator=function(c){"use strict";function r(e){return"img"===e.tagName.toLowerCase()}function l(e){return"canvas"===e.tagName.toLowerCase()}function u(e){e=e.split("/"),e=e[e.length-1].split("?")[0],e=qq.getExtension(e);switch(e=e&&e.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function d(e){var t,i=document.createElement("a");return i.href=e,t=i.protocol,e=i.port,i=i.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||i.toLowerCase()!==window.location.hostname.toLowerCase()||e!==window.location.port&&!qq.ie()}function h(e,t){var i,n,s,o,a=r(e)||l(e);return r(e)?(o=t,(s=e).onload=function(){s.onload=null,s.onerror=null,o.success(s)},s.onerror=function(){s.onload=null,s.onerror=null,c("Problem drawing thumbnail!","error"),o.failure(s,"Problem drawing thumbnail!")}):l(e)?(n=t,(i=e).qqImageRendered=function(){n.success(i)}):(t.failure(e),c(qq.format("Element container of type {} is not supported!",e.tagName),"error")),a}function o(e,t,i,n,s){var o=new Image,a=new qq.Promise;h(o,a),d(e)&&(o.crossOrigin="anonymous"),o.src=e,a.then(function(){h(t,i),new qq.MegaPixImage(o).render(t,{maxWidth:n,maxHeight:n,mime:u(e),resize:s})},i.failure)}function a(e,t,i,n){h(t,i),qq(t).css({maxWidth:n+"px",maxHeight:n+"px"}),t.src=e}function p(e,t,i){var n=new qq.Promise,s=i.scale,i=s?i.maxSize:null;return s&&r(t)?(!(s=document.createElement("canvas")).getContext||!s.getContext("2d")||d(e)&&void 0===(new Image).crossOrigin?a:o)(e,t,n,i):l(t)?o(e,t,n,i):h(t,n)&&(t.src=e),n}qq.extend(this,{generate:function(e,t,i){return qq.isString(e)?(c("Attempting to update thumbnail based on server response."),p(e,t,i||{})):(c("Attempting to draw client-side image preview."),s=e,o=t,a=i||{},r=new qq.Promise,i=new qq.Identify(s,c),l=a.maxSize,u=null==a.orient||a.orient,i.isPreviewable().then(function(t){var e={parse:function(){return(new qq.Promise).success()}},e=u?new qq.Exif(s,c):e,i=new qq.MegaPixImage(s,n);h(o,r)&&e.parse().then(function(e){e=e&&e.Orientation;i.render(o,{maxWidth:l,maxHeight:l,orientation:e,mime:t,resize:a.customResizeFunction})},function(e){c(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",e)),i.render(o,{maxWidth:l,maxHeight:l,mime:t,resize:a.customResizeFunction})})},function(){c("Not previewable"),r.failure(o,"Not previewable")}),r);function n(){o.onerror=null,o.onload=null,c("Could not render preview, file may be too large!","error"),r.failure(o,"Browser cannot render image!")}var s,o,a,r,l,u}}),this._testing={},this._testing.isImg=r,this._testing.isCanvas=l,this._testing.isCrossOrigin=d,this._testing.determineMimeOfFileName=u},qq.Exif=function(a,u){"use strict";function c(e){for(var t=0,i=0;0<e.length;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,i),e=e.substring(2,e.length),i+=8;return t}function e(){var t=new qq.Promise;return qq.readBlobToHex(a,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):function i(e,t){var n=e,s=t;return void 0===n&&(n=2,s=new qq.Promise),qq.readBlobToHex(a,n,4).then(function(e){var t=/^ffe([0-9])/.exec(e);t?"1"!==t[1]?(e=parseInt(e.slice(4,8),16),i(n+e+2,s)):s.success(n):s.failure("No EXIF header to be found!")}),s}().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}var d=[274],h={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){function o(e){u(qq.format("EXIF header parse failed: '{}' ",e)),l.failure(e)}var l=new qq.Promise;return e().then(function(s){var e,t;u(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===a.name?"blob":a.name)),e=s,t=new qq.Promise,qq.readBlobToHex(a,e+10,2).then(function(e){t.success("4949"===e)}),t.then(function(t){var e,i,n;u(qq.format("EXIF Byte order is {} endian",t?"little":"big")),e=s,i=t,n=new qq.Promise,qq.readBlobToHex(a,e+18,2).then(function(e){return i?n.success(c(e)):void n.success(parseInt(e,16))}),n.then(function(e){u(qq.format("Found {} APP1 directory entries",e)),qq.readBlobToHex(a,s+20,12*e).then(function(e){var o,a,r,e=function(e){for(var t=[],i=0;i+24<=e.length;)t.push(e.slice(i,i+24)),i+=24;return t}(e),e=(o=t,e=e,a=qq.extend([],d),r={},qq.each(e,function(e,t){var i=t.slice(0,4),n=o?c(i):parseInt(i,16),s=a.indexOf(n);if(0<=s&&(i=h[n].name,n=h[n].bytes,n=t.slice(16,16+2*n),r[i]=o?c(n):parseInt(n,16),a.splice(s,1)),0===a.length)return!1}),r);u("Successfully parsed some EXIF tags"),l.success(e)},o)},o)},o)},o),l}}),this._testing={},this._testing.parseLittleEndian=c},qq.Identify=function(s,r){"use strict";qq.extend(this,{isPreviewable:function(){var e=this,o=new qq.Promise,a=!1,t=void 0===s.name?"blob":s.name;return r(qq.format("Attempting to determine if {} can be rendered in this browser",t)),r("First pass: check type attribute of blob object."),this.isPreviewableSync()?(r("Second pass: check for magic bytes in file header."),qq.readBlobToHex(s,0,4).then(function(s){qq.each(e.PREVIEWABLE_MIME_TYPES,function(e,t){if(i=s,n=!1,t=[].concat(t=t),qq.each(t,function(e,t){if(0===i.indexOf(t))return!(n=!0)}),n)return"image/tiff"===e&&!qq.supportedFeatures.tiffPreviews||(a=!0,o.success(e)),!1;var i,n}),r(qq.format("'{}' is {} able to be rendered in this browser",t,a?"":"NOT")),a||o.failure()},function(){r("Error reading file w/ name '"+t+"'.  Not able to be rendered in this browser."),o.failure()})):o.failure(),o},isPreviewableSync:function(){var e=s.type,t=0<=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),e),i=!1,n=void 0===s.name?"blob":s.name;return(i=t?"image/tiff"!==e||qq.supportedFeatures.tiffPreviews:i)||r(n+" is not previewable in this browser per the blob's type attr"),i}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(o,a){"use strict";this.validate=function(t){var i,n,s=new qq.Promise;return a("Attempting to validate image."),n=!1,qq.each(t,function(e,t){if(0<t)return!(n=!0)}),n?(i=new qq.Promise,new qq.Identify(o,a).isPreviewable().then(function(){var e=new Image,t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;t?(e.onerror=function(){a("Cannot determine dimensions for image.  May be too large.","error"),i.failure()},e.onload=function(){i.success({width:this.width,height:this.height})},e.src=t.createObjectURL(o)):(a("No createObjectURL function available to generate image URL!","error"),i.failure())},i.failure),i.then(function(e){var o,a,e=(o=e,qq.each(t,function(e,t){if(0<t){var i=/(max|min)(Width|Height)/.exec(e),n=i[2].charAt(0).toLowerCase()+i[2].slice(1),s=o[n];switch(i[1]){case"min":if(s<t)return a=e,!1;break;case"max":if(t<s)return a=e,!1}}}),a);e?s.failure(e):s.success()},s.success)):s.success(),s}},qq.Session=function(e){"use strict";function s(e,t,i,n){var s=!1;(t=t&&function(e){if(qq.isArray(e))return!0;o.log("Session response is not an array.","error")}(e))&&qq.each(e,function(e,t){if(null==t.uuid)s=!0,o.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)s=!0,o.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return o.addFileRecord(t),!0}catch(e){s=!0,o.log(e.message,"error")}return!1}),n[t&&!s?"success":"failure"](e,i)}var o={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};qq.extend(o,e,!0),this.refresh=function(){var n=new qq.Promise,e=qq.extend({},o);return new qq.SessionAjaxRequester(qq.extend(e,{onComplete:function(e,t,i){s(e,t,i,n)}})).queryServer(),n}},qq.SessionAjaxRequester=function(e){"use strict";var t,s={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,i){},log:function(e,t){}};qq.extend(s,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return s.endpoint}},customHeaders:s.customHeaders,log:s.log,onComplete:function(e,t,i){var n=null;if(null!=t.responseText)try{n=qq.parseJson(t.responseText)}catch(e){s.log("Problem parsing session response: "+e.message,"error"),i=!0}s.onComplete(n,!i,t)},cors:s.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},s.params);s.log("Session query request."),t.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,r){"use strict";var l=e.customResizer,i=e.sendOriginal,u=e.orient,c=e.defaultType,d=e.defaultQuality/100,h=e.failureText,p=e.includeExif,f=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&0<f.length,getFileRecords:function(e,n,t){var s=this,o=[],a=t.blob||t;return new qq.Identify(a,r).isPreviewableSync()?(qq.each(f,function(e,t){var i=s._determineOutputType({defaultType:c,requestedType:t.type,refType:a.type});o.push({uuid:qq.getUniqueId(),name:s._getName(n,{name:t.name,type:i,refType:a.type}),blob:new qq.BlobProxy(a,qq.bind(s._generateScaledImage,s,{customResizeFunction:l,maxSize:t.maxSize,orient:u,type:i,quality:d,failedText:h,includeExif:p,log:r}))})}),o.push({uuid:e,name:n,size:a.size,blob:i?a:null})):o.push({uuid:e,name:n,size:a.size,blob:a}),o},handleNewFile:function(e,t,i,n,s,o,a,r){var l=(e.qqButtonId||e.blob&&e.blob.qqButtonId,[]),u=null,c=r.addFileToHandler,d=r.uploadData,h=r.paramsStore,p=qq.getUniqueId();qq.each(this.getFileRecords(i,t,e),function(e,t){var i=t.size;t.blob instanceof qq.BlobProxy&&(i=-1),i=d.addFile({uuid:t.uuid,name:t.name,size:i,batchId:o,proxyGroupId:p}),t.blob instanceof qq.BlobProxy?l.push(i):u=i,t.blob?(c(i,t.blob),s.push({id:i,file:t.blob})):d.setStatus(i,qq.status.REJECTED)}),null!==u&&(qq.each(l,function(e,t){var i={qqparentuuid:d.retrieve({id:u}).uuid,qqparentsize:d.retrieve({id:u}).size};i[a]=d.retrieve({id:t}).uuid,d.setParentId(t,u),h.addReadOnly(t,i)}),l.length&&((e={})[a]=d.retrieve({id:u}).uuid,h.addReadOnly(u,e)))}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(t,e,i){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var n=new qq.Promise,s=i.log,o=i.getFile(t),i=i.uploadData.retrieve({id:t}),a=i&&i.name,r=i&&i.uuid,e={customResizer:e.customResizer,sendOriginal:!1,orient:e.orient,defaultType:e.type||null,defaultQuality:e.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:e.maxSize}]},l=new qq.Scaler(e,s);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var e=l.getFileRecords(r,a,o)[0];e&&e.blob instanceof qq.BlobProxy?e.blob.create().then(n.success,n.failure):(s(t+" is not a scalable image!","error"),n.failure())},this)():(n.failure(),s("Could not generate requested scaled image for "+t+".  Scaling is either not possible in this browser, or the file could not be located.","error")),n},_determineOutputType:function(e){"use strict";var t=e.requestedType,i=e.defaultType,e=e.refType;return i||t?t&&0<=qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)&&("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)?t:i:"image/jpeg"!==e?"image/png":e},_getName:function(e,t){"use strict";var i=e.lastIndexOf("."),n=t.type||"image/png",s=t.refType,o="",a=qq.getExtension(e),r="";return t.name&&t.name.trim().length&&(r=" ("+t.name+")"),0<=i?(o=e.substr(0,i),o+=r+"."+(a=s!==n?n.split("/")[1]:a)):o=e+r,o},_getSortedSizes:function(e){"use strict";return(e=qq.extend([],e)).sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,n){"use strict";var s=this,t=e.customResizeFunction,o=e.log,i=e.maxSize,a=e.orient,r=e.type,l=e.quality,u=e.failedText,c=e.includeExif&&"image/jpeg"===n.type&&"image/jpeg"===r,d=new qq.Promise,e=new qq.ImageGenerator(o),h=document.createElement("canvas");return o("Attempting to generate scaled version for "+n.name),e.generate(n,h,{maxSize:i,orient:a,customResizeFunction:t}).then(function(){function t(){o("Success generating scaled version for "+n.name);var e=qq.dataUriToBlob(i);d.success(e)}var i=h.toDataURL(r,l);c?s._insertExifHeader(n,i,o).then(function(e){i=e,t()},function(){o("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),t()}):t()},function(){o("Failed attempt to generate scaled version for "+n.name,"error"),d.failure(u)}),d},_insertExifHeader:function(e,t,i){"use strict";var n,s=new FileReader,o=new qq.Promise;return s.onload=function(){n=s.result,o.success(qq.ExifRestorer.restore(n,t))},s.onerror=function(){i("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),o.failure()},s.readAsDataURL(e),o},_dataUriToBlob:function(e){"use strict";var t=(0<=e.split(",")[0].indexOf("base64")?atob:decodeURI)(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),n=new Uint8Array(e);return qq.each(t,function(e,t){n[e]=t.charCodeAt(0)}),this._createBlob(e,i)},_createBlob:function(e,t){"use strict";var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=i&&new i;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=(uWb={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){for(var t,i,n,s,o,a="",r="",l="",u=0;n=(t=e[u++])>>2,s=(3&t)<<4|(i=e[u++])>>4,o=(15&i)<<2|(r=e[u++])>>6,l=63&r,isNaN(i)?o=l=64:isNaN(r)&&(l=64),a=a+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),o=l=r="",u<e.length;);return a},restore:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;e=this.decode64(e.replace("data:image/jpeg;base64,","")),e=this.slice2Segments(e),e=this.exifManipulation(t,e);return"data:image/jpeg;base64,"+this.encode64(e)},exifManipulation:function(e,t){t=this.getExifArray(t),t=this.insertExif(e,t);return new Uint8Array(t)},getExifArray:function(e){for(var t,i=0;i<e.length;i++)if(255==(t=e[i])[0]&225==t[1])return t;return[]},insertExif:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),e=n.indexOf(255,3),i=n.slice(0,e),e=n.slice(e);return i.concat(t).concat(e)},slice2Segments:function(e){for(var t,i,n=0,s=[];!(255==e[n]&218==e[n+1]);)if(255==e[n]&216==e[n+1]?n+=2:(t=n+(256*e[n+2]+e[n+3])+2,i=e.slice(n,t),s.push(i),n=t),n>e.length)break;return s},decode64:function(e){var t,i,n,s,o,a="",r=0,l=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");i=this.KEY_STR.indexOf(e.charAt(r++)),t=(15&(n=this.KEY_STR.indexOf(e.charAt(r++))))<<4|(s=this.KEY_STR.indexOf(e.charAt(r++)))>>2,a=(3&s)<<6|(o=this.KEY_STR.indexOf(e.charAt(r++))),l.push(i<<2|n>>4),64!=s&&l.push(t),64!=o&&l.push(a),t=a="",r<e.length;);return l}},uWb),qq.TotalProgress=function(i,n){"use strict";function s(e){var t=n(e);0<t&&(o(e,0,t),a[e]={loaded:0,total:t})}function o(e,t,i){var n=a[e]?a[e].loaded:0,e=a[e]?a[e].total:0;-1===t&&-1===i?(r-=n,l-=e):(t&&(r+=t-n),i&&(l+=i-e)),d(r,l)}var a={},r=0,l=0,u=-1,c=-1,d=function(e,t){e===u&&t===c||i(e,t),u=e,c=t};qq.extend(this,{onAllComplete:function(e,t,i){var n,s;0!==t.length&&(n=i,s=!0,qq.each(t,function(e,t){if(0<=qq.indexOf(n,t))return s=!1}),!s)||(d(l,l),this.reset())},onStatusChange:function(e,t,i){var n;i===qq.status.CANCELED||i===qq.status.REJECTED?(o(n=e,-1,-1),delete a[n]):i===qq.status.SUBMITTING&&s(e)},onIndividualProgress:function(e,t,i){o(e,t,i),a[e]={loaded:t,total:i}},onNewSize:function(e){s(e)},reset:function(){a={},l=r=0}})},qq.PasteSupport=function(e){"use strict";var t,n={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}};qq.extend(n,e),t=qq(n.targetElement).attach("paste",function(e){e=e.clipboardData;e&&qq.each(e.items,function(e,t){var i;(i=t).type&&0===i.type.indexOf("image/")&&(t=t.getAsFile(),n.callbacks.pasteReceived(t))})}),qq.extend(this,{reset:function(){t&&t()}})},qq.FormSupport=function(e,t,i){"use strict";function n(e,t){if(!e.checkValidity||e.checkValidity())return 1;i("Form did not pass validation checks - will not upload.","error"),t()}var s,o,a,r,l=this,u=e.interceptSubmit,c=e.element,e=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:e,attachedToForm:!1,getFormInputsAsObject:function(){return null==c?null:l._form2Obj(c)}}),!(s=c)||(s=qq.isString(s)?document.getElementById(s):s)&&(i("Attaching to form element."),(r=s).getAttribute("action")&&(l.newEndpoint=r.getAttribute("action")),u&&(a=(o=s).submit,qq(o).attach("submit",function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,n(o,a)&&t()}),o.submit=function(){n(o,a)&&t()})),c=s,this.attachedToForm=!!c},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";function s(e){return t=e.type,!(!(0<=qq.indexOf(["checkbox","radio"],t.toLowerCase()))||e.checked)||e.disabled&&"hidden"!==e.type.toLowerCase();var t}var o={};return qq.each(e.elements,function(e,t){var i,n;(qq.isInput(t,!0)||"textarea"===t.tagName.toLowerCase())&&(n=t.type,qq.indexOf(["button","image","reset","submit"],n.toLowerCase())<0)&&!s(t)?o[t.name]=t.value:"select"!==t.tagName.toLowerCase()||s(t)||(i=null,qq.each(qq(t).children(),function(e,t){if("option"===t.tagName.toLowerCase()&&t.selected)return i=t.value,!1}),null!==(n=i)&&(o[t.name]=n))}),o}}),qq.CryptoJS=(VYb=Math,XYb={},YYb=XYb.lib={},ZYb=YYb.Base={extend:function(e){fZb.prototype=this;var t=new fZb;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},$Yb=YYb.WordArray=ZYb.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||aZb).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,s=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<s;o++){var a=i[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else if(65535<i.length)for(o=0;o<s;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=s,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=VYb.ceil(t/4)},clone:function(){var e=ZYb.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(4294967296*VYb.random()|0);return new $Yb.init(t,e)}}),_Yb=XYb.enc={},aZb=_Yb.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var o=t[s>>>2]>>>24-s%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new $Yb.init(i,t/2)}},bZb=_Yb.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var o=t[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new $Yb.init(i,t)}},cZb=_Yb.Utf8={stringify:function(e){try{return decodeURIComponent(escape(bZb.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return bZb.parse(unescape(encodeURIComponent(e)))}},dZb=YYb.BufferedBlockAlgorithm=ZYb.extend({reset:function(){this._data=new $Yb.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=cZb.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,i=t.words,n=t.sigBytes,s=this.blockSize,o=n/(4*s),a=(o=e?VYb.ceil(o):VYb.max((0|o)-this._minBufferSize,0))*s,n=VYb.min(4*a,n);if(a){for(var r=0;r<a;r+=s)this._doProcessBlock(i,r);var l=i.splice(0,a);t.sigBytes-=n}return new $Yb.init(l,n)},clone:function(){var e=ZYb.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),YYb.Hasher=dZb.extend({cfg:ZYb.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){dZb.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(e,t){return new i.init(t).finalize(e)}},_createHmacHelper:function(i){return function(e,t){return new eZb.HMAC.init(i,t).finalize(e)}}}),eZb=XYb.algo={},XYb),r$b=qq.CryptoJS,t$b=r$b.lib.WordArray,r$b.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var s=[],o=0;o<i;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,r=0;r<4&&o+.75*r<i;r++)s.push(n.charAt(a>>>6*(3-r)&63));var l=n.charAt(64);if(l)for(;s.length%4;)s.push(l);return s.join("")},parse:function(e){var t=e.length,i=this._map,n=i.charAt(64);!n||-1!=(n=e.indexOf(n))&&(t=n);for(var s,o,a=[],r=0,l=0;l<t;l++)l%4&&(s=i.indexOf(e.charAt(l-1))<<l%4*2,o=i.indexOf(e.charAt(l))>>>6-l%4*2,a[r>>>2]|=(s|o)<<24-r%4*8,r++);return t$b.create(a,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},R$b=qq.CryptoJS,T$b=R$b.lib.Base,V$b=R$b.enc.Utf8,R$b.algo.HMAC=T$b.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=V$b.parse(t));var i=e.blockSize,n=4*i;(t=t.sigBytes>n?e.finalize(t):t).clamp();for(var e=this._oKey=t.clone(),t=this._iKey=t.clone(),s=e.words,o=t.words,a=0;a<i;a++)s[a]^=1549556828,o[a]^=909522486;e.sigBytes=t.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}}),j_b=qq.CryptoJS,p_b=j_b.lib,l_b=p_b.WordArray,m_b=p_b.Hasher,p_b=j_b.algo,o_b=[],p_b=p_b.SHA1=m_b.extend({_doReset:function(){this._hash=new l_b.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],s=i[1],o=i[2],a=i[3],r=i[4],l=0;l<80;l++){l<16?o_b[l]=0|e[t+l]:(u=o_b[l-3]^o_b[l-8]^o_b[l-14]^o_b[l-16],o_b[l]=u<<1|u>>>31);var u=(n<<5|n>>>27)+r+o_b[l];u+=l<20?1518500249+(s&o|~s&a):l<40?1859775393+(s^o^a):l<60?(s&o|s&a|o&a)-1894007588:(s^o^a)-899497514,r=a,a=o,o=s<<30|s>>>2,s=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+r|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=Math.floor(i/4294967296),t[15+(64+n>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=m_b.clone.call(this);return e._hash=this._hash.clone(),e}}),j_b.SHA1=m_b._createHelper(p_b),j_b.HmacSHA1=m_b._createHmacHelper(p_b),function(s){var e=qq.CryptoJS,t=e.lib,i=t.WordArray,n=t.Hasher,t=e.algo,o=[],f=[];!function(){function e(e){return 4294967296*(e-(0|e))|0}for(var t=2,i=0;i<64;)!function(e){for(var t=s.sqrt(e),i=2;i<=t;i++)if(!(e%i))return;return 1}(t)||(i<8&&(o[i]=e(s.pow(t,.5))),f[i]=e(s.pow(t,1/3)),i++),t++}();var m=[],t=t.SHA256=n.extend({_doReset:function(){this._hash=new i.init(o.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],s=i[1],o=i[2],a=i[3],r=i[4],l=i[5],u=i[6],c=i[7],d=0;d<64;d++){d<16?m[d]=0|e[t+d]:(h=m[d-15],p=m[d-2],m[d]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+m[d-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+m[d-16]);var h=n&s^n&o^s&o,p=c+((r<<26|r>>>6)^(r<<21|r>>>11)^(r<<7|r>>>25))+(r&l^~r&u)+f[d]+m[d],c=u,u=l,l=r,r=a+p|0,a=o,o=s,s=n,n=p+(((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+h)|0}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+r|0,i[5]=i[5]+l|0,i[6]=i[6]+u|0,i[7]=i[7]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=s.floor(i/4294967296),t[15+(64+n>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=n._createHelper(t),e.HmacSHA256=n._createHmacHelper(t)}(Math),"function"==typeof ArrayBuffer&&(za1=qq.CryptoJS.lib.WordArray,Aa1=za1.init,(za1.init=function(e){if((e=(e=e instanceof ArrayBuffer?new Uint8Array(e):e)instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e)instanceof Uint8Array){for(var t=e.byteLength,i=[],n=0;n<t;n++)i[n>>>2]|=e[n]<<24-n%4*8;Aa1.call(this,i,t)}else Aa1.apply(this,arguments)}).prototype=za1),qq.s3=qq.s3||{},qq.s3.util=qq.s3.util||function(){"use strict";return{ALGORITHM_PARAM_NAME:"x-amz-algorithm",AWS_PARAM_PREFIX:"x-amz-meta-",CREDENTIAL_PARAM_NAME:"x-amz-credential",DATE_PARAM_NAME:"x-amz-date",REDUCED_REDUNDANCY_PARAM_NAME:"x-amz-storage-class",REDUCED_REDUNDANCY_PARAM_VALUE:"REDUCED_REDUNDANCY",SERVER_SIDE_ENCRYPTION_PARAM_NAME:"x-amz-server-side-encryption",SERVER_SIDE_ENCRYPTION_PARAM_VALUE:"AES256",SESSION_TOKEN_PARAM_NAME:"x-amz-security-token",V4_ALGORITHM_PARAM_VALUE:"AWS4-HMAC-SHA256",V4_SIGNATURE_PARAM_NAME:"x-amz-signature",CASE_SENSITIVE_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNSIGNABLE_REST_HEADER_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNPREFIXED_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5","x-amz-server-side-encryption","x-amz-server-side-encryption-aws-kms-key-id","x-amz-server-side-encryption-customer-algorithm","x-amz-server-side-encryption-customer-key","x-amz-server-side-encryption-customer-key-MD5"],getBucket:function(i){var n;return qq.each([/^(?:https?:\/\/)?([a-z0-9.\-_]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-_]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-_]+)/i],function(e,t){t=t.exec(i);if(t)return n=t[1],!1}),n},_getPrefixedParamName:function(e){return 0<=qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)?e:qq.s3.util.AWS_PARAM_PREFIX+e},getPolicy:function(e){var t={},n=[],i=e.bucket,s=e.date,o=e.clockDrift,a=e.key,r=e.accessKey,l=e.acl,u=e.type,c=e.expectedStatus,d=e.sessionToken,h=e.params,p=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),f=e.minFileSize,m=e.maxFileSize,g=e.reducedRedundancy,_=e.region,v=e.serverSideEncryption,e=e.signatureVersion;return t.expiration=qq.s3.util.getPolicyExpirationDate(s,o),n.push({acl:l}),n.push({bucket:i}),u&&n.push({"Content-Type":u}),c&&n.push({success_action_status:c.toString()}),p&&n.push({success_action_redirect:p}),g&&(n.push({}),n[n.length-1][qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),d&&(n.push({}),n[n.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=d),v&&(n.push({}),n[n.length-1][qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),2===e?n.push({key:a}):4===e&&(n.push({}),n[n.length-1][qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,n.push({}),n[n.length-1].key=a,n.push({}),n[n.length-1][qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:s,key:r,region:_}),n.push({}),n[n.length-1][qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(s,o)),qq.each(h,function(e,t){var i=qq.s3.util._getPrefixedParamName(e),e={};0<=qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,i)?e[i]=t:e[i]=encodeURIComponent(t),n.push(e)}),t.conditions=n,qq.s3.util.enforceSizeLimits(t,f,m),t},refreshPolicyCredentials:function(e,n){var s=!1;qq.each(e.conditions,function(e,i){qq.each(i,function(e,t){e===qq.s3.util.SESSION_TOKEN_PARAM_NAME&&(i[e]=n,s=!0)})}),s||(e.conditions.push({}),e.conditions[e.conditions.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=n)},generateAwsParams:function(n,e){var t,s={},i=n.params,o=new qq.Promise,a=n.sessionToken,r=n.clockDrift,l=n.type,u=n.key,c=n.accessKey,d=n.acl,h=n.expectedStatus,p=qq.s3.util.getSuccessRedirectAbsoluteUrl(n.successRedirectUrl),f=n.reducedRedundancy,m=n.region,g=n.serverSideEncryption,_=n.signatureVersion,v=new Date,b=n.log;return n.date=v,t=qq.s3.util.getPolicy(n),s.key=u,l&&(s["Content-Type"]=l),h&&(s.success_action_status=h),p&&(s.success_action_redirect=p),f&&(s[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),g&&(s[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),a&&(s[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=a),s.acl=d,qq.each(i,function(e,t){e=qq.s3.util._getPrefixedParamName(e);0<=qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)?s[e]=t:s[e]=encodeURIComponent(t)}),2===_?s.AWSAccessKeyId=c:4===_&&(s[qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,s[qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:v,key:c,region:m}),s[qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(v,r)),e(t).then(function(e,t,i){s.policy=e.policy,2===n.signatureVersion?(s.signature=e.signature,t&&(s.AWSAccessKeyId=t)):4===n.signatureVersion&&(s[qq.s3.util.V4_SIGNATURE_PARAM_NAME]=e.signature),i&&(s[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=i),o.success(s)},function(e){b("Policy signing failed.  "+(e=e||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server."),"error"),o.failure(e)}),o},enforceSizeLimits:function(e,t,i){var n=t<0?0:t,s=i<=0?9007199254740992:i;(0<t||0<i)&&e.conditions.push(["content-length-range",n.toString(),s.toString()])},getPolicyExpirationDate:function(e,t){t=new Date(e.getTime()+t);return qq.s3.util.getPolicyDate(t,75)},getCredentialsDate:function(e){return e.getUTCFullYear()+""+("0"+(e.getUTCMonth()+1)).slice(-2)+("0"+e.getUTCDate()).slice(-2)},getPolicyDate:function(e,t){var i,t=t||0;return e.setMinutes(e.getMinutes()+(t||0)),Date.prototype.toISOString?e.toISOString():(t=function(e){return i=1===(i=String(e)).length?"0"+i:i},e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z")},parseIframeResponse:function(e){e=(e.contentDocument||e.contentWindow.document).location.search,e=/bucket=(.+)&key=(.+)&etag=(.+)/.exec(e);if(e)return{bucket:e[1],key:e[2],etag:e[3].replace(/%22/g,"")}},getSuccessRedirectAbsoluteUrl:function(e){if(e){var t,i=document.createElement("div");return qq.ie7()?(i.innerHTML="<a href='"+e+"'></a>",t=i.firstChild):((t=document.createElement("a")).href=e,t.href=t.href),t.href}},getV4CredentialsString:function(e){return e.key+"/"+qq.s3.util.getCredentialsDate(e.date)+"/"+e.region+"/s3/aws4_request"},getV4PolicyDate:function(e,t){t=new Date(e.getTime()+t);return qq.s3.util.getCredentialsDate(t)+"T"+("0"+t.getUTCHours()).slice(-2)+("0"+t.getUTCMinutes()).slice(-2)+("0"+t.getUTCSeconds()).slice(-2)+"Z"},encodeQueryStringParam:function(e){e=encodeURIComponent(e);return(e=(e=e.replace(/[!'()]/g,escape)).replace(/\*/g,"%2A")).replace(/%20/g,"+")},uriEscape:function(e){e=encodeURIComponent(e);return(e=e.replace(/[^A-Za-z0-9_.~\-%]+/g,escape)).replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(e){var i=[];return qq.each(e.split("/"),function(e,t){i.push(qq.s3.util.uriEscape(t))}),i.join("/")}}}(),function(){"use strict";qq.nonTraditionalBasePublicApi={setUploadSuccessParams:function(e,t){this._uploadSuccessParamsStore.set(e,t)},setUploadSuccessEndpoint:function(e,t){this._uploadSuccessEndpointStore.set(e,t)}},qq.nonTraditionalBasePrivateApi={_onComplete:function(i,n,s,o){function e(e){delete u._failedSuccessRequestCallbacks[i],qq.extend(s,e),qq.FineUploaderBasic.prototype._onComplete.apply(u,c),m.success(e)}function t(e){var t=a;qq.extend(s,e),(t=s&&s.reset?null:t)?u._failedSuccessRequestCallbacks[i]=t:delete u._failedSuccessRequestCallbacks[i],u._onAutoRetry(i,n,s,o,t)||(qq.FineUploaderBasic.prototype._onComplete.apply(u,c),m.failure(e))}var a,r,l=!!s.success,u=this,c=arguments,d=this._uploadSuccessEndpointStore.get(i),h=this._options.uploadSuccess.customHeaders,p=this._options.uploadSuccess.method,f=this._options.cors,m=new qq.Promise,g=this._uploadSuccessParamsStore.get(i),_=this._paramsStore.get(i);return l&&d?(r=new qq.UploadSuccessAjaxRequester({endpoint:d,method:p,customHeaders:h,cors:f,log:qq.bind(this.log,this)}),qq.extend(g,u._getEndpointSpecificParams(i,s,o),!0),_&&qq.extend(g,_,!0),(a=qq.bind(function(){r.sendSuccessRequest(i,g).then(e,t)},u))(),m):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(e){var t=this._failedSuccessRequestCallbacks[e];return qq.FineUploaderBasic.prototype._manualRetry.call(this,e,t)}}}(),function(){"use strict";qq.s3.FineUploaderBasic=function(e){var t={request:{accessKey:null,clockDrift:0},objectProperties:{acl:"private",bucket:qq.bind(function(e){return qq.s3.util.getBucket(this.getEndpoint(e))},this),host:qq.bind(function(e){return/(?:http|https):\/\/(.+)(?:\/.+)?/.exec(this._endpointStore.get(e))[1]},this),key:"uuid",reducedRedundancy:!1,region:"us-east-1",serverSideEncryption:!1},credentials:{accessKey:null,secretKey:null,expiration:null,sessionToken:null},signature:{customHeaders:{},endpoint:null,version:2},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},cors:{allowXdr:!0},callbacks:{onCredentialsExpired:function(){}}};qq.extend(t,e,!0),this.setCredentials(t.credentials,!0)||(this._currentCredentials.accessKey=t.request.accessKey),this._aclStore=this._createStore(t.objectProperties.acl),qq.FineUploaderBasic.call(this,t),this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params),this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint),this._failedSuccessRequestCallbacks={},this._cannedKeys={},this._cannedBuckets={},this._buckets={},this._hosts={}},qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,{getBucket:function(e){return(null==this._cannedBuckets[e]?this._buckets:this._cannedBuckets)[e]},getKey:function(e){return null==this._cannedKeys[e]?this._handler.getThirdPartyFileId(e):this._cannedKeys[e]},reset:function(){qq.FineUploaderBasic.prototype.reset.call(this),this._failedSuccessRequestCallbacks=[],this._buckets={},this._hosts={}},setCredentials:function(e,t){if(e&&e.secretKey){if(!e.accessKey)throw new qq.Error("Invalid credentials: no accessKey");if(!e.expiration)throw new qq.Error("Invalid credentials: no expiration");return this._currentCredentials=qq.extend({},e),qq.isString(e.expiration)&&(this._currentCredentials.expiration=new Date(e.expiration)),!0}if(!t)throw new qq.Error("Invalid credentials parameter!");this._currentCredentials={}},setAcl:function(e,t){this._aclStore.set(e,t)},_createUploadHandler:function(){var i=this,e={aclStore:this._aclStore,getBucket:qq.bind(this._determineBucket,this),getHost:qq.bind(this._determineHost,this),getKeyName:qq.bind(this._determineKeyName,this),iframeSupport:this._options.iframeSupport,objectProperties:this._options.objectProperties,signature:this._options.signature,clockDrift:this._options.request.clockDrift,validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};return qq.override(this._endpointStore,function(t){return{get:function(e){e=t.get(e);return e.indexOf("http")<0?"http://"+e:e}}}),qq.override(this._paramsStore,function(t){return{get:function(e){var e=t.get(e),i={};return qq.each(e,function(e,t){qq.indexOf(qq.s3.util.CASE_SENSITIVE_PARAM_NAMES,e)<0&&(e=e.toLowerCase()),i[e]=qq.isFunction(t)?t():t}),i}}}),e.signature.credentialsProvider={get:function(){return i._currentCredentials},onExpired:function(){var t=new qq.Promise,e=i._options.callbacks.onCredentialsExpired();return qq.isGenericPromise(e)?e.then(function(e){try{i.setCredentials(e),t.success()}catch(e){i.log("Invalid credentials returned from onCredentialsExpired callback! ("+e.message+")","error"),t.failure("onCredentialsExpired did not return valid credentials.")}},function(e){i.log("onCredentialsExpired callback indicated failure! ("+e+")","error"),t.failure("onCredentialsExpired callback failed.")}):(i.log("onCredentialsExpired callback did not return a promise!","error"),t.failure("Unexpected return value for onCredentialsExpired.")),t}},qq.FineUploaderBasic.prototype._createUploadHandler.call(this,e,"s3")},_determineObjectPropertyValue:function(t,i){var e=this._options.objectProperties[i],n=new qq.Promise,s=this;return qq.isFunction(e)?(e=e(t),qq.isGenericPromise(e)?n=e:n.success(e)):qq.isString(e)&&n.success(e),n.then(function(e){s["_"+i+"s"][t]=e},function(e){qq.log("Problem determining "+i+" for ID "+t+" ("+e+")","error")}),n},_determineBucket:function(e){return this._determineObjectPropertyValue(e,"bucket")},_determineHost:function(e){return this._determineObjectPropertyValue(e,"host")},_determineKeyName:function(e,t){function i(e,t){void 0!==t&&(e+="."+t),n.success(e)}var n=new qq.Promise,s=this._options.objectProperties.key,o=qq.getExtension(t),a=n.failure;switch(s){case"uuid":i(this.getUuid(e),o);break;case"filename":i(t);break;default:qq.isFunction(s)?this._handleKeynameFunction(s,e,i,a):(this.log(s+" is not a valid value for the s3.keyname option!","error"),a())}return n},_handleKeynameFunction:function(e,t,i,n){function s(e){i(e)}function o(e){a.log(qq.format("Failed to retrieve key name for {}.  Reason: {}",t,e||"null"),"error"),n(e)}var a=this,e=e.call(this,t);qq.isGenericPromise(e)?e.then(s,o):null==e?o():s(e)},_getEndpointSpecificParams:function(e,t,i){e={key:this.getKey(e),uuid:this.getUuid(e),name:this.getName(e),bucket:this.getBucket(e)};return i&&i.getResponseHeader("ETag")?e.etag=i.getResponseHeader("ETag"):t.etag&&(e.etag=t.etag),e},_onSubmitDelete:function(e,t){var i={key:this.getKey(e),bucket:this.getBucket(e)};return qq.FineUploaderBasic.prototype._onSubmitDelete.call(this,e,t,i)},_addCannedFile:function(e){var t;if(null==e.s3Key)throw new qq.Error("Did not find s3Key property in server session response.  This is required!");return t=qq.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments),this._cannedKeys[t]=e.s3Key,this._cannedBuckets[t]=e.s3Bucket,t}})}(),window.Uint8ClampedArray||(window.Uint8ClampedArray=function(){}),qq.s3.RequestSigner=function(e){"use strict";function f(e,t,i){function n(i){var n,s=[];return qq.each(i.headers,function(e){u.push(e)}),u.sort(),qq.each(u,function(e,t){qq.indexOf(qq.s3.util.UNSIGNABLE_REST_HEADER_NAMES,t)<0?c+=t.toLowerCase()+":"+i.headers[t].trim()+"\n":"Content-MD5"===t?n=i.headers[t]:s.unshift(e)}),qq.each(s,function(e,t){u.splice(t,1)}),a={bucket:i.bucket,contentMd5:n,contentType:i.contentType,date:d,drift:g.signatureSpec.drift,endOfUrl:o,hashedContent:i.hashedContent,headerNames:u,headersStr:c,method:l},r=(2===t?p:_).getStringToSign(a),{date:d,endOfUrl:o,signedHeaders:4===t?_.getSignedHeaders(a.headerNames):null,toSign:4===t?r.hashed:r,toSignRaw:4===t?r.raw:r}}var o,a,r,s=new qq.Promise,l="POST",u=[],c="",d=new Date;switch(i.type){case h.REQUEST_TYPE.MULTIPART_ABORT:l="DELETE",o=qq.format("uploadId={}",i.uploadId);break;case h.REQUEST_TYPE.MULTIPART_INITIATE:o="uploads";break;case h.REQUEST_TYPE.MULTIPART_COMPLETE:o=qq.format("uploadId={}",i.uploadId);break;case h.REQUEST_TYPE.MULTIPART_UPLOAD:l="PUT",o=qq.format("partNumber={}&uploadId={}",i.partNum,i.uploadId)}return o=i.key+"?"+o,4===t?_.getEncodedHashedPayload(i.content).then(function(e){i.headers["x-amz-content-sha256"]=e,i.headers.Host=i.host,i.headers["x-amz-date"]=qq.s3.util.getV4PolicyDate(d,g.signatureSpec.drift),i.hashedContent=e,s.success(n(i))},function(e){s.failure(e)}):s.success(n(i)),s}function a(e,n,s,t,i){var o;n.signatureConstructor?(i&&((o=n.signatureConstructor.getHeaders())[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=i,n.signatureConstructor.withHeaders(o)),n.signatureConstructor.getToSign(e).then(function(e){var t,i;t=n.signatureConstructor,i=e.stringToSign,e=s,(4===g.signatureSpec.version?_:p).signApiRequest(t,i,e)},function(e){s.failure(e)})):(i&&qq.s3.util.refreshPolicyCredentials(n,i),o=n,e=s,t=t,i=i,(4===g.signatureSpec.version?_:p).signPolicy(o,e,t,i))}var r,m,h=this,l={},g={expectingPolicy:!1,method:"POST",signatureSpec:{drift:0,credentialsProvider:{},endpoint:null,customHeaders:{},version:2},maxConnections:3,endpointStore:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){}},u=function(e,t,i){var n=e.getHeaders();4===g.signatureSpec.version?n.Authorization=qq.s3.util.V4_ALGORITHM_PARAM_VALUE+" Credential="+g.signatureSpec.credentialsProvider.get().accessKey+"/"+qq.s3.util.getCredentialsDate(e.getRequestDate())+"/"+g.signatureSpec.region+"/s3/aws4_request,SignedHeaders="+e.getSignedHeaders()+",Signature="+t:n.Authorization="AWS "+g.signatureSpec.credentialsProvider.get().accessKey+":"+t,i.success(n,e.getEndOfUrl())},p={getStringToSign:function(e){return qq.format("{}\n{}\n{}\n\n{}/{}/{}",e.method,e.contentMd5||"",e.contentType||"",e.headersStr||"\n",e.bucket,e.endOfUrl)},signApiRequest:function(e,t,i){t=qq.CryptoJS.enc.Utf8.parse(t),t=qq.CryptoJS.HmacSHA1(t,m.get().secretKey);u(e,qq.CryptoJS.enc.Base64.stringify(t),i)},signPolicy:function(e,t,i,n){var s=JSON.stringify(e),e=qq.CryptoJS.enc.Utf8.parse(s),s=qq.CryptoJS.enc.Base64.stringify(e),e=qq.CryptoJS.HmacSHA1(s,m.get().secretKey),e=qq.CryptoJS.enc.Base64.stringify(e);t.success({policy:s,signature:e},i,n)}},_={getCanonicalQueryString:function(e){var n,i,t=e.indexOf("?"),s="";return 0<=t&&(n={},t=e.substr(t+1).split("&"),qq.each(t,function(e,t){var i=t.split("="),t=i[1];null==t&&(t=""),n[encodeURIComponent(i[0])]=encodeURIComponent(t)}),(i=Object.keys(n).sort()).forEach(function(e,t){s+=e+"="+n[e],t<i.length-1&&(s+="&")})),s},getCanonicalRequest:function(e){return qq.format("{}\n{}\n{}\n{}\n{}\n{}",e.method,_.getCanonicalUri(e.endOfUrl),_.getCanonicalQueryString(e.endOfUrl),e.headersStr||"\n",_.getSignedHeaders(e.headerNames),e.hashedContent)},getCanonicalUri:function(e){var t=e,i=e.indexOf("?");return"/"+(t=0<i?e.substr(0,i):t)},getEncodedHashedPayload:function(e){var t,i=new qq.Promise;return qq.isBlob(e)?((t=new FileReader).onloadend=function(e){e.target.readyState===FileReader.DONE&&(e.target.error?i.failure(e.target.error):(e=qq.CryptoJS.lib.WordArray.create(e.target.result),i.success(qq.CryptoJS.SHA256(e).toString())))},t.readAsArrayBuffer(e)):i.success(qq.CryptoJS.SHA256(e=e||"").toString()),i},getScope:function(e,t){return qq.s3.util.getCredentialsDate(e)+"/"+t+"/s3/aws4_request"},getStringToSign:function(e){var t=_.getCanonicalRequest(e),i=qq.s3.util.getV4PolicyDate(e.date,e.drift),n=qq.CryptoJS.SHA256(t).toString(),e=_.getScope(e.date,g.signatureSpec.region);return{hashed:qq.format("AWS4-HMAC-SHA256\n{}\n{}\n{}",i,e,n),raw:qq.format("AWS4-HMAC-SHA256\n{}\n{}\n{}",i,e,t)}},getSignedHeaders:function(i){var n="";return i.forEach(function(e,t){n+=e.toLowerCase(),t<i.length-1&&(n+=";")}),n},signApiRequest:function(e,t,i){var n=m.get().secretKey,s=/.+\n.+\n(\d+)\/(.+)\/s3\/.+\n(.+)/.exec(t),n=qq.CryptoJS.HmacSHA256(s[1],"AWS4"+n),n=qq.CryptoJS.HmacSHA256(s[2],n),n=qq.CryptoJS.HmacSHA256("s3",n),n=qq.CryptoJS.HmacSHA256("aws4_request",n);u(e,qq.CryptoJS.HmacSHA256(t,n),i)},signPolicy:function(e,t,i,n){var s,o=JSON.stringify(e),a=qq.CryptoJS.enc.Utf8.parse(o),o=qq.CryptoJS.enc.Base64.stringify(a),a=m.get().secretKey,e=(s=null,qq.each(e.conditions,function(e,t){t=t["x-amz-credential"];if(t)return s=t,!1}),s),e=/.+\/(.+)\/(.+)\/s3\/aws4_request/.exec(e),a=qq.CryptoJS.HmacSHA256(e[1],"AWS4"+a),a=qq.CryptoJS.HmacSHA256(e[2],a),a=qq.CryptoJS.HmacSHA256("s3",a),a=qq.CryptoJS.HmacSHA256("aws4_request",a);t.success({policy:o,signature:qq.CryptoJS.HmacSHA256(o,a).toString()},i,n)}};qq.extend(g,e,!0),m=g.signatureSpec.credentialsProvider,r=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:g.method,contentType:"application/json; charset=utf-8",endpointStore:{get:function(){return g.signatureSpec.endpoint}},paramsStore:g.paramsStore,maxConnections:g.maxConnections,customHeaders:g.signatureSpec.customHeaders,log:g.log,onComplete:function(e,t,i){var n,s,o=t.responseText,t=(a=l[e]).promise,a=a.signatureConstructor;if(delete l[e],o)try{s=qq.parseJson(o)}catch(e){g.log("Error attempting to parse signature response: "+e,"error")}s&&s.error?(i=!0,n=s.error):s&&s.invalid?(i=!0,n="Invalid policy document or request headers!"):s?g.expectingPolicy&&!s.policy?(i=!0,n="Response does not include the base64 encoded policy!"):s.signature||(i=!0,n="Response does not include the signature!"):(i=!0,n="Received an empty or invalid response from the server!"),i?(n&&g.log(n,"error"),t.failure(n)):a?u(a,s.signature,t):t.success(s)},cors:g.cors})),qq.extend(this,{getSignature:function(t,e){var i,n=e,s=e.signatureConstructor,o=new qq.Promise;return 4===g.signatureSpec.version&&(i={v4:!0}),m.get().secretKey&&qq.CryptoJS?m.get().expiration.getTime()>Date.now()?a(t,e,o):m.onExpired().then(function(){a(t,e,o,m.get().accessKey,m.get().sessionToken)},function(e){g.log("Attempt to update expired credentials apparently failed! Unable to sign request.  ","error"),o.failure("Unable to sign request - expired credentials.")}):(g.log("Submitting S3 signature request for "+t),s?s.getToSign(t).then(function(e){n={headers:e.stringToSignRaw},r.initTransport(t).withParams(n).withQueryParams(i).send()},function(e){g.log("Failed to construct signature. ","error"),o.failure("Failed to construct signature.")}):r.initTransport(t).withParams(n).withQueryParams(i).send(),l[t]={promise:o,signatureConstructor:s}),o},constructStringToSign:function(s,o,a,r){var l,u,c,d,h,p={};return{withHeaders:function(e){return p=e,this},withUploadId:function(e){return l=e,this},withContent:function(e){return u=e,this},withContentType:function(e){return c=e,this},withPartNum:function(e){return d=e,this},getToSign:function(e){var t=m.get().sessionToken,i=new qq.Promise,n=new Date(Date.now()+g.signatureSpec.drift);return p["x-amz-date"]=n.toUTCString(),t&&(p[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=t),f(0,g.signatureSpec.version,{bucket:o,content:u,contentType:c,headers:p,host:a,key:r,partNum:d,type:s,uploadId:l}).then(function(e){h=e,i.success({headers:(c&&(p["Content-Type"]=c),delete p.Host,p),date:h.date,endOfUrl:h.endOfUrl,signedHeaders:h.signedHeaders,stringToSign:h.toSign,stringToSignRaw:h.toSignRaw})},function(e){i.failure(e)}),i},getHeaders:function(){return qq.extend({},p)},getEndOfUrl:function(){return h&&h.endOfUrl},getRequestDate:function(){return h&&h.date},getSignedHeaders:function(){return h&&h.signedHeaders}}}})},qq.s3.RequestSigner.prototype.REQUEST_TYPE={MULTIPART_INITIATE:"multipart_initiate",MULTIPART_COMPLETE:"multipart_complete",MULTIPART_ABORT:"multipart_abort",MULTIPART_UPLOAD:"multipart_upload"},qq.UploadSuccessAjaxRequester=function(e){"use strict";var n,l=[],u={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){}};qq.extend(u,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:u.method,endpointStore:{get:function(){return u.endpoint}},paramsStore:u.paramsStore,maxConnections:u.maxConnections,customHeaders:u.customHeaders,log:u.log,onComplete:function(e,t,i){var n,s=l[e],o=t.responseText,a={success:!0},r={success:!1};delete l[e],u.log(qq.format("Received the following response body to an upload success request for id {}: {}",e,o));try{n=qq.parseJson(o),i||n&&(n.error||!1===n.success)?(u.log("Upload success request was rejected by the server.","error"),s.failure(qq.extend(n,r))):(u.log("Upload success was acknowledged by the server."),s.success(qq.extend(n,a)))}catch(t){i?(u.log(qq.format("Your server indicated failure in its upload success request response for id {}!",e),"error"),s.failure(r)):(u.log("Upload success was acknowledged by the server."),s.success(a))}},cors:u.cors})),qq.extend(this,{sendSuccessRequest:function(e,t){var i=new qq.Promise;return u.log("Submitting upload success request/notification for "+e),n.initTransport(e).withParams(t).send(),l[e]=i}})},qq.s3.InitiateMultipartAjaxRequester=function(e){"use strict";var l,u,c={},d={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,aclStore:null,reducedRedundancy:!1,serverSideEncryption:!1,maxConnections:3,getContentType:function(e){},getBucket:function(e){},getHost:function(e){},getKey:function(e){},getName:function(e){},log:function(e,t){}};qq.extend(d,e),u=new qq.s3.RequestSigner({endpointStore:d.endpointStore,signatureSpec:d.signatureSpec,cors:d.cors,log:d.log}),l=qq.extend(this,new qq.AjaxRequester({method:d.method,contentType:null,endpointStore:d.endpointStore,maxConnections:d.maxConnections,allowXRequestedWithAndCacheControl:!1,log:d.log,onComplete:function(e,t,i){var n,s,o,a=c[e],r=(new DOMParser).parseFromString(t.responseText,"application/xml");delete c[e],i?(o=t.status,0<(i=r.getElementsByTagName("Message")).length&&(s=i[0].textContent)):0<(r=r.getElementsByTagName("UploadId")).length?n=r[0].textContent:s="Upload ID missing from request",void 0===n?(s?d.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.",e,s),"error"):d.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",e,o),"error"),a.failure("Problem initiating upload request.",t)):(d.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}",e,n)),a.success(n,t))},successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(i){var e,t,n,s,o,a,r=new qq.Promise;return e=i,t=d.getBucket(e),n=d.getHost(e),s={},o=new qq.Promise,a=d.getKey(e),s["x-amz-acl"]=d.aclStore.get(e),d.reducedRedundancy&&(s[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),d.serverSideEncryption&&(s[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),s[qq.s3.util.AWS_PARAM_PREFIX+d.filenameParam]=encodeURIComponent(d.getName(e)),qq.each(d.paramsStore.get(e),function(e,t){0<=qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)?s[e]=t:s[qq.s3.util.AWS_PARAM_PREFIX+e]=encodeURIComponent(t)}),a=u.constructStringToSign(u.REQUEST_TYPE.MULTIPART_INITIATE,t,n,a).withContentType(d.getContentType(e)).withHeaders(s),u.getSignature(e,{signatureConstructor:a}).then(o.success,o.failure),o.then(function(e,t){d.log("Submitting S3 initiate multipart upload request for "+i),c[i]=r,l.initTransport(i).withPath(t).withHeaders(e).send()},r.failure),r}})},qq.s3.CompleteMultipartAjaxRequester=function(e){"use strict";var c,d,h={},p={method:"POST",contentType:"text/xml",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(e){},getHost:function(e){},getKey:function(e){},log:function(e,t){}};qq.extend(p,e),d=new qq.s3.RequestSigner({endpointStore:p.endpointStore,signatureSpec:p.signatureSpec,cors:p.cors,log:p.log}),c=qq.extend(this,new qq.AjaxRequester({method:p.method,contentType:"application/xml; charset=UTF-8",endpointStore:p.endpointStore,maxConnections:p.maxConnections,allowXRequestedWithAndCacheControl:!1,log:p.log,onComplete:function(e,t,i){var n=h[e],s=new DOMParser,o=p.getBucket(e),s=(a=(p.getKey(e),s.parseFromString(t.responseText,"application/xml"))).getElementsByTagName("Bucket"),a=a.getElementsByTagName("Key");delete h[e],p.log(qq.format("Complete response status {}, body = {}",t.status,t.responseText)),i?p.log(qq.format("Complete Multipart Upload request for {} failed with status {}.",e,t.status),"error"):s.length&&a.length?s[0].textContent!==o&&(i=!0,p.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.",e),"error")):(i=!0,p.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",e),"error")),i?n.failure("Problem combining the file parts!",t):n.success({},t)},successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(i,e,t){var a,n,s,o,r,l=new qq.Promise,u=(r=t,a=document.implementation.createDocument(null,"CompleteMultipartUpload",null),r.sort(function(e,t){return e.part-t.part}),qq.each(r,function(e,t){var i=t.part,n=t.etag,s=a.createElement("Part"),o=a.createElement("PartNumber"),t=a.createTextNode(i),i=a.createTextNode(n),n=a.createElement("ETag");n.appendChild(i),o.appendChild(t),s.appendChild(o),s.appendChild(n),qq(a).children()[0].appendChild(s)}),(new XMLSerializer).serializeToString(a));return n=i,s=e,o=u,t=new qq.Promise,r=p.getBucket(n),e=p.getHost(n),o=d.constructStringToSign(d.REQUEST_TYPE.MULTIPART_COMPLETE,r,e,p.getKey(n)).withUploadId(s).withContent(o).withContentType("application/xml; charset=UTF-8"),d.getSignature(n,{signatureConstructor:o}).then(t.success,t.failure),t.then(function(e,t){p.log("Submitting S3 complete multipart upload request for "+i),h[i]=l,delete e["Content-Type"],c.initTransport(i).withPath(t).withHeaders(e).withPayload(u).send()},l.failure),l}})},qq.s3.AbortMultipartAjaxRequester=function(e){"use strict";var a,r,l={method:"DELETE",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(e){},getHost:function(e){},getKey:function(e){},log:function(e,t){}};qq.extend(l,e),r=new qq.s3.RequestSigner({endpointStore:l.endpointStore,signatureSpec:l.signatureSpec,cors:l.cors,log:l.log}),a=qq.extend(this,new qq.AjaxRequester({validMethods:["DELETE"],method:l.method,contentType:null,endpointStore:l.endpointStore,maxConnections:l.maxConnections,allowXRequestedWithAndCacheControl:!1,log:l.log,onComplete:function(e,t,i){var n=(new DOMParser).parseFromString(t.responseText,"application/xml"),s=n.getElementsByTagName("Error");l.log(qq.format("Abort response status {}, body = {}",t.status,t.responseText)),i?l.log(qq.format("Abort Multipart Upload request for {} failed with status {}.",e,t.status),"error"):s.length?(i=!0,n=n.getElementsByTagName("Message")[0].textContent,l.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}",e,n),"error")):l.log(qq.format("Abort MPU request succeeded for file ID {}.",e))},successfulResponseCodes:{DELETE:[204]}})),qq.extend(this,{send:function(i,e){var t,n,s,o;t=i,n=e,s=new qq.Promise,o=l.getBucket(t),e=l.getHost(t),n=r.constructStringToSign(r.REQUEST_TYPE.MULTIPART_ABORT,o,e,l.getKey(t)).withUploadId(n),r.getSignature(t,{signatureConstructor:n}).then(s.success,s.failure),s.then(function(e,t){l.log("Submitting S3 Abort multipart upload request for "+i),a.initTransport(i).withPath(t).withHeaders(e).send()})}})},qq.s3.XhrUploadHandler=function(e,t){"use strict";var n=t.getName,u=t.log,i=e.clockDrift,s=e.getBucket,o=e.getHost,a=e.getKeyName,r=e.filenameParam,l=e.paramsStore,c=e.endpointStore,d=e.aclStore,h=e.objectProperties.reducedRedundancy,p=e.objectProperties.region,f=e.objectProperties.serverSideEncryption,m=e.validation,g=qq.extend({region:p,drift:i},e.signature),_=this,v=e.signature.credentialsProvider,b={combine:function(i){var e=_._getPersistableData(i).uploadId,t=_._getPersistableData(i).etags,n=new qq.Promise;return q.completeMultipart.send(i,e,t).then(n.success,function(e,t){n.failure(w.done(i,t).response,t)}),n},done:function(e,t,i){w.response.parse(e,t).success&&(t=t.getResponseHeader("ETag"),_._getPersistableData(e).etags||(_._getPersistableData(e).etags=[]),_._getPersistableData(e).etags.push({part:i+1,etag:t}))},initHeaders:function(e,t,i){var n=w.bucket.getName(e),s=w.host.getName(e),o=w.key.urlSafe(e),a=new qq.Promise,i=q.restSignature.constructStringToSign(q.restSignature.REQUEST_TYPE.MULTIPART_UPLOAD,n,s,o).withPartNum(t+1).withContent(i).withUploadId(_._getPersistableData(e).uploadId);return q.restSignature.getSignature(e+"."+t,{signatureConstructor:i}).then(a.success,a.failure),a},put:function(n,s){var o=_._createXhr(n,s),a=_._getChunkData(n,s),r=e.endpointStore.get(n),l=new qq.Promise;return b.initHeaders(n,s,a.blob).then(function(e,t){var i;o._cancelled?(u(qq.format("Upload of item {}.{} cancelled. Upload will not start after successful signature request.",n,s)),l.failure({error:"Chunk upload cancelled"})):(t=r+"/"+t,_._registerProgressHandler(n,s,a.size),w.track(n,o,s).then(l.success,l.failure),o.open("PUT",t,!0),i=!1,qq.each(e,function(e,t){"Content-Type"===e&&(i=!0),o.setRequestHeader(e,t)}),i||o.setRequestHeader("Content-Type",""),o.send(a.blob))},function(){l.failure({error:"Problem signing the chunk!"},o)}),l},send:function(e,t){var i=new qq.Promise;return b.setup(e).then(function(){b.put(e,t).then(i.success,i.failure)},function(e,t){i.failure({error:e},t)}),i},setup:function(i){var n=new qq.Promise,e=_._getPersistableData(i).uploadId,s=new qq.Promise;return e?e instanceof qq.Promise?e.then(function(e){n.success(e)}):n.success(e):(_._getPersistableData(i).uploadId=s,q.initiateMultipart.send(i).then(function(e){_._getPersistableData(i).uploadId=e,s.success(e),n.success(e)},function(e,t){_._getPersistableData(i).uploadId=null,n.failure(e,t),s.failure(e,t)})),n}},q={abortMultipart:new qq.s3.AbortMultipartAjaxRequester({endpointStore:c,signatureSpec:g,cors:e.cors,log:u,getBucket:function(e){return w.bucket.getName(e)},getHost:function(e){return w.host.getName(e)},getKey:function(e){return w.key.urlSafe(e)}}),completeMultipart:new qq.s3.CompleteMultipartAjaxRequester({endpointStore:c,signatureSpec:g,cors:e.cors,log:u,getBucket:function(e){return w.bucket.getName(e)},getHost:function(e){return w.host.getName(e)},getKey:function(e){return w.key.urlSafe(e)}}),initiateMultipart:new qq.s3.InitiateMultipartAjaxRequester({filenameParam:r,endpointStore:c,paramsStore:l,signatureSpec:g,aclStore:d,reducedRedundancy:h,serverSideEncryption:f,cors:e.cors,log:u,getContentType:function(e){return _._getMimeType(e)},getBucket:function(e){return w.bucket.getName(e)},getHost:function(e){return w.host.getName(e)},getKey:function(e){return w.key.urlSafe(e)},getName:function(e){return n(e)}}),policySignature:new qq.s3.RequestSigner({expectingPolicy:!0,signatureSpec:g,cors:e.cors,log:u}),restSignature:new qq.s3.RequestSigner({endpointStore:c,signatureSpec:g,cors:e.cors,log:u})},y={initParams:function(e){var t=l.get(e);return t[r]=n(e),qq.s3.util.generateAwsParams({endpoint:c.get(e),clockDrift:i,params:t,type:_._getMimeType(e),bucket:w.bucket.getName(e),key:_.getThirdPartyFileId(e),accessKey:v.get().accessKey,sessionToken:v.get().sessionToken,acl:d.get(e),expectedStatus:200,minFileSize:m.minSizeLimit,maxFileSize:m.maxSizeLimit,reducedRedundancy:h,region:p,serverSideEncryption:f,signatureVersion:g.version,log:u},qq.bind(q.policySignature.getSignature,this,e))},send:function(t){var e=new qq.Promise,i=_._createXhr(t),n=_.getFile(t);return _._registerProgressHandler(t),w.track(t,i).then(e.success,e.failure),y.setup(t,i,n).then(function(e){u("Sending upload request for "+t),i.send(e)},e.failure),e},setup:function(e,t,i){var n=new FormData,s=c.get(e),o=new qq.Promise;return y.initParams(e).then(function(e){t.open("POST",s,!0),qq.obj2FormData(e,n),n.append("file",i),o.success(n)},function(e){o.failure({error:e})}),o}},w={bucket:{promise:function(t){var i=new qq.Promise,e=_._getFileState(t).bucket;return e?i.success(e):s(t).then(function(e){_._getFileState(t).bucket=e,i.success(e)},i.failure),i},getName:function(e){return _._getFileState(e).bucket}},host:{promise:function(t){var i=new qq.Promise,e=_._getFileState(t).host;return e?i.success(e):o(t).then(function(e){_._getFileState(t).host=e,i.success(e)},i.failure),i},getName:function(e){return _._getFileState(e).host}},done:function(e,t){e=w.response.parse(e,t),t=!0!==e.success;return t&&w.response.shouldReset(e.code)&&(u("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),e.reset=!0),{success:!t,response:e}},key:{promise:function(t){var i=new qq.Promise,e=_.getThirdPartyFileId(t);return null==e?(_._setThirdPartyFileId(t,i),a(t,n(t)).then(function(e){_._setThirdPartyFileId(t,e),i.success(e)},function(e){_._setThirdPartyFileId(t,null),i.failure(e)})):qq.isGenericPromise(e)?e.then(i.success,i.failure):i.success(e),i},urlSafe:function(e){e=_.getThirdPartyFileId(e);return qq.s3.util.uriEscapePath(e)}},response:{parse:function(e,t){var i,n={};try{u(qq.format("Received response status {} with body: {}",t.status,t.responseText)),200===t.status?n.success=!0:(i=w.response.parseError(t.responseText))&&(n.error=i.message,n.code=i.code)}catch(e){u("Error when attempting to parse xhr response text ("+e.message+")","error")}return n},parseError:function(e){var t=(new DOMParser).parseFromString(e,"application/xml"),i={};if(t.getElementsByTagName("Error").length)return e=t.getElementsByTagName("Code"),(t=t.getElementsByTagName("Message")).length&&(i.message=t[0].textContent),e.length&&(i.code=e[0].textContent),i},shouldReset:function(e){return"EntityTooSmall"===e||"InvalidPart"===e||"InvalidPartOrder"===e||"NoSuchUpload"===e}},start:function(e){var t=e.id,i=e.chunkIdx,n=new qq.Promise;return w.key.promise(t).then(function(){w.bucket.promise(t).then(function(){w.host.promise(t).then(function(){(null==i?y.send(t):b.send(t,i)).then(n.success,n.failure)})})},function(e){n.failure({error:e})}),n},track:function(t,i,n){var s=new qq.Promise;return i.onreadystatechange=function(){var e;4===i.readyState&&(null==n||b.done(t,i,n),e=w.done(t,i),s[e.success?"success":"failure"](e.response,i))},s}};qq.extend(this,{uploadChunk:w.start,uploadFile:function(e){return w.start({id:e})}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"s3"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(n){return{expunge:function(e){var t=_._getPersistableData(e)&&_._getPersistableData(e).uploadId,i=_._maybeDeletePersistedChunkData(e);void 0!==t&&i&&q.abortMultipart.send(e,t),n.expunge(e)},finalizeChunks:function(e){return b.combine(e)},_getLocalStorageId:function(e){return n._getLocalStorageId(e)+"-"+w.bucket.getName(e)}}})},qq.s3.FormUploadHandler=function(o,e){"use strict";function a(t,i){var n=new qq.Promise,s=o.endpointStore.get(t);c(t);return function(e){var t=m.get(e);return t[f]=c(e),qq.s3.util.generateAwsParams({endpoint:g.get(e),clockDrift:u,params:t,bucket:l._getFileState(e).bucket,key:l.getThirdPartyFileId(e),accessKey:S.get().accessKey,sessionToken:S.get().sessionToken,acl:_.get(e),minFileSize:y.minSizeLimit,maxFileSize:y.maxSizeLimit,successRedirectUrl:x,reducedRedundancy:v,region:b,serverSideEncryption:q,signatureVersion:w.version,log:d},qq.bind(C.getSignature,this,e))}(t).then(function(e){e=l._initFormForUpload({method:"POST",endpoint:s,params:e,paramsInBody:!0,targetName:i.name});n.success(e)},function(e){n.failure(e),r(t,i)}),n}function s(t){var i=l._createIframe(t),n=l.getInput(t),s=new qq.Promise;return a(t,i).then(function(e){e.appendChild(n),l._attachLoadEvent(i,function(e){d("iframe loaded"),e?!1===e.success&&(d("Amazon likely rejected the upload request","error"),s.failure(e)):((e={}).success=function(e,t){var i,n=(o.endpointStore.get(e),l._getFileState(e).bucket);try{if((t.contentDocument||t.contentWindow.document).body.innerHTML,(i=qq.s3.util.parseIframeResponse(t)).bucket===n&&i.key===qq.s3.util.encodeQueryStringParam(l.getThirdPartyFileId(e)))return!0;d("Response from AWS included an unexpected bucket or key name.","error")}catch(e){d("Error when attempting to parse form upload response ("+e.message+")","error")}return!1}(t,i),!1===e.success?(d("A success response was received by Amazon, but it was invalid in some way.","error"),s.failure(e)):(qq.extend(e,qq.s3.util.parseIframeResponse(i)),s.success(e))),r(t,i)}),d("Sending upload request for "+t),e.submit(),qq(e).remove()},s.failure),s}function r(e,t){l._detachLoadEvent(e),t&&qq(t).remove()}var l=this,u=o.clockDrift,t=e.onUuidChanged,c=e.getName,i=e.getUuid,d=e.log,h=o.getBucket,p=o.getKeyName,f=o.filenameParam,m=o.paramsStore,g=o.endpointStore,_=o.aclStore,v=o.objectProperties.reducedRedundancy,b=o.objectProperties.region,q=o.objectProperties.serverSideEncryption,y=o.validation,w=o.signature,x=o.iframeSupport.localBlankPagePath,S=o.signature.credentialsProvider,C=new qq.s3.RequestSigner({signatureSpec:w,cors:o.cors,log:d});if(void 0===x)throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");qq.extend(this,new qq.FormUploadHandler({options:{isCors:!1,inputName:"file"},proxy:{onCancel:o.onCancel,onUuidChanged:t,getName:c,getUuid:i,log:d}})),qq.extend(this,{uploadFile:function(i){var e=c(i),n=new qq.Promise;return l.getThirdPartyFileId(i)?l._getFileState(i).bucket?s(i).then(n.success,n.failure):h(i).then(function(e){l._getFileState(i).bucket=e,s(i).then(n.success,n.failure)}):p(i,e).then(function(t){h(i).then(function(e){l._getFileState(i).bucket=e,l._setThirdPartyFileId(i,t),s(i).then(n.success,n.failure)},function(e){n.failure({error:e})})},function(e){n.failure({error:e})}),n}})},qq.DragAndDrop=function(e){"use strict";function a(t){var n=new qq.Promise;return t.isFile?t.file(function(e){e.qqPath=i(t),u.push(e),n.success()},function(e){r.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),n.failure()}):t.isDirectory&&function i(n,e,s,t){var o=t||new qq.Promise,a=e||n.createReader();return a.readEntries(function(e){var t=s?s.concat(e):e;e.length?setTimeout(function(){i(n,a,t,o)},0):o.success(t)},o.failure),o}(t).then(function(e){var i=e.length;qq.each(e,function(e,t){a(t).done(function(){0===--i&&n.success()})}),e.length||n.success()},function(e){r.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),n.failure()}),n}function i(e){var t=e.name,e=e.fullPath,t=e.lastIndexOf(t);return e="/"===(e=e.substr(0,t)).charAt(0)?e.substr(1):e}function n(t){var o=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:"qq-hidezones",element:t,onEnter:function(e){qq(t).addClass(r.classes.dropActive),e.stopPropagation()},onLeaveNotDescendants:function(e){qq(t).removeClass(r.classes.dropActive)},onDrop:function(e){var t,n,s;t=e.dataTransfer,e=o,n=[],s=new qq.Promise,r.callbacks.processingDroppedFiles(),e.dropDisabled(!0),1<t.files.length&&!r.allowMultipleItems?(r.callbacks.processingDroppedFilesComplete([]),r.callbacks.dropError("tooManyFilesError",""),e.dropDisabled(!1),s.failure()):(u=[],qq.isFolderDropSupported(t)?qq.each(t.items,function(e,t){var i=t.webkitGetAsEntry();i&&(i.isFile?u.push(t.getAsFile()):n.push(a(i).done(function(){n.pop(),0===n.length&&s.success()})))}):u=t.files,0===n.length&&s.success()),s.then(function(){var e,t,i;e=u,t=o,i=Array.prototype.slice.call(e),r.callbacks.dropLog("Grabbed "+e.length+" dropped files."),t.dropDisabled(!1),r.callbacks.processingDroppedFilesComplete(i,t.getElement())},function(){r.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return c.addDisposer(function(){o.dispose()}),qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).hide(),l.push(o),o}function s(e){var i;return qq.each(e.dataTransfer.types,function(e,t){if("Files"===t)return!(i=!0)}),i}var r,o,l=[],u=[],c=new qq.DisposeSupport;function t(){setTimeout(function(){qq.each(o,function(e,t){qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).hide(),qq(t).removeClass(r.classes.dropActive)})},10)}r={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(r,e,!0),o=r.dropZoneElements,qq.each(o,function(e,t){var i=n(t);o.length&&qq.supportedFeatures.fileDrop&&c.attach(document,"dragenter",function(e){!i.dropDisabled()&&s(e)&&qq.each(o,function(e,t){t instanceof HTMLElement&&qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).css({display:"block"})})})}),c.attach(document,"dragleave",function(e){e=e,(qq.safari()?e.x<0||e.y<0:0===e.x&&0===e.y)&&t()}),c.attach(qq(document).children()[0],"mouseenter",function(e){t()}),c.attach(document,"drop",function(e){s(e)&&(e.preventDefault(),t())}),c.attach(document,"qq-hidezones",t),qq.extend(this,{setupExtraDropzone:function(e){r.dropZoneElements.push(e),n(e)},removeDropzone:function(e){var t,i=r.dropZoneElements;for(t in i)if(i[t]===e)return i.splice(t,1)},dispose:function(){c.dispose(),qq.each(l,function(e,t){t.dispose()})}}),this._testing={},this._testing.extractDirectoryPath=i},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e,t){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";function i(e){if(!qq.supportedFeatures.fileDrop)return!1;var t=e.dataTransfer,i=qq.safari(),e=!(!qq.ie()||!qq.supportedFeatures.fileDrop)||"none"!==t.effectAllowed;return t&&e&&(t.files&&t.files.length||!i&&t.types.contains&&t.types.contains("Files")||t.types.includes&&t.types.includes("Files"))}function t(e){return s=void 0!==e?e:s}var n,s,o,a=new qq.DisposeSupport,r={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}};qq.extend(r,e),n=r.element,o||(a.attach(document,"dragover",function(e){e.preventDefault()}),o=!0),a.attach(n,"dragover",function(e){var t;i(e)&&(t=qq.ie()&&qq.supportedFeatures.fileDrop?null:e.dataTransfer.effectAllowed,e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault())}),a.attach(n,"dragenter",function(e){t()||i(e)&&r.onEnter(e)}),a.attach(n,"dragleave",function(e){var t;i(e)&&(r.onLeave(e),t=document.elementFromPoint(e.clientX,e.clientY),qq(this).contains(t)||r.onLeaveNotDescendants(e))}),a.attach(n,"drop",function(e){t()||i(e)&&(e.preventDefault(),e.stopPropagation(),r.onDrop(e),function(){function e(){(t=document.createEvent("Event")).initEvent(r.HIDE_ZONES_EVENT_NAME,!0,!0)}var t;if(window.CustomEvent)try{t=new CustomEvent(r.HIDE_ZONES_EVENT_NAME)}catch(t){e()}else e();document.dispatchEvent(t)}())}),qq.extend(this,{dropDisabled:t,dispose:function(){a.dispose()},getElement:function(){return n}}),this._testing={},this._testing.isValidFileDrag=i},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(e){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){if(this._dnd)return this._dnd.removeDropzone(e)},getItemByFileId:function(e){if(!this._templating.isHiddenForever(e))return this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(e,t){t=this._options.formatFileName(t);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(e,t)},pauseUpload:function(e){var t=this._parent.prototype.pauseUpload.apply(this,arguments);return t&&this._templating.uploadPaused(e),t},continueUpload:function(e){var t=this._parent.prototype.continueUpload.apply(this,arguments);return t&&this._templating.uploadContinued(e),t},getId:function(e){return this._templating.getFileId(e)},getDropTarget:function(e){return this.getFile(e).qqDropTarget}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var n=this,e=this._options.dragAndDrop.extraDropzones,t=this._templating,i=t.getDropZone();return i&&e.push(i),new qq.DragAndDrop({dropZoneElements:e,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){t.showDropProcessing()},processingDroppedFilesComplete:function(e,i){t.hideDropProcessing(),qq.each(e,function(e,t){t.qqDropTarget=i}),e.length&&n.addFiles(e,null,null)},dropError:function(e,t){n._itemError(e,t)},dropLog:function(e,t){n.log(e,t)}}})},_bindFileButtonsClickEvent:function(){var i=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(e,t){i.log(e,t)},onDeleteFile:function(e){i.deleteFile(e)},onCancel:function(e){i.cancel(e)},onRetry:function(e){i.retry(e)},onPause:function(e){i.pauseUpload(e)},onContinue:function(e){i.continueUpload(e)},onGetName:function(e){return i.getName(e)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var i=this,s=this._templating;return{templating:s,log:function(e,t){i.log(e,t)},onGetUploadStatus:function(e){return i.getUploads({id:e}).status},onGetName:function(e){return i.getName(e)},onSetName:function(e,t){i.setName(e,t)},onEditingStatusChange:function(e,t){var i=qq(s.getEditInput(e)),n=qq(s.getFileContainer(e));t?(i.addClass("qq-editing"),s.hideFilename(e),s.hideEditIcon(e)):(i.removeClass("qq-editing"),s.showFilename(e),s.showEditIcon(e)),n.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(e,t,i){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&i!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e)),t===qq.status.UPLOAD_RETRYING&&i===qq.status.UPLOADING?(this._templating.hideRetry(e),this._templating.setStatusText(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)):i===qq.status.UPLOAD_FAILED&&this._templating.hidePause(e)},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onAllComplete:function(e,t){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(e,t){var i=this.getFile(e);i&&i.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(e,{qqpath:i.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,i,n){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,i,n),0===n||100===Math.round(i/n*100)?(this._templating.hideCancel(e),this._templating.hidePause(e),this._templating.hideProgress(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,i,n)},_onTotalProgress:function(e,t){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(e,t)},_onComplete:function(t,e,i,n){function s(e){r&&(a.setStatusText(t),qq(r).removeClass(l._classes.retrying),a.hideProgress(t),l.getUploads({id:t}).status!==qq.status.UPLOAD_FAILED&&a.hideCancel(t),a.hideSpinner(t),e.success?l._markFileAsSuccessful(t):(qq(r).addClass(l._classes.fail),a.showCancel(t),a.isRetryPossible()&&!l._preventRetries[t]&&(qq(r).addClass(l._classes.retryable),a.showRetry(t)),l._controlFailureTextDisplay(t,e)))}var o=this._parent.prototype._onComplete.apply(this,arguments),a=this._templating,r=a.getFileContainer(t),l=this;return o instanceof qq.Promise?o.done(function(e){s(e)}):s(i),o},_markFileAsSuccessful:function(e){var t=this._templating;this._isDeletePossible()&&t.showDeleteButton(e),qq(t.getFileContainer(e)).addClass(this._classes.success),this._maybeUpdateThumbnail(e)},_onUploadPrep:function(e){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(e)},_onUpload:function(e,t){var i=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),i},_onUploadChunk:function(e,t){this._parent.prototype._onUploadChunk.apply(this,arguments),0<t.partIndex&&this._handler.isResumable(e)&&this._templating.allowPause(e)},_onCancel:function(e,t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(e){var t,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._options.retry.showAutoRetryNote&&(i=this._autoRetries[e],t=this._options.retry.maxAutoAttempts,i=(i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,i)).replace(/\{maxAuto\}/g,t),this._templating.setStatusText(e,i),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),this._templating.showRetry(e),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(e,t,i){(this._options.deleteFile.forceConfirm?this._showDeleteConfirm:this._sendDeleteRequest).apply(this,arguments)},_onDeleteComplete:function(e,t,i){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),i?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e,t,i){this._templating.hideDeleteButton(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e,t,i){var n=this.getName(e),n=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,n),s=(this.getUuid(e),arguments),o=this,n=this._options.showConfirm(n);qq.isGenericPromise(n)?n.then(function(){o._sendDeleteRequest.apply(o,s)}):!1!==n&&o._sendDeleteRequest.apply(o,s)},_addToList:function(e,t,i){var n,s=0,o=this._handler.isProxied(e)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(n={index:s=1<this._totalFilesInBatch&&0<this._filesInBatchAddedToUi?this._filesInBatchAddedToUi-1:s}),i||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(s=this.getUploads({id:e}),this._handledProxyGroup=this._handledProxyGroup||s.proxyGroupId,s.proxyGroupId===this._handledProxyGroup&&s.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),i?(this._templating.addFileToCache(e,this._options.formatFileName(t),n,o),this._templating.updateThumbnail(e,this._thumbnailUrls[e],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(e,this._options.formatFileName(t),n,o),this._templating.generatePreview(e,this.getFile(e),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(i||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,i){var n=this.getSize(e),s=this._formatSize(n);0<=n&&(void 0!==t&&void 0!==i&&(s=this._formatProgress(t,i)),this._templating.updateSize(e,s))},_formatProgress:function(e,t){function i(e,t){n=n.replace(e,t)}var n=this._options.text.formatProgress;return i("{percent}",Math.round(e/t*100)),i("{total_size}",this._formatSize(t)),n},_controlFailureTextDisplay:function(e,t){var i=this._options.failedUploadTextDisplay.mode,n=this._options.failedUploadTextDisplay.responseProperty;"custom"===i?(n=(n=t[n])||this._options.text.failUpload,this._templating.setStatusText(e,n),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,n)):"default"===i?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==i&&this.log("failedUploadTextDisplay.mode value of '"+i+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(e)},_itemError:function(e,t,i){var n=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(n)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var i=this;this._options.callbacks.onPasteReceived=function(){var e=i._options.paste.namePromptMessage,t=i._options.paste.defaultName;return i._options.showPrompt(e,t)}},_fileOrBlobRejected:function(e,t){--this._totalFilesInBatch,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e,t,i){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e];this.getUploads({id:e}).status===qq.status.DELETED||!t&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(e,t,this._options.thumbnails.customResizer)},_addCannedFile:function(e){var t=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(t,this.getName(t),!0),this._templating.hideSpinner(t),this._templating.hideCancel(t),this._markFileAsSuccessful(t),t},_setSize:function(e,t){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(e,this._formatSize(t))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(e,t){"use strict";var i=this;this._parent=(t?qq[t]:qq).FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(e){if(i._templating.hasDialog("alert"))return i._templating.showDialog("alert",e);setTimeout(function(){window.alert(e)},0)},showConfirm:function(e){return i._templating.hasDialog("confirm")?i._templating.showDialog("confirm",e):window.confirm(e)},showPrompt:function(e,t){return i._templating.hasDialog("prompt")?i._templating.showDialog("prompt",e,t):window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";function t(e){return U(L(e),P.cancel)}function c(e){return U(L(e),P.continueButton)}function d(e){return U(_,P[e+"Dialog"])}function h(e){return U(L(e),P.deleteButton)}function i(){return U(_,P.dropProcessing)}function n(e){return U(L(e),P.editNameIcon)}function s(e){return U(L(e),P.file)}function p(e){return U(L(e),P.pause)}function f(e){return U(L(e),P.retry)}function m(e){return U(L(e),P.size)}function o(e){return U(L(e),P.spinner)}function a(e,t){var i=H(e),e=null==e?P.totalProgressBar:P.progressBar;(i=i&&!qq(i).hasClass(e)?qq(i).getFirstByClass(e):i)&&(qq(i).css({width:t+"%"}),i.setAttribute("aria-valuenow",t))}var r,l,u,g,_,v,b,q,y,w,x,S={content:document.createDocumentFragment(),map:{}},C=!1,D=0,k=!1,E=[],T=-1,I={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},P={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},A={},F=new qq.Promise,O=new qq.Promise,M=function(t){var i=new qq.Promise;return O.then(function(e){j(e,t),t.src?i.success():(t.src=e.src,t.onload=function(){t.onload=null,G(t),i.success()})},function(){z(t),i.success()}),i},N=function(e,t,i){var n=B(e);return r("Generating new thumbnail for "+e),t.qqThumbnailId=e,I.imageGenerator.generate(t,n,i).then(function(){D++,G(n),A[e].success()},function(){A[e].failure(),I.placeholders.waitUntilUpdate||W(e,n)})},R=function(){var e;E.length?(k=!0,((e=E.shift()).update?V:Y)(e)):k=!1},L=function(e){return S.map[e]||qq(v).getFirstByClass("qq-file-id-"+e)},H=function(e){return null==e?U(_,P.totalProgressBarContainer)||U(_,P.totalProgressBar):U(L(e),P.progressBarContainer)||U(L(e),P.progressBar)},U=function(e,t){return e&&qq(e).getFirstByClass(t)},B=function(e){return b&&U(L(e),P.thumbnail)},z=function(e){e&&qq(e).addClass(I.classes.hide)},j=function(e,t){var i=e.style.maxWidth,e=e.style.maxHeight;e&&i&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:i,maxHeight:e})},W=function(e,t){var i=A[e]||(new qq.Promise).failure(),n=new qq.Promise;return F.then(function(e){i.then(function(){n.success()},function(){j(e,t),t.onload=function(){t.onload=null,n.success()},t.src=e.src,G(t)})}),n},Y=function(e){var t=e.id,i=e.optFileOrBlob,n=i&&i.qqThumbnailId,s=B(t),o={customResizeFunction:e.customResizeFunction,maxSize:T,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?s?I.limits.maxThumbs&&I.limits.maxThumbs<=D?(W(t,s),R()):M(s).done(function(){A[t]=new qq.Promise,A[t].done(function(){setTimeout(R,I.limits.timeBetweenThumbs)}),null!=n?$(t,n):N(t,i,o)}):R():s&&(M(s),R())},V=function(e){var t=e.id,i=e.thumbnailUrl,n=e.showWaitingImg,s=B(t),e={customResizeFunction:e.customResizeFunction,scale:q,maxSize:T};if(s)if(i){if(!(I.limits.maxThumbs&&I.limits.maxThumbs<=D))return n&&M(s),I.imageGenerator.generate(i,s,e).then(function(){G(s),D++,setTimeout(R,I.limits.timeBetweenThumbs)},function(){W(t,s),setTimeout(R,I.limits.timeBetweenThumbs)});W(t,s),R()}else W(t,s),R()},G=function(e){e&&qq(e).removeClass(I.classes.hide)},$=function(e,t){var i=B(e),n=B(t);r(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",e,t,t)),A[t].then(function(){D++,A[e].success(),r(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",t,e)),i.src=n.src,G(i)},function(){A[e].failure(),I.placeholders.waitUntilUpdate||W(e,i)})};qq.extend(I,e),r=I.log,qq.supportedFeatures.imagePreviews||(I.limits.timeBetweenThumbs=0,I.limits.maxThumbs=0),_=I.containerEl,b=void 0!==I.imageGenerator,g=function(){var e,t,i,n;if(r("Parsing template"),null==I.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(I.templateIdOrEl)){if(null===(e=document.getElementById(I.templateIdOrEl)))throw new Error(qq.format("Cannot find template script at ID '{}'!",I.templateIdOrEl));n=e.innerHTML}else{if(void 0===I.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");n=I.templateIdOrEl.innerHTML}if(n=qq.trimStr(n),(e=document.createElement("div")).appendChild(qq.toElement(n)),n=qq(e).getFirstByClass(P.uploader),I.button&&((t=qq(e).getFirstByClass(P.button))&&qq(t).remove()),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(i=qq(e).getFirstByClass(P.dropProcessing))&&qq(i).remove(),(t=qq(e).getFirstByClass(P.drop))&&!qq.DragAndDrop&&(r("DnD module unavailable.","info"),qq(t).remove()),qq.supportedFeatures.fileDrop?qq(n).hasAttribute("qq-drop-area-text")&&t&&((i=qq(t).getFirstByClass(P.dropText))&&qq(i).remove()):(n.removeAttribute("qq-drop-area-text"),t&&qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).css({display:"none"})),n=qq(e).getFirstByClass(P.thumbnail),b?n&&(T=0<(T=parseInt(n.getAttribute("qq-max-size")))?T:null,q=qq(n).hasAttribute("qq-server-scale")):n&&qq(n).remove(),b=b&&n,l=0<qq(e).getByClass(P.editFilenameInput).length,u=0<qq(e).getByClass(P.retry).length,null==(t=qq(e).getFirstByClass(P.list)))throw new Error("Could not find the file list container in the template!");return n=t.children[0].cloneNode(!0),t.innerHTML="",e.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),r("Template parsing complete"),{template:e,fileTemplate:n}}(),y=I.placeholders.thumbnailNotAvailable,w=I.placeholders.waitingForThumbnail,x={maxSize:T,scale:q},b&&(y?I.imageGenerator.generate(y,new Image,x).then(function(e){F.success(e)},function(){F.failure(),r("Problem loading 'not available' placeholder image at "+y,"error")}):F.failure(),w?I.imageGenerator.generate(w,new Image,x).then(function(e){O.success(e)},function(){O.failure(),r("Problem loading 'waiting for thumbnail' placeholder image at "+w,"error")}):O.failure()),qq.extend(this,{render:function(){r("Rendering template in DOM."),D=0,_.appendChild(g.template.cloneNode(!0)),z(i()),this.hideTotalProgress(),v=I.fileContainerEl||U(_,P.list),r("Template rendering complete")},renderFailure:function(e){e=qq.toElement(e);_.innerHTML="",_.appendChild(e)},reset:function(){_.innerHTML="",this.render()},clearFiles:function(){v.innerHTML=""},disableCancel:function(){C=!0},addFile:function(e,t,i,n,s){var o,a=g.fileTemplate.cloneNode(!0),r=U(a,P.file),l=U(_,P.uploader),u=s?S.content:v;s&&(S.map[e]=a),qq(a).addClass("qq-file-id-"+e),l.removeAttribute("qq-drop-area-text"),r&&(qq(r).setText(t),r.setAttribute("title",t)),a.setAttribute("qq-file-id",e),i?(l=a,r=i.index,t=(i=t=u).firstChild,0<r&&(t=qq(i).children()[r].nextSibling),i.insertBefore(l,t)):u.appendChild(a),n?(a.style.display="none",qq(a).addClass("qq-hidden-forever")):(z(H(e)),z(m(e)),z(h(e)),z(f(e)),z(p(e)),z(c(e)),C&&this.hideCancel(e),(o=B(e))&&!o.src&&O.then(function(e){o.src=e.src,e.style.maxHeight&&e.style.maxWidth&&qq(o).css({maxHeight:e.style.maxHeight,maxWidth:e.style.maxWidth}),G(o)}))},addFileToCache:function(e,t,i,n){this.addFile(e,t,i,n,!0)},addCacheToDom:function(){v.appendChild(S.content),S.content=document.createDocumentFragment(),S.map={}},removeFile:function(e){qq(L(e)).remove()},getFileId:function(e){var t=e;if(t){for(;null==t.getAttribute("qq-file-id");)t=t.parentNode;return parseInt(t.getAttribute("qq-file-id"))}},getFileList:function(){return v},markFilenameEditable:function(e){e=s(e);e&&qq(e).addClass(I.classes.editable)},updateFilename:function(e,t){e=s(e);e&&(qq(e).setText(t),e.setAttribute("title",t))},hideFilename:function(e){z(s(e))},showFilename:function(e){G(s(e))},isFileName:function(e){return qq(e).hasClass(P.file)},getButton:function(){return I.button||U(_,P.button)},hideDropProcessing:function(){z(i())},showDropProcessing:function(){G(i())},getDropZone:function(){return U(_,P.drop)},isEditFilenamePossible:function(){return l},hideRetry:function(e){z(f(e))},isRetryPossible:function(){return u},showRetry:function(e){G(f(e))},getFileContainer:function(e){return L(e)},showEditIcon:function(e){e=n(e);e&&qq(e).addClass(I.classes.editable)},isHiddenForever:function(e){return qq(L(e)).hasClass("qq-hidden-forever")},hideEditIcon:function(e){e=n(e);e&&qq(e).removeClass(I.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(P.editNameIcon,!0)},getEditInput:function(e){return U(L(e),P.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(P.editFilenameInput,!0)},updateProgress:function(e,t,i){var n=H(e);n&&0<i&&((100===(i=Math.round(t/i*100))?z:G)(n),a(e,i))},updateTotalProgress:function(e,t){this.updateProgress(null,e,t)},hideProgress:function(e){e=H(e);e&&z(e)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(e){a(e,0),this.hideTotalProgress(e)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(e){C||(e=t(e))&&qq(e).removeClass(I.classes.hide)},hideCancel:function(e){z(t(e))},isCancel:function(e){return qq(e).hasClass(P.cancel,!0)},allowPause:function(e){G(p(e)),z(c(e))},uploadPaused:function(e){this.setStatusText(e,I.text.paused),this.allowContinueButton(e),z(o(e))},hidePause:function(e){z(p(e))},isPause:function(e){return qq(e).hasClass(P.pause,!0)},isContinueButton:function(e){return qq(e).hasClass(P.continueButton,!0)},allowContinueButton:function(e){G(c(e)),z(p(e))},uploadContinued:function(e){this.setStatusText(e,""),this.allowPause(e),G(o(e))},showDeleteButton:function(e){G(h(e))},hideDeleteButton:function(e){z(h(e))},isDeleteButton:function(e){return qq(e).hasClass(P.deleteButton,!0)},isRetry:function(e){return qq(e).hasClass(P.retry,!0)},updateSize:function(e,t){e=m(e);e&&(G(e),qq(e).setText(t))},setStatusText:function(e,t){e=U(L(e),P.statusText);e&&(null==t?qq(e).clearText():qq(e).setText(t))},hideSpinner:function(e){qq(L(e)).removeClass("qq-in-progress"),z(o(e))},showSpinner:function(e){qq(L(e)).addClass("qq-in-progress"),G(o(e))},generatePreview:function(e,t,i){this.isHiddenForever(e)||(E.push({id:e,customResizeFunction:i,optFileOrBlob:t}),k||R())},updateThumbnail:function(e,t,i,n){this.isHiddenForever(e)||(E.push({customResizeFunction:n,update:!0,id:e,thumbnailUrl:t,showWaitingImg:i}),k||R())},hasDialog:function(e){return qq.supportedFeatures.dialogElement&&!!d(e)},showDialog:function(e,t,i){var n=d(e),e=U(n,P.dialogMessage),s=n.getElementsByTagName("INPUT")[0],o=U(n,P.dialogCancelButton),a=U(n,P.dialogOkButton),r=new qq.Promise,l=function(){o.removeEventListener("click",u),a&&a.removeEventListener("click",c),r.failure()},u=function(){o.removeEventListener("click",u),n.close()},c=function(){n.removeEventListener("close",l),a.removeEventListener("click",c),n.close(),r.success(s&&s.value)};return n.addEventListener("close",l),o.addEventListener("click",u),a&&a.addEventListener("click",c),s&&(s.value=i),e.textContent=t,n.showModal(),r}})},qq.UiEventHandler=function(e,t){"use strict";function i(e){n.attach(e,s.eventType,function(e){var t=(e=e||window.event).target||e.srcElement;s.onHandled(t,e)})}var n=new qq.DisposeSupport,s={eventType:"click",attachTo:null,onHandled:function(e,t){}};qq.extend(this,{addHandler:function(e){i(e)},dispose:function(){n.dispose()}}),qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return n}}),qq.extend(s,e),s.attachTo&&i(s.attachTo)},qq.FileButtonsClickHandler=function(e){"use strict";var s={templating:null,log:function(e,t){},onDeleteFile:function(e){},onCancel:function(e){},onRetry:function(e){},onPause:function(e){},onContinue:function(e){},onGetName:function(e){}},t={cancel:function(e){s.onCancel(e)},retry:function(e){s.onRetry(e)},deleteButton:function(e){s.onDeleteFile(e)},pause:function(e){s.onPause(e)},continueButton:function(e){s.onContinue(e)}};qq.extend(s,e),s.eventType="click",s.onHandled=function(i,n){qq.each(t,function(e,t){var e=e.charAt(0).toUpperCase()+e.slice(1);if(s.templating["is"+e](i))return e=s.templating.getFileId(i),qq.preventDefault(n),s.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",s.onGetName(e),e)),t(e),!1})},s.attachTo=s.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(s,{}))},qq.FilenameClickHandler=function(e){"use strict";var n={},s={templating:null,log:function(e,t){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(e){},onGetName:function(e){}};qq.extend(s,e),s.eventType="click",s.onHandled=function(e,t){var i;(s.templating.isFileName(e)||s.templating.isEditIcon(e))&&(i=s.templating.getFileId(e),s.onGetUploadStatus(i)===qq.status.SUBMITTED&&(s.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",s.onGetName(i),i)),qq.preventDefault(t),n.handleFilenameEdit(i,e,!0)))},qq.extend(this,new qq.FilenameEditHandler(s,n))},qq.FilenameInputFocusInHandler=function(e,n){"use strict";var s={templating:null,onGetUploadStatus:function(e){},log:function(e,t){}};n=n||{},s.eventType="focusin",s.onHandled=function(e,t){var i;s.templating.isEditInput(e)&&(i=s.templating.getFileId(e),s.onGetUploadStatus(i)===qq.status.SUBMITTED&&(s.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",s.onGetName(i),i)),n.handleFilenameEdit(i,e)))},qq.extend(s,e),qq.extend(this,new qq.FilenameEditHandler(s,n))},qq.FilenameInputFocusHandler=function(e){"use strict";e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))},qq.FilenameEditHandler=function(e,c){"use strict";function d(e,t){var i=e.value;void 0!==i&&0<qq.trimStr(i).length&&(e=t,e=h.onGetName(t),e=qq.getExtension(e),h.onSetName(t,i=void 0!==e?i+"."+e:i)),h.onEditingStatusChange(t,!1)}var h={templating:null,log:function(e,t){},onGetUploadStatus:function(e){},onGetName:function(e){},onSetName:function(e,t){},onEditingStatusChange:function(e,t){}};qq.extend(h,e),h.attachTo=h.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(h,c)),qq.extend(c,{handleFilenameEdit:function(e,t,i){var n,s,o,a,r,l,u=h.templating.getEditInput(e);h.onEditingStatusChange(e,!0),u.value=(r=e,l=h.onGetName(r),l=0<(r=l.lastIndexOf("."))?l.substr(0,r):l),i&&u.focus(),o=u,a=e,c.getDisposeSupport().attach(o,"blur",function(){d(o,a)}),n=u,s=e,c.getDisposeSupport().attach(n,"keyup",function(e){13===(e.keyCode||e.which)&&d(n,s)})}})},function(){"use strict";qq.s3.FineUploader=function(e){var t={failedUploadTextDisplay:{mode:"custom"}};qq.extend(t,e,!0),qq.FineUploader.call(this,t,"s3"),qq.supportedFeatures.ajaxUploading||void 0!==t.iframeSupport.localBlankPagePath||(this._options.element.innerHTML="<div>You MUST set the <code>localBlankPagePath</code> property of the <code>iframeSupport</code> option since this browser does not support the File API!</div>")},qq.extend(qq.s3.FineUploader.prototype,qq.s3.FineUploaderBasic.prototype),qq.extend(qq.s3.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.s3.FineUploader.prototype,qq.uiPrivateApi)}()}(window,window);